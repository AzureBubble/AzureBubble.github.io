<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FomalhautğŸ¥</title>
  
  
  <link href="https://azzurebubble.github.io/atom.xml" rel="self"/>
  
  <link href="https://azzurebubble.github.io/"/>
  <updated>2024-07-16T14:32:14.925Z</updated>
  <id>https://azzurebubble.github.io/</id>
  
  <author>
    <name>Rock</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>UGUIæºç è§£æâ€”â€”CanvasUpdateRegistry</title>
    <link href="https://azzurebubble.github.io/posts/6dcd3730.html"/>
    <id>https://azzurebubble.github.io/posts/6dcd3730.html</id>
    <published>2024-07-16T14:27:22.000Z</published>
    <updated>2024-07-16T14:32:14.925Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>CanvasUpdateï¼šç”¨äºæè¿°åœ¨Canvasæ›´æ–°è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„ä¸åŒé˜¶æ®µ</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> CanvasUpdate</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¸ƒå±€æ›´æ–°ä¹‹å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    Prelayout = <span class="number">0</span>,</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¸ƒå±€æ›´æ–°æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    Layout = <span class="number">1</span>,</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¸ƒå±€æ›´æ–°ä¹‹åè°ƒç”¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    PostLayout = <span class="number">2</span>,</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸²æŸ“ä¹‹å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    PreRender = <span class="number">3</span>,</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸²æŸ“ä¹‹å‰å®Œæˆåè°ƒç”¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    LatePreRender = <span class="number">4</span>,</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¡¨ç¤ºæšä¸¾çš„èŒƒå›´ï¼Œè¾¹ç•Œæ£€æµ‹æˆ–è€…è¿­ä»£</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    MaxUpdateValue = <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ICanvasElementï¼šå›¾åƒã€å¸ƒå±€é‡å»ºæ¥å£ã€‚å‡ ä¹æ‰€æœ‰UIå¯¹è±¡éƒ½ç»§æ‰¿è‡ªICanvasElementæ¥å£ï¼Œä¸€ä¸ªUIå¯¹è±¡è‹¥è¦é‡å»ºéƒ½éœ€è¦ç»§æ‰¿è‡ªICanvasElementæ¥å£ã€‚</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICanvasElement</span></span><br><span class="line"> &#123;</span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> é‡æ„æ–¹æ³•ï¼Œéœ€è¦åœ¨ç»§æ‰¿ç±»ä¸­å®ç°ï¼ŒGraphicå’ŒLayoutRebuilderç»§æ‰¿äº†æ­¤æ¥å£</span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;executing&quot;&gt;</span>æ­£åœ¨é‡å»ºçš„å½“å‰çš„CanvasUpdateé˜¶æ®µ<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">Rebuild</span>(<span class="params">CanvasUpdate executing</span>)</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> æ¯ä¸ªUIéƒ½ç»§æ‰¿è‡ªUIBehaviourç±»ï¼ŒUIBehaviourç»§æ‰¿è‡ªMonoBehaviourï¼ŒMonoBehaviourç»§æ‰¿è‡ªComponentç±»ï¼Œè€ŒComponentç±»å®ç°äº†transformå±æ€§ï¼Œæ‰€ä»¥å­ç±»å¯ä»¥ä¸å†å®ç°è¿™ä¸ªå±æ€§</span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">     Transform transform &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> å¸ƒå±€å®Œæˆçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">LayoutComplete</span>()</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> å›¾åƒæ›´æ–°å®Œæˆçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">     <span class="function"><span class="keyword">void</span> <span class="title">GraphicUpdateComplete</span>()</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> è·å–UIå¯¹è±¡æ˜¯å¦é”€æ¯</span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">     <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">     <span class="function"><span class="built_in">bool</span> <span class="title">IsDestroyed</span>()</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><blockquote><p>CanvasUpdateRegistryï¼šæ˜¯ä¸€ä¸ªå•ä¾‹ï¼Œå®ƒç›‘å¬äº†Canvaså³å°†æ¸²æŸ“çš„äº‹ä»¶ï¼Œå¹¶è°ƒç”¨å·²æ³¨å†Œå¯¹è±¡çš„Rebuildã€LayoutCompleteã€GraphicUpdateCompleteæ–¹æ³•ï¼Œ<font color=red>è€Œå…¶ä¸­çš„Rebuildæ–¹æ³•å°±æ˜¯æ¯ä¸ªUIå…ƒç´ çš„åˆ·æ–°æ–¹æ³•ã€‚</font></p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•ä¾‹è·å–</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> CanvasUpdateRegistry s_Instance;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> CanvasUpdateRegistry instance</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">get</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s_Instance == <span class="literal">null</span>)</span><br><span class="line">            s_Instance = <span class="keyword">new</span> CanvasUpdateRegistry();</span><br><span class="line">        <span class="keyword">return</span> s_Instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°ï¼šç»™Canvasçš„é™æ€äº‹ä»¶willRenderCanvasesæ³¨å†Œä¸€ä¸ªåä¸ºPerformUpdateçš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">// (willRenderCanvasesæ¯å¸§åœ¨Canvasæ¸²æŸ“å‰æ‰§è¡Œ)ï¼ŒPerformUpdateä¸­è°ƒç”¨äº†å¸ƒå±€å’Œå›¾åƒçš„æ›´æ–°</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="title">CanvasUpdateRegistry</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Canvas.willRenderCanvases += PerformUpdate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ä¸ªæ ‡è®°æ˜¯å¦åœ¨è¿›è¡Œå¸ƒå±€æˆ–å›¾åƒæ›´æ–°çš„å­—æ®µ</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">bool</span> m_PerformingLayoutUpdate;</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">bool</span> m_PerformingGraphicUpdate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨äºåœ¨æ€§èƒ½åˆ†æå™¨ä¸­è¯†åˆ«å’Œè®°å½•Canvasæ›´æ–°è¿‡ç¨‹ä¸­çš„ä¸åŒé˜¶æ®µçš„æ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">string</span>[] m_CanvasUpdateProfilerStrings = <span class="keyword">new</span> <span class="built_in">string</span>[] &#123; <span class="string">&quot;CanvasUpdate.Prelayout&quot;</span>, <span class="string">&quot;CanvasUpdate.Layout&quot;</span>, <span class="string">&quot;CanvasUpdate.PostLayout&quot;</span>, <span class="string">&quot;CanvasUpdate.PreRender&quot;</span>, <span class="string">&quot;CanvasUpdate.LatePreRender&quot;</span> &#125;;</span><br><span class="line"><span class="comment">// ç”¨äºåœ¨æ€§èƒ½åˆ†æå™¨æˆ–è°ƒè¯•å™¨ä¸­æ ‡è¯†å‰ªåˆ‡å™¨æ³¨å†Œè¡¨ä¸­æ‰§è¡Œè£å‰ªçš„æ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">string</span> m_CullingUpdateProfilerString = <span class="string">&quot;ClipperRegistry.Cull&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸ƒå±€é‡å»ºåºåˆ—å’Œå›¾åƒé‡å»ºåºåˆ—</span></span><br><span class="line"><span class="comment">// å½“éœ€è¦æ›´æ–°å¸ƒå±€æˆ–å›¾åƒæ—¶ï¼Œå¯ä»¥è°ƒç”¨RegisterCanvasElementForLayoutRebuildå’Œ</span></span><br><span class="line"><span class="comment">// RegisterCanvasElementForGraphicRebuildä¸¤ä¸ªæ–¹æ³•å°†å¯¹è±¡æ·»åŠ åˆ°å¯¹åº”çš„é‡å»ºåºåˆ—ä¸­</span></span><br><span class="line"><span class="comment">// PerformUpdateæ–¹æ³•ä¼šè°ƒç”¨Rebuildæ–¹æ³•å¯¹è¿™ä¸¤ä¸ªåºåˆ—ä¸­ä¸­çš„å¯¹è±¡è¿›è¡Œæ›´æ–°æ“ä½œ</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> IndexedSet&lt;ICanvasElement&gt; m_LayoutRebuildQueue = <span class="keyword">new</span> IndexedSet&lt;ICanvasElement&gt;();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> IndexedSet&lt;ICanvasElement&gt; m_GraphicRebuildQueue = <span class="keyword">new</span> IndexedSet&lt;ICanvasElement&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æŒ‡å®šçš„Canvaså…ƒç´ æ˜¯å¦æ˜¯Unityçš„Objectï¼Œæ˜¯å¦å¯ä»¥è¿›è¡Œæœ‰æ•ˆæ›´æ–°</span></span><br><span class="line"><span class="comment">// Objectæ˜¯Unityæ‰€æœ‰å¯¹è±¡çš„åŸºç±»ï¼Œobjectæ˜¯C#ä¸­æ‰€æœ‰å¯¹è±¡çš„åŸºç±»</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">ObjectValidForUpdate</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> valid = element != <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isUnityObject = element <span class="keyword">is</span> Object;</span><br><span class="line">    <span class="keyword">if</span> (isUnityObject)</span><br><span class="line">        valid = (element <span class="keyword">as</span> Object) != <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> valid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç†ä¸¤ä¸ªé˜Ÿåˆ—ä¸­çš„æ— æ•ˆå…ƒç´ </span></span><br><span class="line"><span class="comment">// MonoBehaviourå¯¹ç©ºå€¼ç›¸ç­‰æ€§é‡è½½äº†==æ“ä½œç¬¦ï¼Œç”¨äºæ£€æŸ¥ä»–ä»¬æ˜¯å¦è¢«é”€æ¯</span></span><br><span class="line"><span class="comment">// è¿™æ®µä»£ç ä¸­å¤„ç†çš„æ˜¯ä¸€ä¸ªICanvasElementæ¥å£ç±»å‹çš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯å…·ä½“çš„MonoBehaviourç±»å‹</span></span><br><span class="line"><span class="comment">// å› æ­¤ç›´æ¥ä½¿ç”¨==æ“ä½œç¬¦ä¸èƒ½ç›´æ¥è½¬å‘åˆ°MonoBehaviourï¼Œè€Œåªæ˜¯æ£€æŸ¥æ¥å£æœ¬èº«æ˜¯å¦ä¸ºnull</span></span><br><span class="line"><span class="comment">// IsDestroyed()æ–¹æ³•ç”¨äºæ£€æŸ¥å…ƒç´ çš„åç«¯æ˜¯å¦è¢«é”€æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">CleanInvalidItems</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> layoutRebuildQueueCount = m_LayoutRebuildQueue.Count;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = layoutRebuildQueueCount - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> item = m_LayoutRebuildQueue[i];</span><br><span class="line">        <span class="comment">// å…ƒç´ æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span> (item == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_LayoutRebuildQueue.RemoveAt(i);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…ƒç´ æ˜¯å¦è¢«é”€æ¯</span></span><br><span class="line">        <span class="keyword">if</span> (item.IsDestroyed())</span><br><span class="line">        &#123;</span><br><span class="line">            m_LayoutRebuildQueue.RemoveAt(i);</span><br><span class="line">            item.LayoutComplete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> graphicRebuildQueueCount = m_GraphicRebuildQueue.Count;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = graphicRebuildQueueCount - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> item = m_GraphicRebuildQueue[i];</span><br><span class="line">        <span class="keyword">if</span> (item == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_GraphicRebuildQueue.RemoveAt(i);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (item.IsDestroyed())</span><br><span class="line">        &#123;</span><br><span class="line">            m_GraphicRebuildQueue.RemoveAt(i);</span><br><span class="line">            item.GraphicUpdateComplete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—æŒ‡å®šTransformå¯¹è±¡çš„çˆ¶çº§å±‚çº§æ•°ç›®</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">ParentCount</span>(<span class="params">Transform child</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (child == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> parent = child.parent;</span><br><span class="line">    <span class="built_in">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (parent != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        count++;</span><br><span class="line">        parent = parent.parent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„ç¥–å…ˆå±‚çº§æ·±åº¦ï¼Œç¥–å…ˆå±‚çº§æ·±åº¦è¶Šæ·±ï¼Œåˆ™æ’åœ¨åˆ—è¡¨çš„æ›´åé¢</span></span><br><span class="line"><span class="comment">// å†³å®šå…ƒç´ çš„å¸ƒå±€å’Œå›¾åƒé‡å»ºé¡ºåº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">SortLayoutList</span>(<span class="params">ICanvasElement x, ICanvasElement y</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Transform t1 = x.transform;</span><br><span class="line">    Transform t2 = y.transform;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ParentCount(t1) - ParentCount(t2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ä¸€ä¸ªCanvaså…ƒç´ æ³¨å†Œåˆ°å¸ƒå±€é‡å»ºé˜Ÿåˆ—ä¸­ï¼Œä¸€ä¸ªå¸¦è¿”å›å€¼ä¸€ä¸ªä¸å¸¦è¿”å›å€¼æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterCanvasElementForLayoutRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    instance.InternalRegisterCanvasElementForLayoutRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">TryRegisterCanvasElementForLayoutRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.InternalRegisterCanvasElementForLayoutRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">InternalRegisterCanvasElementForLayoutRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨å¸ƒå±€é‡å»ºé˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (m_LayoutRebuildQueue.Contains(element))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">// å‘å¸ƒå±€é‡å»ºé˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œç¡®ä¿ä¸ä¼šé‡å¤æ·»åŠ </span></span><br><span class="line">    <span class="keyword">return</span> m_LayoutRebuildQueue.AddUnique(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ä¸€ä¸ªCanvaså…ƒç´ æ³¨å†Œåˆ°å›¾åƒé‡å»ºé˜Ÿåˆ—ä¸­ï¼Œä¸€ä¸ªå¸¦è¿”å›å€¼ä¸€ä¸ªä¸å¸¦è¿”å›å€¼æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterCanvasElementForGraphicRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    instance.InternalRegisterCanvasElementForGraphicRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">TryRegisterCanvasElementForGraphicRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.InternalRegisterCanvasElementForGraphicRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">bool</span> <span class="title">InternalRegisterCanvasElementForGraphicRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦æ­£åœ¨è¿›è¡Œå›¾åƒé‡å»ºæ›´æ–°æ“ä½œï¼Œæ˜¯çš„è¯å°†ä¸ä¼šå°†å…ƒç´ æ·»åŠ åˆ°å›¾åƒé‡å»ºé˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (m_PerformingGraphicUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="built_in">string</span>.Format(<span class="string">&quot;Trying to add &#123;0&#125; for graphic rebuild while we are already inside a graphic rebuild loop. This is not supported.&quot;</span>, element));</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// å‘å›¾åƒé‡å»ºé˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ ï¼Œç¡®ä¿ä¸ä¼šé‡å¤æ·»åŠ </span></span><br><span class="line">    <span class="keyword">return</span> m_GraphicRebuildQueue.AddUnique(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å¸ƒå±€å’Œé‡å»ºçš„é˜Ÿåˆ—ä¸­ç§»é™¤æŒ‡å®šçš„Canvaså…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UnRegisterCanvasElementForRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    instance.InternalUnRegisterCanvasElementForLayoutRebuild(element);</span><br><span class="line">    instance.InternalUnRegisterCanvasElementForGraphicRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InternalUnRegisterCanvasElementForLayoutRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ­£åœ¨è¿›è¡Œå¸ƒå±€é‡å»ºæ›´æ–°æ“ä½œï¼Œå°†ä¸ä¼šç§»é™¤æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (m_PerformingLayoutUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="built_in">string</span>.Format(<span class="string">&quot;Trying to remove &#123;0&#125; from rebuild list while we are already inside a rebuild loop. This is not supported.&quot;</span>, element));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨å…ƒç´ çš„å¸ƒå±€é‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">    element.LayoutComplete();</span><br><span class="line">    <span class="comment">// ä»å¸ƒå±€é‡å»ºé˜Ÿåˆ—ä¸­ç§»é™¤å…ƒç´ </span></span><br><span class="line">    instance.m_LayoutRebuildQueue.Remove(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InternalUnRegisterCanvasElementForGraphicRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ­£åœ¨è¿›è¡Œå›¾åƒé‡å»ºæ›´æ–°æ“ä½œï¼Œå°†ä¸ä¼šç§»é™¤æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (m_PerformingGraphicUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="built_in">string</span>.Format(<span class="string">&quot;Trying to remove &#123;0&#125; from rebuild list while we are already inside a rebuild loop. This is not supported.&quot;</span>, element));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å…ƒç´ çš„å›¾åƒé‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">    element.GraphicUpdateComplete();</span><br><span class="line">    <span class="comment">// ä»å›¾åƒé‡å»ºé˜Ÿåˆ—ä¸­ç§»é™¤å…ƒç´ </span></span><br><span class="line">    instance.m_GraphicRebuildQueue.Remove(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å¸ƒå±€å’Œé‡å»ºçš„é˜Ÿåˆ—ä¸­ç¦ç”¨æŒ‡å®šçš„Canvaså…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DisableCanvasElementForRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    instance.InternalDisableCanvasElementForLayoutRebuild(element);</span><br><span class="line">    instance.InternalDisableCanvasElementForGraphicRebuild(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InternalDisableCanvasElementForLayoutRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ­£åœ¨è¿›è¡Œå¸ƒå±€é‡å»ºæ›´æ–°æ“ä½œï¼Œå°†ä¸ä¼šç¦ç”¨æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (m_PerformingLayoutUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="built_in">string</span>.Format(<span class="string">&quot;Trying to remove &#123;0&#125; from rebuild list while we are already inside a rebuild loop. This is not supported.&quot;</span>, element));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨å…ƒç´ çš„å¸ƒå±€é‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">    element.LayoutComplete();</span><br><span class="line">    <span class="comment">// ç¦ç”¨æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    instance.m_LayoutRebuildQueue.DisableItem(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InternalDisableCanvasElementForGraphicRebuild</span>(<span class="params">ICanvasElement element</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæ­£åœ¨è¿›è¡Œå›¾åƒé‡å»ºæ›´æ–°æ“ä½œï¼Œå°†ä¸ä¼šç¦ç”¨æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    <span class="keyword">if</span> (m_PerformingGraphicUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.LogError(<span class="built_in">string</span>.Format(<span class="string">&quot;Trying to remove &#123;0&#125; from rebuild list while we are already inside a rebuild loop. This is not supported.&quot;</span>, element));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å…ƒç´ çš„å›¾åƒé‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">    element.GraphicUpdateComplete();</span><br><span class="line">    <span class="comment">// ç¦ç”¨æŒ‡å®šå…ƒç´ </span></span><br><span class="line">    instance.m_GraphicRebuildQueue.DisableItem(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“å‰æ˜¯å¦æ­£åœ¨è®¡ç®—å›¾å½¢å¸ƒå±€</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">IsRebuildingLayout</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.m_PerformingLayoutUpdate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å½“å‰æ˜¯å¦æ­£åœ¨é‡å»ºå›¾å½¢</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">IsRebuildingGraphics</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.m_PerformingGraphicUpdate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¥ä¸‹æ¥ç€é‡åˆ†æCanvasUpdateRegistryä¸­çš„PerformUpdateæ–¹æ³•çš„å†…éƒ¨å®ç°å’Œæ‰§è¡Œé¡ºåºã€‚<font color=red>å¯ä»¥åœ¨Profilerä¸­é€šè¿‡æŸ¥çœ‹æ ‡å¿—æ€§å‡½æ•°Canvas.willRenderCanvasesçš„è€—æ—¶ï¼Œæ¥äº†è§£é‡å»ºçš„æ€§èƒ½æ¶ˆè€—</font></p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ˆå®šä¹‰ä¸€ä¸ªé™æ€åªè¯»çš„æ¯”è¾ƒå‡½æ•°å§”æ‰˜</span></span><br><span class="line"><span class="comment">// Comparison&lt;T&gt;æ˜¯C#å·²ç»é¢„å®šä¹‰å¥½çš„ä¸€ä¸ªç”¨äºæ¯”è¾ƒä¸¤ä¸ªç±»å‹ä¸ºTçš„å¯¹è±¡å¹¶è¿”å›æ•´æ•°çš„å§”æ‰˜</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Comparison&lt;ICanvasElement&gt; s_SortLayoutFunction = SortLayoutList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">PerformUpdate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ç”¨äºåœ¨ä»£ç å—å¼€å§‹å’Œç»“æŸæ—¶è®°å½•æ€§èƒ½æ ·æœ¬ï¼Œç›‘æµ‹å¸ƒå±€æ›´æ–°çš„æ€§èƒ½</span></span><br><span class="line">    UISystemProfilerApi.BeginSample(UISystemProfilerApi.SampleType.Layout);</span><br><span class="line">    <span class="comment">// æ¸…ç†æ— æ•ˆçš„å…ƒç´ æˆ–æ•°æ®</span></span><br><span class="line">    CleanInvalidItems();</span><br><span class="line"><span class="comment">// æ ‡è®°æ­£åœ¨è¿›è¡Œå¸ƒå±€æ›´æ–°æ“ä½œ</span></span><br><span class="line">    m_PerformingLayoutUpdate = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// å¯¹å¸ƒå±€é‡å»ºé˜Ÿåˆ—ä¸­çš„å…ƒç´ è¿›è¡Œæ’åº</span></span><br><span class="line">    m_LayoutRebuildQueue.Sort(s_SortLayoutFunction);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt;= (<span class="built_in">int</span>)CanvasUpdate.PostLayout; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æ ‡è®°æ¯ä¸€ä¸ªå…ƒç´ çš„æ€§èƒ½åˆ†æ</span></span><br><span class="line">        UnityEngine.Profiling.Profiler.BeginSample(m_CanvasUpdateProfilerStrings[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; m_LayoutRebuildQueue.Count; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> rebuild = m_LayoutRebuildQueue[j];</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯æœ‰æ•ˆå…ƒç´ </span></span><br><span class="line">                <span class="comment">// å¯¹å¸ƒå±€é‡å»ºåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡ŒCanvasUpdateçš„æ¯ä¸ªé˜¶æ®µæ›´æ–°</span></span><br><span class="line">                <span class="keyword">if</span> (ObjectValidForUpdate(rebuild))</span><br><span class="line">                    rebuild.Rebuild((CanvasUpdate)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                Debug.LogException(e, rebuild.transform);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        UnityEngine.Profiling.Profiler.EndSample();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; m_LayoutRebuildQueue.Count; ++i)</span><br><span class="line">        <span class="comment">// è°ƒç”¨å¸ƒå±€é‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">        m_LayoutRebuildQueue[i].LayoutComplete();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¸…ç©ºå¸ƒå±€é‡å»ºåˆ—è¡¨ï¼Œå¹¶ä¿®æ”¹å¸ƒå±€é‡å»ºæ ‡å¿—ä¸ºfalse</span></span><br><span class="line">    m_LayoutRebuildQueue.Clear();</span><br><span class="line">    m_PerformingLayoutUpdate = <span class="literal">false</span>;</span><br><span class="line">    UISystemProfilerApi.EndSample(UISystemProfilerApi.SampleType.Layout);</span><br><span class="line">    UISystemProfilerApi.BeginSample(UISystemProfilerApi.SampleType.Render);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// now layout is complete do culling...</span></span><br><span class="line">    UnityEngine.Profiling.Profiler.BeginSample(m_CullingUpdateProfilerString);</span><br><span class="line">    <span class="comment">// æ‰§è¡Œå®é™…çš„è£å‰ªæ“ä½œ</span></span><br><span class="line">    ClipperRegistry.instance.Cull();</span><br><span class="line">    UnityEngine.Profiling.Profiler.EndSample();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°æ­£åœ¨è¿›è¡Œå›¾åƒæ›´æ–°æ“ä½œ</span></span><br><span class="line">    m_PerformingGraphicUpdate = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = (<span class="built_in">int</span>)CanvasUpdate.PreRender; i &lt; (<span class="built_in">int</span>)CanvasUpdate.MaxUpdateValue; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        UnityEngine.Profiling.Profiler.BeginSample(m_CanvasUpdateProfilerStrings[i]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; m_GraphicRebuildQueue.Count; k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">var</span> element = m_GraphicRebuildQueue[k];</span><br><span class="line">                <span class="comment">// åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯æœ‰æ•ˆå…ƒç´ </span></span><br><span class="line">                <span class="comment">// å¯¹å¸ƒå±€é‡å»ºåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡ŒCanvasUpdateçš„æ¯ä¸ªé˜¶æ®µæ›´æ–°</span></span><br><span class="line">                <span class="keyword">if</span> (ObjectValidForUpdate(element))</span><br><span class="line">                    element.Rebuild((CanvasUpdate)i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                Debug.LogException(e, m_GraphicRebuildQueue[k].transform);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        UnityEngine.Profiling.Profiler.EndSample();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; m_GraphicRebuildQueue.Count; ++i)</span><br><span class="line">        <span class="comment">// è°ƒç”¨å›¾åƒé‡å»ºå®Œæˆå‡½æ•°</span></span><br><span class="line">        m_GraphicRebuildQueue[i].GraphicUpdateComplete();</span><br><span class="line"><span class="comment">// æ¸…ç©ºå›¾åƒé‡å»ºåºåˆ— å¹¶ä¿®æ”¹å›¾åƒé‡å»ºæ ‡å¿—ä¸ºfalse</span></span><br><span class="line">    m_GraphicRebuildQueue.Clear();</span><br><span class="line">    m_PerformingGraphicUpdate = <span class="literal">false</span>;</span><br><span class="line">    UISystemProfilerApi.EndSample(UISystemProfilerApi.SampleType.Render);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">å›¾åƒã€å¸ƒå±€é‡å»ºæ³¨å†Œå™¨</summary>
    
    
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/categories/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/tags/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>UGUIæºç è§£æâ€”â€”UIBehaviour</title>
    <link href="https://azzurebubble.github.io/posts/45311df6.html"/>
    <id>https://azzurebubble.github.io/posts/45311df6.html</id>
    <published>2024-07-15T15:07:52.000Z</published>
    <updated>2024-07-16T14:32:24.539Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>UIBehaviourï¼šæ˜¯æ‰€æœ‰UIç»„ä»¶çš„åŸºç±»ï¼ŒUIç»„ä»¶éƒ½æ˜¯ç›´æ¥æˆ–è€…é—´æ¥ç»§æ‰¿UIBehaviourè¿™ä¸ªæŠ½è±¡ç±»ï¼Œ<font color=red>å®ƒç»§æ‰¿è‡ªMonoBehaviourï¼Œæ‰€ä»¥æ‹¥æœ‰å’ŒUnityç›¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚</font></p></blockquote><h4 id="æºç è§£æ">æºç è§£æ</h4><blockquote><p>åªä¼šåœ¨ç‰©ä½“åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ ï¼Œä¸Mono Awakeè°ƒç”¨æ—¶æœºå’Œæ¬¡æ•°ä¿æŒä¸€è‡´</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç‰©ä½“æ˜¾ç¤ºæ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œä¸Mono OnEnableä¸€è‡´</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnEnable</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç‰©ä½“ç¬¬ä¸€æ¬¡æ¿€æ´»æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œåœ¨Awakeä¹‹åï¼Œç¬¬ä¸€å¸§Updateä¹‹å‰æ‰§è¡Œï¼Œä¸Mono Startä¸€è‡´</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Start</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç‰©ä½“éšè—æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œä¸Mono OnDisable ä¸€è‡´</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDisable</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨å½“å‰ç•Œé¢è¢«é”€æ¯æ—¶è°ƒç”¨ä¸€æ¬¡ï¼Œä¸Mono Destroyä¸€è‡´</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDestroy</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç¼–è¾‘å™¨æ¨¡å¼ä¸‹ï¼šå½“è„šæœ¬è¢«åŠ è½½(ç¦ç”¨æˆ–å¯ç”¨)æˆ–è€…Inspectorçª—å£çš„å€¼å‡ºç°å˜åŒ–çš„æ—¶å€™ä¼šè¢«è°ƒç”¨ï¼Œä½¿ç”¨æ—¶æ·»åŠ #if UNITY_EDITOR</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnValidate</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ç¼–è¾‘å™¨æ¨¡å¼ä¸‹ï¼šå½“è„šæœ¬æ¢å¤é»˜è®¤å€¼æ—¶è°ƒç”¨ï¼Œä½¿ç”¨æ—¶æ·»åŠ #if UNITY_EDITOR</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Reset</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“RectTransformå˜åŒ–æ—¶å€™è°ƒç”¨ï¼ŒAnchorsã€Pivotã€Widthã€Heightå˜åŒ–æ—¶è°ƒç”¨ï¼ŒTransformã€Rotationã€Scaleå˜åŒ–æ—¶ä¸è°ƒç”¨</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnRectTransformDimensionsChange</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨çˆ¶ç‰©ä½“å˜åŒ–ä¹‹å‰è°ƒç”¨</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnBeforeTransformParentChanged</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨çˆ¶ç‰©ä½“å˜åŒ–ä¹‹åè°ƒç”¨</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnTransformParentChanged</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨CanvasçŠ¶æ€å˜åŒ–æ—¶è°ƒç”¨ï¼Œæ¯”å¦‚ç¦ç”¨Canvasç»„ä»¶</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnDidApplyAnimationProperties</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨Canvas Groupå˜åŒ–æ—¶è°ƒç”¨</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnCanvasGroupChanged</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å½“åº”ç”¨åŠ¨ç”»å±æ€§æ—¶è°ƒç”¨</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnCanvasHierarchyChanged</span>()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è·å–GameObjectå’ŒComponentæ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">IsActive</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> isActiveAndEnabled;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è·å–GameObjectå’ŒComponentæ˜¯å¦è¢«é”€æ¯</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsDestroyed</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> == <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">UIç»„ä»¶çš„åŸºç±»ï¼Œç»§æ‰¿MonoBehaviour</summary>
    
    
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/categories/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/tags/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>UGUIæºç è§£æâ€”â€”ç›®å½•</title>
    <link href="https://azzurebubble.github.io/posts/42c102bd.html"/>
    <id>https://azzurebubble.github.io/posts/42c102bd.html</id>
    <published>2024-07-05T03:33:56.000Z</published>
    <updated>2024-07-16T14:37:25.055Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://azurebubble.github.io/posts/45311df6.html"><strong>UGUIæºç è§£æâ€”â€”UIBehaviour</strong></a></p><blockquote><p>UIBehaviourï¼šUIç»„ä»¶çš„åŸºç±»ï¼Œç»§æ‰¿MonoBehaviour</p></blockquote><p><a href="https://azurebubble.github.io/posts/6dcd3730.html"><strong>UGUIæºç è§£æâ€”â€”CanvasUpdateRegistry</strong></a></p><blockquote><p>CanvasUpdateRegistryï¼šå›¾åƒã€å¸ƒå±€é‡å»ºæ³¨å†Œå™¨</p></blockquote>]]></content>
    
    
    <summary type="html">è¿™æ˜¯ä¸€ç¯‡é˜…è¯»åˆ†æUGUIæºç çš„æ–‡ç« åˆ†äº«ï¼Œæ¬¢è¿å¤§ä½¬æŒ‡æ­£ï¼Œä¸€èµ·å­¦ä¹ </summary>
    
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/C/"/>
    
    <category term="å­¦ä¹ " scheme="https://azzurebubble.github.io/categories/C/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/categories/C/%E5%AD%A6%E4%B9%A0/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
    
    <category term="UGUIæºç è§£æ" scheme="https://azzurebubble.github.io/tags/UGUI%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
    <category term="Unity3D" scheme="https://azzurebubble.github.io/tags/Unity3D/"/>
    
  </entry>
  
  <entry>
    <title>Untiyæ¸¸æˆæ¡†æ¶QZGameFramework</title>
    <link href="https://azzurebubble.github.io/posts/3e60956b.html"/>
    <id>https://azzurebubble.github.io/posts/3e60956b.html</id>
    <published>2024-01-06T10:13:46.000Z</published>
    <updated>2024-07-05T03:39:10.984Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ¡†æ¶ä»“åº“é“¾æ¥â€”â€”ã€ŠQZGameFrameworkã€‹">æ¡†æ¶ä»“åº“é“¾æ¥â€”â€”<a href="https://github.com/AzureBubble/QZGameFramework"><strong>ã€ŠQZGameFrameworkã€‹</strong></a></h3><blockquote><p>æœ¬æ¡†æ¶çš„åŸºç¡€æ˜¯åœ¨æœ¬äººå‚åŠ å¤šä¸ªé¡¹ç›®ï¼Œå¹¶ä¸”æŸ¥é˜…ç§¯ç´¯äº†å„ç±»ä¼˜ç§€ä»£ç åï¼Œè‡ªå·±æ€»ç»“ä¼˜åŒ–çš„ä¸€ä¸ªè¾ƒä¸ºé€šç”¨ä¸”æ˜“ç”¨çš„ç®€æ˜“æ¸¸æˆæ¡†æ¶ï¼Œå¹¶ä¼šåœ¨æœªæ¥è‡ªæˆ‘èƒ½åŠ›æå‡çš„åŒæ—¶ç»§ç»­ä¼˜åŒ–æ›´æ–°æ­¤æ¡†æ¶ï¼Œç›®æ ‡æ˜¯ä¸€ä¸ªé€‚ç”¨äºæ–°æ‰‹å…¥é—¨å’Œä¸­å°å…¬å¸èŠ‚çº¦æˆæœ¬çš„å‰æä¸‹çš„æ¶µç›–å‰åç«¯Unityæ¸¸æˆæ¡†æ¶(ç›®å‰åç«¯æœåŠ¡å™¨è¿˜åœ¨å­¦ä¹ ä¸­â€¦)ã€‚</p></blockquote><h3 id="Unity-Editor-ç¼–è¾‘å™¨å·¥å…·">Unity Editor ç¼–è¾‘å™¨å·¥å…·</h3><blockquote><p>æœ¬æ¡†æ¶ä¸­çš„å·¥å…·æ˜¯åŸåˆ›+é­”æ”¹å®ç°çš„ã€‚</p></blockquote><h4 id="ExcelTool-â€”â€”-è¯»å–-Excel-é…ç½®è¡¨å·¥å…·">ExcelTool â€”â€” è¯»å– Excel é…ç½®è¡¨å·¥å…·</h4><blockquote><p>ä¸»è¦åŒ…å«ä¸¤ç§è¯»è¡¨æ–¹å¼ï¼šJsonå’ŒBinaryã€‚å¯è‡ªå®šä¹‰å­˜å‚¨è·¯å¾„ã€‚</p><p>é…ç½®è¡¨è§„åˆ™<br>ç¬¬ä¸€è¡Œï¼šå­—æ®µå(å¦‚ä¿®æ”¹è§„åˆ™ï¼Œè¯·æ›´æ”¹ ExcelTool è„šæœ¬ä¸­çš„ BEGIN_VARIABLE_NAME_INDEX å˜é‡)<br>ç¬¬äºŒè¡Œï¼šå­—æ®µç±»å‹(å­—æ®µç±»å‹æ”¯æŒï¼šint,float,bool,string)<br>å¦‚éœ€å¢åŠ æ–°çš„å­—æ®µç±»å‹è¯»å†™è§„åˆ™ï¼Œè¯·åœ¨ä»»åŠ¡åˆ—è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„ä½ç½®æ·»åŠ å¯¹åº”å­—æ®µç±»å‹å¤„ç†è§„åˆ™å³å¯<br>(å¦‚ä¿®æ”¹è§„åˆ™ï¼Œè¯·æ›´æ”¹ ExcelTool è„šæœ¬ä¸­çš„ BEGIN_VARIABLE_TYPE_INDEX å˜é‡)<br>ç¬¬ä¸‰è¡Œï¼šä¸»é”®(key)ï¼Œé€šè¿‡keyæ¥æ ‡è¯†å”¯ä¸€ä¸»é”®(Jsonæ–‡ä»¶é»˜è®¤ id ä¸ºä¸»é”®ï¼Œä¸ä»¥è‡ªå®šä¹‰keyä¸ºè§„åˆ™)<br>(å¦‚ä¿®æ”¹è§„åˆ™ï¼Œè¯·æ›´æ”¹ ExcelTool è„šæœ¬ä¸­çš„ BEGIN_KEY_INDEX å˜é‡)<br>ç¬¬å››è¡Œï¼šæè¿°ä¿¡æ¯(å¯é€‰ï¼šå¢åŠ æ³¨é‡Šï¼Œä¾¿äºé˜…è¯»ç†è§£)<br>(å¦‚ä¿®æ”¹è§„åˆ™ï¼Œè¯·æ›´æ”¹ ExcelTool è„šæœ¬ä¸­çš„ BEGIN_DESCRIPTION_INDEX å˜é‡)<br>ç¬¬äº”è¡Œ~ç¬¬nè¡Œï¼šå…·ä½“æ•°æ®ä¿¡æ¯<br>Excel ä¸‹çš„è¡¨åå†³å®šæ•°æ®ç»“æ„ç±»åï¼Œå®¹å™¨ç±»åï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶å<br>(å¦‚ä¿®æ”¹è§„åˆ™ï¼Œè¯·æ›´æ”¹ ExcelTool è„šæœ¬ä¸­çš„ BEGIN_INDEX å˜é‡)</p><p>ç›®å‰åªæ”¯æŒintã€floatã€boolã€stringå››ç§æ•°æ®ç±»å‹é…ç½®è¡¨è¯»å–ï¼Œå¦‚éœ€å¢åŠ ï¼Œå¯ç›´æ¥æ‰“å¼€ExcelToolè„šæœ¬æ‰¾åˆ°TODOä»»åŠ¡åˆ—è¡¨æ·»åŠ å³å¯ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/ExcelTool1.png" alt="ExcelTool1"></p><h4 id="ABTool-â€”â€”-èµ„æºæœåŠ¡å™¨ABåŒ…ä¸Šä¼ å·¥å…·">ABTool â€”â€” èµ„æºæœåŠ¡å™¨ABåŒ…ä¸Šä¼ å·¥å…·</h4><blockquote><p>æœ¬å·¥å…·æä¾›äº†ABåŒ…ä¸€é”®ä¸Šä¼ ABèµ„æºæ–‡ä»¶åˆ°æŒ‡å®šèµ„æºæœåŠ¡å™¨ã€‚ä½¿ç”¨çš„æ˜¯MD5ç åŠ å¯†ç”Ÿæˆçš„ABåŒ…å¯¹æ¯”æ–‡ä»¶ã€‚ä¸‹è½½é…åˆä½¿ç”¨ABUpdateMgrè„šæœ¬ä½¿ç”¨å³å¯ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/ABTool1.png" alt="ABTool1"></p><h4 id="LuaTool-â€”â€”-Luaè„šæœ¬ä¸€é”®ç”Ÿæˆtxtåç¼€å¹¶ç§»åŠ¨åˆ°æŒ‡å®šABåŒ…å’Œæ–‡ä»¶å¤¹å·¥å…·">LuaTool â€”â€” Luaè„šæœ¬ä¸€é”®ç”Ÿæˆtxtåç¼€å¹¶ç§»åŠ¨åˆ°æŒ‡å®šABåŒ…å’Œæ–‡ä»¶å¤¹å·¥å…·</h4><blockquote><p>æœ¬å·¥å…·æ˜¯ä¸ºäº†æ–¹ä¾¿Luaæ–‡ä»¶çš„è¿ç§»ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/LuaTool1.png" alt="LuaTool1"></p><h4 id="DialogueTool-â€”â€”-å¯¹è¯æ ‘ç¼–è¾‘å™¨å·¥å…·">DialogueTool â€”â€” å¯¹è¯æ ‘ç¼–è¾‘å™¨å·¥å…·</h4><blockquote><p>åˆ©ç”¨æ ‘çš„ç‰¹æ€§å’ŒUIToolkitç¼–å†™çš„ä¸€ä¸ªå¯¹è¯æ ‘æ’ä»¶ï¼Œå¿«é€Ÿç¼–è¾‘å‰§æƒ…å¯¹è¯åˆ†æ”¯ã€‚å¯¹åº”çš„æ¯ä¸ªèŠ‚ç‚¹çš„å…·ä½“è¡Œä¸ºé€»è¾‘ï¼Œç»§æ‰¿é¡ºåºèŠ‚ç‚¹å’Œåˆ†æ”¯èŠ‚ç‚¹çš„åŸºç±»é‡å†™å¯¹åº”æ–¹æ³•å³å¯ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/DialogueTreeTool.png" alt="DialogueTreeTool"></p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/DialogueTreeTool1.png" alt="DialogueTreeTool"></p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/DialogueTreeTool2.png" alt="DialogueTreeTool"></p><h4 id="BehaviourTreeTool-â€”â€”-è¡Œä¸ºæ ‘ç¼–è¾‘å™¨">BehaviourTreeTool â€”â€” è¡Œä¸ºæ ‘ç¼–è¾‘å™¨</h4><blockquote><p>ä¸€ä¸ªç®€å•çš„å¯è§†åŒ–è¡Œä¸ºæ ‘ç¼–è¾‘å™¨å·¥å…·ï¼Œè‡ªå®šä¹‰èŠ‚ç‚¹ï¼Œåªéœ€è¦ç»§æ‰¿æŒ‡å®šçš„Actionç±»ï¼Œdecorationç­‰èŠ‚ç‚¹ç±»å³å¯ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/BehaviourTool1.png" alt="BehaviourTool"></p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/BehaviourTool2.png" alt="BehaviourTool"></p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/QZGameFramework/BehaviourTool3.png" alt="BehaviourTool"></p><h3 id="Unityæ¡†æ¶">Unityæ¡†æ¶</h3><h4 id="æˆå°±ç®¡ç†å™¨">æˆå°±ç®¡ç†å™¨</h4><blockquote><p>ä¸€ä¸ªç®€æ˜“çš„ä½¿ç”¨è§‚å¯Ÿè€…å®ç°çš„æˆå°±ç³»ç»Ÿï¼Œå¾…å®Œå–„ã€‚</p></blockquote><h4 id="äº‹ä»¶ä¸­å¿ƒæ¨¡å—">äº‹ä»¶ä¸­å¿ƒæ¨¡å—</h4><blockquote><p>åˆ†å‘æ¶ˆæ¯</p></blockquote><h4 id="æœ‰é™çŠ¶æ€æœºæ¨¡å—">æœ‰é™çŠ¶æ€æœºæ¨¡å—</h4><blockquote><p>é€šç”¨çš„FSMç³»ç»Ÿï¼šçŠ¶æ€åŒ…å«ä¸€ä¸ªæ•°æ®é»‘æ¿ã€‚</p></blockquote><h4 id="è¾“å…¥ç³»ç»Ÿ">è¾“å…¥ç³»ç»Ÿ</h4><blockquote><p>å‘½ä»¤æ¨¡å¼å®ç°çš„ä¸€ä¸ªæ—§è¾“å…¥ç³»ç»Ÿç›‘å¬æ“çºµã€‚</p></blockquote><h4 id="èƒŒåŒ…ç³»ç»Ÿ">èƒŒåŒ…ç³»ç»Ÿ</h4><blockquote><p>å¾…å®Œå–„</p></blockquote><h4 id="éŸ³ä¹ç®¡ç†ç³»ç»Ÿ">éŸ³ä¹ç®¡ç†ç³»ç»Ÿ</h4><blockquote><p>ç»“åˆå¯¹è±¡æ± å’Œèµ„æºåŠ è½½æ¨¡å—å®ç°çš„éŸ³ä¹ç®¡ç†å™¨</p></blockquote><h4 id="å¯¹è±¡æ± æ¨¡å—">å¯¹è±¡æ± æ¨¡å—</h4><blockquote></blockquote><h4 id="åŒ…ç®¡ç†å™¨æ¨¡å—">åŒ…ç®¡ç†å™¨æ¨¡å—</h4><h4 id="æ•°æ®æŒä¹…åŒ–æ¨¡å—">æ•°æ®æŒä¹…åŒ–æ¨¡å—</h4><h4 id="åœºæ™¯åˆ‡æ¢ç®¡ç†å™¨">åœºæ™¯åˆ‡æ¢ç®¡ç†å™¨</h4><h4 id="å•ä¾‹æ¨¡å¼ç®¡ç†å™¨">å•ä¾‹æ¨¡å¼ç®¡ç†å™¨</h4><blockquote><p>è¿™æ˜¯ä¸€ä¸ªç®¡ç†å…¨å±€æ‰€æœ‰å•ä¾‹çš„æ¨¡å—ï¼šç®¡ç†å…¨å±€æ‰€æœ‰çš„å•ä¾‹ï¼Œç›¸å¯¹äºä¼ ç»Ÿçš„å•ä¾‹æ¨¡å¼åˆ›å»ºï¼Œè¿™æ ·æ›´ä¾¿äºå¯¹å•ä¾‹çš„ç®¡ç†å’Œé”€æ¯ï¼Œä¸”å¦‚æœéœ€è¦è¿›è¡Œå¸§æ›´æ–°çš„å•ä¾‹å¯ä»¥ç»§æ‰¿IUpdateSingletonæ¥å£å³å¯å®ç°å•ä¾‹å¸§æ›´æ–°å‡½æ•°OnUpdateï¼Œä¸”è¿™ä¸ªå¸§æ›´æ–°çš„å•ä¾‹å¯ä»¥å•ç‹¬è®¾ç½®ä¼˜å…ˆçº§ï¼Œæ§åˆ¶å•ä¾‹çš„å¸§æ›´æ–°é¡ºåºã€‚</p></blockquote><h4 id="è‡ªåŠ¨åŒ–UIæ¡†æ¶">è‡ªåŠ¨åŒ–UIæ¡†æ¶</h4><blockquote><p>æ­å»ºå¥½ç•Œé¢åï¼Œä¸€é”®ç”Ÿæˆé€šç”¨UIçª—å£è„šæœ¬å’ŒUIå…ƒç´ è„šæœ¬å¹¶æŒ‚è½½åœ¨çª—å£GameObjectä¸Š</p></blockquote><h4 id="Timerè®¡æ—¶å™¨">Timerè®¡æ—¶å™¨</h4><h4 id="SceneNameç‰¹æ€§">SceneNameç‰¹æ€§</h4><blockquote><p>[SceneName]ç‰¹æ€§æ ‡è®°stringå˜é‡ï¼Œå¯å¿«é€Ÿåœ¨Inspectorçª—å£é€šè¿‡ä¸‹æ‹‰æ¡†é€‰æ‹©åœºæ™¯</p></blockquote><h4 id="ReadOnlyç‰¹æ€§">ReadOnlyç‰¹æ€§</h4><blockquote><p>ç¼–è¾‘åœ¨Inspectoræ˜¾ç¤ºä½†åªè¯»çš„å˜é‡å±æ€§ï¼Œå¯é€šè¿‡åé¢çš„å•é€‰æ¡†å¼€å¯å…³é—­åªè¯»ç»˜åˆ¶ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">è¿™æ˜¯ä¸€ä¸ªè‡ªç ”æ¡†æ¶ï¼Œç›®å‰é€‚ç”¨å¤§éƒ¨åˆ†Unityæ¸¸æˆå¼€å‘ï¼Œæ¬ ç¼ºABåŒ…æ¨¡å—å’Œçƒ­æ›´æ¨¡å—ã€‚</summary>
    
    
    
    <category term="æ¡†æ¶æ­å»º" scheme="https://azzurebubble.github.io/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/C/"/>
    
    <category term="Unityæ¡†æ¶" scheme="https://azzurebubble.github.io/categories/%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA/C/Unity%E6%A1%86%E6%9E%B6/"/>
    
    
    <category term="Unity3D" scheme="https://azzurebubble.github.io/tags/Unity3D/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æ¸¸æˆæ¡†æ¶" scheme="https://azzurebubble.github.io/tags/%E6%B8%B8%E6%88%8F%E6%A1%86%E6%9E%B6/"/>
    
  </entry>
  
  <entry>
    <title>UnityEdior</title>
    <link href="https://azzurebubble.github.io/posts/ec874c57.html"/>
    <id>https://azzurebubble.github.io/posts/ec874c57.html</id>
    <published>2023-12-06T00:56:01.000Z</published>
    <updated>2024-04-20T01:10:48.249Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/UnityEditor/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%8A%A8%E5%9B%BE.gif" alt="æ’å…¥æ’åº"></p><blockquote><p>UnityEditorç¼–è¾‘å™¨çš„ä»£ç å¿…é¡»æ”¾åœ¨Editoræ–‡ä»¶å¤¹ä¸‹ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ä»£ç æ˜¯ä¸ä¼šè¢«æ‰“åŒ…å‡ºå»ï¼Œåªå…è®¸ç¨‹åºå‘˜åœ¨Unityç¼–è¾‘å™¨ä¸‹ä½¿ç”¨ï¼Œå¦‚æœä¸æ”¾åœ¨Editorè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰“åŒ…æ—¶è‹¥åŒ…å«UnityEditorçš„ä»£ç ï¼Œä¼šæŠ¥é”™ã€‚</p></blockquote><h4 id="MenuItem">MenuItem</h4><h5 id="1-ä½¿ç”¨æ–¹æ³•-MenuItem-â€œpathâ€">1.ä½¿ç”¨æ–¹æ³•:[MenuItem(â€œpathâ€)]</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEditor;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EditorExtensions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MenuItemExample</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// [MenuItem()] ä¿®é¥°çš„å¿…é¡»æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="comment">// æ‰ä¼šåœ¨Unityèœå•æ å‡ºç°å…ˆå¯¹åº”çš„æŒ‰é”®</span></span><br><span class="line">        <span class="comment">// ()æ‹¬å·é‡Œçš„æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨èœå•æ çš„æ ‘å½¢è·¯å¾„</span></span><br><span class="line">        [<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTest&quot;</span>)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EditorTest</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;Hello Editor&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-Application-OpenURL-â€œpathâ€-æ‰“å¼€ä¸€ä¸ªç½‘å€æˆ–è€…ä¸€ä¸ªApplicationåº”ç”¨">2.Application.OpenURL(â€œpathâ€) æ‰“å¼€ä¸€ä¸ªç½‘å€æˆ–è€…ä¸€ä¸ªApplicationåº”ç”¨</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/OpenBilibili&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OpenBilibili</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥é€šè¿‡è¿™ä¸ªApiæ¥å£æ‰“å¼€ä¸€ä¸ªç½‘å€æˆ–è€…ä¸€ä¸ªApplicationåº”ç”¨</span></span><br><span class="line">    Application.OpenURL(<span class="string">&quot;Http://bilibili.com&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-EditorUtility-RevealInFinder-â€œpathâ€-æ‰“å¼€ä¸€ä¸ªæŒ‡å®šçš„æ–‡ä»¶ç›®å½•">3.EditorUtility.RevealInFinder(â€œpathâ€) æ‰“å¼€ä¸€ä¸ªæŒ‡å®šçš„æ–‡ä»¶ç›®å½•</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/æ‰“å¼€ç­–åˆ’ç›®å½•&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OpenDesignFolder</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ‰“å¼€ä¸€ä¸ªæŒ‡å®šçš„æ–‡ä»¶ç›®å½• å‚æ•°æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">    EditorUtility.RevealInFinder(Application.dataPath.Replace(<span class="string">&quot;Assets&quot;</span>, <span class="string">&quot;Library&quot;</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-Menu-SetChecked-â€œpathâ€-isChecked-å¯å‹¾é€‰çš„èœå•æ ">4.Menu.SetChecked(â€œpathâ€,isChecked) å¯å‹¾é€‰çš„èœå•æ </h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> openShotCut = <span class="literal">false</span>; <span class="comment">// è®°å½•èœå•æ å‹¾é€‰çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/å¿«æ·é”®å¼€å…³&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ToggleShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    openShotCut = !openShotCut; <span class="comment">// åˆ‡æ¢çŠ¶æ€</span></span><br><span class="line">    Menu.SetChecked(<span class="string">&quot;EditorExtensions/MenuItem/å¿«æ·é”®å¼€å…³&quot;</span>, openShotCut);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="5-MenuItemçš„å¿«æ·é”®è®¾ç½®">5.MenuItemçš„å¿«æ·é”®è®¾ç½®</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTestWithShotCut _c&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EditorTestWithShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¸¸ç”¨å¿«æ·é”®ç </span></span><br><span class="line">    <span class="comment">// # -&gt; Shift &amp; -&gt; Alt % -&gt; Ctrl/Command</span></span><br><span class="line">    <span class="comment">// _a-z A-Z - a-z A-Z</span></span><br><span class="line">    Debug.Log(<span class="string">&quot;é”®ç›˜Cé”®çš„å¿«æ·é”®å‘¼å‡ºèœå•&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/OpenBilibiliWithShotCut %#e&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OpenBilibiliWithShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    EditorUtility.RevealInFinder(Application.persistentDataPath);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-MenuItem-â€œpathâ€-validate-true">6.[MenuItem(â€œpathâ€, validate = true)]</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> openShotCut = <span class="literal">false</span>; <span class="comment">// è®°å½•èœå•æ å‹¾é€‰çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/å¿«æ·é”®å¼€å…³&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ToggleShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    openShotCut = !openShotCut; <span class="comment">// åˆ‡æ¢çŠ¶æ€</span></span><br><span class="line">    Menu.SetChecked(<span class="string">&quot;EditorExtensions/MenuItem/å¿«æ·é”®å¼€å…³&quot;</span>, openShotCut);</span><br><span class="line">&#125;</span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTestWithShotCut _c&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EditorTestWithShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¸¸ç”¨å¿«æ·é”®ç </span></span><br><span class="line">    <span class="comment">// # -&gt; Shift &amp; -&gt; Alt % -&gt; Ctrl/Command</span></span><br><span class="line">    <span class="comment">// _a-z A-Z - a-z A-Z</span></span><br><span class="line">    Debug.Log(<span class="string">&quot;é”®ç›˜Cé”®çš„å¿«æ·é”®å‘¼å‡ºèœå•&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// openShotCut ä¸ºtrueæ—¶æ‰èƒ½è¢«ä½¿ç”¨</span></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTestWithShotCut %#e&quot;</span>, validate = true)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">EditorTestWithShotCutValidate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> openShotCut;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/OpenBilibiliWithShotCut %#e&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OpenBilibiliWithShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    EditorUtility.RevealInFinder(Application.persistentDataPath);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/OpenBilibiliWithShotCut %#e&quot;</span>, validate = true)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">OpenBilibiliWithShotCutValidate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> openShotCut;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="7-EditorApplication-ExecuteMenuItem-â€œåŒåpathâ€-å¤ç”¨MenuItem">7. EditorApplication.ExecuteMenuItem(â€œåŒåpathâ€) å¤ç”¨MenuItem</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTestWithShotCut _c&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EditorTestWithShotCut</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"> EditorApplication.ExecuteMenuItem(<span class="string">&quot;EditorExtensions/MenuItem/EditorTest&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="EditorWindow">EditorWindow</h4><h5 id="1-ç»˜åˆ¶ä¸€ä¸ªç¼–è¾‘å™¨çª—å£">1.ç»˜åˆ¶ä¸€ä¸ªç¼–è¾‘å™¨çª—å£</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">MenuItem(<span class="string">&quot;EditorExtensions/IMGUI/OpenGUILayoutExample&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">OpenGUILayoutExample</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"> GUILayoutExample window = GetWindow&lt;GUILayoutExample&gt;();</span><br><span class="line"> window.Show();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnGUI</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"> GUILayout.Label(<span class="string">&quot;Hello IMGUI&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/UnityEditor/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%8A%A8%E5%9B%BE.gif&quot; alt</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="Unity" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/Unity/"/>
    
    
    <category term="Unity" scheme="https://azzurebubble.github.io/tags/Unity/"/>
    
    <category term="UnityEditor" scheme="https://azzurebubble.github.io/tags/UnityEditor/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”æœ€çŸ­è·¯å¾„ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/17cfe08f.html"/>
    <id>https://azzurebubble.github.io/posts/17cfe08f.html</id>
    <published>2023-08-01T12:45:09.000Z</published>
    <updated>2024-04-20T01:10:50.275Z</updated>
    
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æœ€çŸ­è·¯å¾„ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æœ€çŸ­è·¯å¾„ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/3cf1d1bf.html"/>
    <id>https://azzurebubble.github.io/posts/3cf1d1bf.html</id>
    <published>2023-08-01T12:44:34.000Z</published>
    <updated>2024-04-20T01:10:50.274Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>çº¿æ€§è¡¨</strong>ï¼šç”±åŒç§æ•°æ®ç±»å‹çš„æ•°æ®å…ƒç´ ç»„æˆçš„æœ‰åºåºåˆ—ã€‚ä¸€èˆ¬ç”¨äºå­˜å‚¨ç”±é¡ºåºå…³ç³»çš„æ•°æ®åºåˆ—ã€‚</p><p><strong>æ ‘</strong>ï¼šæ ‘å­˜å‚¨ç»“æ„ä¸å…è®¸å­˜åœ¨ç¯è·¯ã€‚</p><p><strong>å›¾</strong>ï¼šå›¾å­˜å‚¨ç»“æ„ä¸­å¯ä»¥å­˜åœ¨ç¯è·¯ã€‚</p><p><strong>è¿é€šå›¾</strong>ï¼šä»ä»»ä¸€é¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹éƒ½è‡³å°‘å­˜åœ¨ä¸€æ¡é€šè·¯ã€‚</p><p><strong>éè¿é€šå›¾</strong>ï¼šåªè¦æœ‰æŸä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æ‰¾ä¸åˆ°é€šè·¯ã€‚</p><p><strong>ç”Ÿæˆæ ‘</strong>ï¼šåŒ…å«å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹ã€‚ä»»æ„é¡¶ç‚¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡é€šè·¯ã€‚</p><p><strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼šæŒ‡çš„å°±æ˜¯åœ¨è¿é€šç½‘ä¸­æ‰¾åˆ°çš„æ€»æƒå€¼æœ€å°çš„ç”Ÿæˆæ ‘ã€‚å¸¸ç”¨çš„ä¸¤ç§ç®—æ³•ï¼š</p><ul><li><strong>æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•</strong></li><li><strong>å…‹é²æ–¯å¡å°”ï¼ˆkruskalï¼‰ç®—æ³•</strong></li></ul></blockquote><h4 id="æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•">æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•</h4><blockquote><p><strong>æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•</strong>ï¼šä»»é€‰ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ï¼Œæ¯æ¬¡éƒ½é€‰æƒå€¼æœ€å°çš„è¾¹çš„é¡¶ç‚¹ä¸åŸé¡¶ç‚¹ç›¸è¿ã€‚</p><p>é‡‡ç”¨çš„æ˜¯è´ªå¿ƒç®—æ³•çš„æ€æƒ³ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(n<sup>2</sup>)ï¼ˆn ä¸ºé¡¶ç‚¹æ•°ï¼‰</li><li>é€‚ç”¨äº<strong>ç¨ å¯†å›¾</strong>ï¼Œç®—æ³•æ€æƒ³æ˜¯é€‰æ‹©<strong>ç‚¹</strong></li></ul><p><strong>å®ç°æ€è·¯ï¼š</strong></p><ol><li>å°†è¿é€šç½‘ä¸­çš„æ‰€æœ‰é¡¶ç‚¹åˆ†ä¸ºä¸¤ç±»ï¼ˆå‡è®¾ä¸º A ç±»å’Œ B ç±»ï¼‰ã€‚åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰é¡¶ç‚¹ä½äº B ç±»ï¼›</li><li>é€‰æ‹©ä»»æ„ä¸€ä¸ªé¡¶ç‚¹ï¼Œå°†å…¶ä» B ç±»ç§»åŠ¨åˆ° A ç±»ï¼›</li><li>ä» B ç±»çš„æ‰€æœ‰é¡¶ç‚¹å‡ºå‘ï¼Œæ‰¾å‡ºä¸€æ¡è¿æ¥ç€ A ç±»ä¸­çš„æŸä¸ªé¡¶ç‚¹ä¸”æƒå€¼æœ€å°çš„è¾¹ï¼Œå°†æ­¤è¾¹è¿æ¥ç€çš„ A ç±»ä¸­çš„é¡¶ç‚¹ç§»åŠ¨åˆ° B ç±»ï¼›</li><li>é‡å¤æ‰§è¡Œç¬¬ 3 æ­¥ï¼Œç›´è‡³ B ç±»ä¸­çš„æ‰€æœ‰é¡¶ç‚¹å…¨éƒ¨ç§»åŠ¨åˆ° A ç±»ï¼Œæ°å¥½å¯ä»¥æ‰¾åˆ° N-1 æ¡è¾¹ã€‚</li></ol></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><blockquote></blockquote><hr><h4 id="å…‹é²æ–¯å¡å°”ï¼ˆkruskalï¼‰ç®—æ³•">å…‹é²æ–¯å¡å°”ï¼ˆkruskalï¼‰ç®—æ³•</h4><blockquote><p><strong>å…‹é²æ–¯å¡å°”ï¼ˆkruskalï¼‰ç®—æ³•</strong>ï¼šæŠŠæ‰€æœ‰é¡¶ç‚¹åŒ…å«åœ¨ç”Ÿæˆæ ‘ä¸­ï¼Œå¯¹è¾¹è¿›è¡Œæ’åºï¼Œç„¶åç›´æ¥é€‰å–æƒå€¼æœ€å°çš„è¾¹åŠ å…¥åˆ°æ–°ç”Ÿæˆçš„æ ‘ä¸­ï¼Œé€”ä¸­ä¸èƒ½å½¢æˆç¯ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½è¿é€šä¸ºæ­¢ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(elog<sub>2</sub>e)ï¼ˆe ä¸ºè¾¹æ•°ï¼‰</li><li>é€‚ç”¨äº<strong>ç¨€ç–å›¾</strong>ï¼Œç®—æ³•æ€æƒ³æ˜¯é€‰æ‹©<strong>è¾¹</strong></li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><blockquote></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;çº¿æ€§è¡¨&lt;/strong&gt;ï¼šç”±åŒç§æ•°æ®ç±»å‹çš„æ•°æ®å…ƒç´ ç»„æˆçš„æœ‰åºåºåˆ—ã€‚ä¸€èˆ¬ç”¨äºå­˜å‚¨ç”±é¡ºåºå…³ç³»çš„æ•°æ®åºåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ ‘&lt;/strong&gt;ï¼šæ ‘å­˜å‚¨ç»“æ„ä¸å…è®¸å­˜åœ¨ç¯è·¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å›¾&lt;/strong&gt;</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æœ€å°ç”Ÿæˆæ ‘ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æœ€å°ç”Ÿæˆæ ‘ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”æŸ¥æ‰¾ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/f43b98cb.html"/>
    <id>https://azzurebubble.github.io/posts/f43b98cb.html</id>
    <published>2023-08-01T12:43:16.000Z</published>
    <updated>2024-04-20T01:10:50.275Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>æŸ¥æ‰¾</strong>ï¼ˆ<code>Search</code>ï¼‰ï¼šæ˜¯åœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸­æŸ¥æ‰¾æ»¡è¶³ç»™å®šæ¡ä»¶çš„è®°å½•ã€‚å¯¹äºæŸ¥æ‰¾é—®é¢˜æ¥è¯´ï¼Œæ²¡æœ‰ä¸€ç§ç®—æ³•å¯¹äºä»»ä½•æƒ…å†µä¸‹éƒ½æ˜¯åˆé€‚çš„ã€‚</p><p><strong>æŸ¥æ‰¾è¡¨</strong>ï¼ˆ<code>Search Table</code>ï¼‰ï¼šæ˜¯ç”±åŒä¸€ç±»å‹çš„æ•°æ®å…ƒç´ ï¼ˆæˆ–è®°å½•ï¼‰æ„æˆçš„é›†åˆã€‚å¯¹æŸ¥æ‰¾è¡¨ç»å¸¸è¿›è¡Œçš„æ“ä½œï¼š</p><ol><li>æŸ¥è¯¢æŸä¸ªæ•°æ®å…ƒç´ æ˜¯å¦åœ¨æŸ¥æ‰¾è¡¨ä¸­**ï¼ˆé™æ€æŸ¥æ‰¾è¡¨ï¼‰**</li><li>æ£€ç´¢æŸä¸ªæ•°æ®å…ƒç´ çš„å±æ€§**ï¼ˆé™æ€æŸ¥æ‰¾è¡¨ï¼‰**</li><li>å‘æŸ¥æ‰¾è¡¨ä¸­æ·»åŠ ä¸€ä¸ªæ•°æ®å…ƒç´ **ï¼ˆåŠ¨æ€æŸ¥æ‰¾è¡¨ï¼‰**</li><li>å‘æŸ¥æ‰¾è¡¨ä¸­åˆ é™¤ä¸€ä¸ªæ•°æ®å…ƒç´ **ï¼ˆåŠ¨æ€æŸ¥æ‰¾è¡¨ï¼‰**</li></ol></blockquote><hr><h4 id="é¡ºåºæŸ¥æ‰¾ç®—æ³•">é¡ºåºæŸ¥æ‰¾ç®—æ³•</h4><blockquote><p><strong>é¡ºåºæŸ¥æ‰¾</strong>ï¼šåˆç§°<strong>é¡ºåºæœç´¢ç®—æ³•</strong>æˆ–è€…<strong>çº¿æ€§æœç´¢ç®—æ³•</strong>ï¼Œæ˜¯æ‰€æœ‰æŸ¥æ‰¾ç®—æ³•ä¸­æœ€åŸºæœ¬ã€æœ€ç®€å•çš„ã€‚</p><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šä»æŸ¥æ‰¾è¡¨çš„ä¸€ç«¯å¼€å§‹ï¼Œé¡ºåºæ‰«æçº¿æ€§è¡¨ï¼Œé€ä¸ªåŒè®°å½•çš„å…³é”®å­—ä½œæ¯”è¾ƒï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼›åä¹‹ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå…³é”®å­—éƒ½æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œåˆ™ä¸ºå¤±è´¥ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(n)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ï¼›æœ€å¥½æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›</li><li>é€‚ç”¨äºç»å¤§å¤šæ•°åœºæ™¯ï¼Œæ—¢å¯ä»¥åœ¨æœ‰åºåºåˆ—ä¸­æŸ¥æ‰¾ç›®æ ‡å…ƒç´ ï¼Œä¹Ÿå¯ä»¥åœ¨æ— åºåºåˆ—ä¸­æŸ¥æ‰¾ç›®æ ‡å…ƒç´ ã€‚</li><li>é™æ€æŸ¥æ‰¾è¡¨æ—¢å¯ä»¥ä½¿ç”¨é¡ºåºè¡¨è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é“¾è¡¨ç»“æ„è¡¨ç¤ºã€‚</li><li>ä¼˜ç‚¹ï¼šç®—æ³•ç®€å•è€Œä¸”ä½¿ç”¨é¢å¹¿ã€‚</li><li>ç¼ºç‚¹ï¼šæŸ¥æ‰¾æ•ˆç‡è¾ƒä½ï¼Œç‰¹åˆ«æ˜¯å½“å¾…æŸ¥æ‰¾é›†åˆä¸­å…ƒç´ è¾ƒå¤šæ—¶ï¼Œä¸æ¨èä½¿ç”¨é¡ºåºæŸ¥æ‰¾ã€‚</li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">10</span>, <span class="number">14</span>, <span class="number">19</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">31</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">42</span>, <span class="number">44</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span> index = linear_search(arr, <span class="number">33</span>);</span><br><span class="line">        <span class="keyword">if</span> (index != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>ä¸ªå…ƒç´ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;æŸ¥æ‰¾å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">linear_search</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] == <span class="keyword">value</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬7ä¸ªå…ƒç´ </p></blockquote><hr><h4 id="äºŒåˆ†æŸ¥æ‰¾ç®—æ³•">äºŒåˆ†æŸ¥æ‰¾ç®—æ³•</h4><blockquote><p><strong>äºŒåˆ†æŸ¥æ‰¾</strong>ï¼šåˆç§°<strong>æŠ˜åŠæŸ¥æ‰¾ã€äºŒåˆ†æœç´¢ã€æŠ˜åŠæœç´¢</strong>ç­‰ï¼Œæ˜¯åœ¨åˆ†æ²»ç®—æ³•åŸºç¡€ä¸Šè®¾è®¡å‡ºæ¥çš„æŸ¥æ‰¾ç®—æ³•ã€‚</p><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå°†è¡¨ä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—ä¸æŸ¥æ‰¾å…³é”®å­—æ¯”è¾ƒï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼›å¦åˆ™åˆ©ç”¨ä¸­é—´ä½ç½®è®°å½•å°†è¡¨åˆ†ä¸ºå‰ã€åä¸¤ä¸ªå­è¡¨ï¼Œå¦‚æœä¸­é—´ä½ç½®è®°å½•çš„å…³é”®å­—å¤§äºæŸ¥æ‰¾å…³é”®å­—ï¼Œåˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾å‰ä¸€å­è¡¨ï¼Œå¦åˆ™è¿›ä¸€æ­¥æŸ¥æ‰¾åä¸€å­è¡¨ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(log<sub>2</sub>n)ï¼Œå¾ªç¯æ–¹å¼ï¼šç©ºé—´å¤æ‚åº¦=O(1)ï¼Œé€’å½’æ–¹å¼ï¼šæ—¶é—´å¤æ‚åº¦=O(log<sub>2</sub>n)</li><li>æ•°ç»„å…ƒç´ å¿…é¡»æœ‰åºï¼ŒæŸ¥æ‰¾çš„æ•°å€¼ä¸èƒ½å¤šä¸ªï¼Œåªèƒ½ä¸€ä¸ªã€‚å¿…é¡»é‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„ã€‚</li><li>ä¼˜ç‚¹ï¼šæ¯”è¾ƒæ¬¡æ•°å°‘ï¼ŒæŸ¥æ‰¾é€Ÿåº¦å—ï¼Œå¹³å‡æ€§èƒ½å¥½ã€‚</li><li>ç¼ºç‚¹ï¼šå¿…é¡»è¦æ±‚å¾…æŸ¥è¡¨ä¸ºæœ‰åºè¡¨ï¼›æ’å…¥åˆ é™¤å›°éš¾ã€‚</li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">10</span>, <span class="number">14</span>, <span class="number">19</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">31</span>, <span class="number">33</span>, <span class="number">35</span>, <span class="number">42</span>, <span class="number">44</span> &#125;;</span><br><span class="line">        <span class="comment">//int index = binary_search1(arr, 0, 9, 31);</span></span><br><span class="line">        <span class="built_in">int</span> index = binary_search2(arr, <span class="number">0</span>, <span class="number">9</span>, <span class="number">31</span>);</span><br><span class="line">        <span class="keyword">if</span> (index != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>ä¸ªå…ƒç´ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;æŸ¥æ‰¾å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">binary_search1</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> start, <span class="built_in">int</span> end, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (start &gt; end) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> mid = start + (end - start) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> == arr[mid])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> &lt; arr[mid])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> binary_search1(arr, start, mid - <span class="number">1</span>, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> binary_search1(arr, mid + <span class="number">1</span>, end, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éé€’å½’</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">binary_search2</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> start, <span class="built_in">int</span> end, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> left = start;</span><br><span class="line">        <span class="built_in">int</span> right = end;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (arr[mid] == <span class="keyword">value</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">value</span> &lt; arr[mid])</span><br><span class="line">            &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬6ä¸ªå…ƒç´ </p></blockquote><hr><h4 id="æ’å€¼æŸ¥æ‰¾ç®—æ³•">æ’å€¼æŸ¥æ‰¾ç®—æ³•</h4><blockquote><p><strong>æ’å€¼æŸ¥æ‰¾</strong>ï¼šåˆç§°ä¸º<strong>æ’å€¼æœç´¢ç®—æ³•</strong>ï¼Œæ˜¯åœ¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ä¸€ç§æŸ¥æ‰¾ç®—æ³•ï¼Œå°†æŸ¥æ‰¾ç‚¹çš„é€‰æ‹©æ”¹è¿›ä½è‡ªé€‚åº”é€‰æ‹©ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚</p><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šæ’å€¼æŸ¥æ‰¾ç±»ä¼¼å¹³æ—¶æˆ‘ä»¬æŸ¥å­—å…¸çš„æ—¶å€™ï¼ŒæŸ¥ä¸€ä¸ªä»¥ s å¼€å¤´çš„å•è¯æ—¶ï¼Œç»å¯¹ä¸ä¼šç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œä»å­—å…¸çš„ä¸­é—´ç¬¬ä¸€é¡µå¼€å§‹ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å®ƒçš„å¤§æ¦‚ä½ç½®æ˜¯åœ¨å­—å…¸çš„è¾ƒåé¢éƒ¨åˆ†ï¼Œæ‰€ä»¥å¯ä»¥ä»åé¢çš„æŸå¤„æŸ¥èµ·ã€‚æˆ‘ä»¬å…ˆä»é¦–å­—æ¯ s çš„åœ°æ–¹å¼€å§‹æŸ¥æ‰¾ï¼Œç„¶åå†æ ¹æ®ç¬¬äºŒä¸ªå­—æ¯åœ¨å­—æ¯è¡¨ä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°å¯¹åº”ä½ç½®å†ç»§ç»­æŸ¥æ‰¾ï¼Œè¿™æ ·é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°æˆ‘ä»¬æŸ¥æ‰¾çš„è¿™ä¸ªå•è¯è¿™å°±æ˜¯æ’å€¼æŸ¥æ‰¾çš„åŸºæœ¬æ€æƒ³</p><ul><li>é¡ºåºå­˜å‚¨çš„æœ‰åºæ•°åˆ—ï¼Œæ ¹æ®å…³é”®å­—åœ¨æ•°æ®ä¸­å‡åŒ€åˆ†å¸ƒã€‚</li><li>æ¯”è¾ƒå…ƒç´ çš„ä½ç½®å…¬å¼ï¼š</li></ul><p>$$<br>Mid = Begin + ( (End - Begin) / (A[End] - A[Begin]) ) * (X - A[Begin])<br>$$</p><ul><li>Midï¼šè®¡ç®—å¾—å‡ºçš„å…ƒç´ çš„ä½ç½®ï¼›</li><li>Endï¼šæœç´¢åŒºåŸŸå†…æœ€åä¸€ä¸ªå…ƒç´ æ‰€åœ¨çš„ä½ç½®ï¼›</li><li>Beginï¼šæœç´¢åŒºåŸŸå†…ç¬¬ä¸€ä¸ªå…ƒç´ æ‰€åœ¨çš„ä½ç½®ï¼›</li><li>Xï¼šè¦æŸ¥æ‰¾çš„ç›®æ ‡å…ƒç´ ï¼›</li><li>A[]ï¼šè¡¨ç¤ºæ•´ä¸ªå¾…æœç´¢åºåˆ—ã€‚</li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span> index = interpolation_search(arr, <span class="number">0</span>, <span class="number">9</span>, <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">if</span> (index != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>ä¸ªå…ƒç´ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;æŸ¥æ‰¾å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">interpolation_search</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> begin, <span class="built_in">int</span> end, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (begin &gt; end)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæŸ¥æ‰¾è¡¨ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™æ¯”è¾ƒè¯¥å…ƒç´ å’Œå¾…æŸ¥å…ƒç´ çš„å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (begin == end)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> arr[begin] == <span class="keyword">value</span> ? begin : <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®å…¬å¼æ‰¾åˆ°ä¸­é—´å…ƒç´ çš„æ‰€åœ¨ä½ç½®</span></span><br><span class="line">        <span class="built_in">int</span> mid = ((end - begin) / (arr[end] - arr[begin]) * (<span class="keyword">value</span> - arr[begin]));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’å‡ºå£</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> == arr[mid])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’æŸ¥è¯¢</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">value</span> &lt; arr[mid])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> interpolation_search(arr, begin, mid - <span class="number">1</span>, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> interpolation_search(arr, mid + <span class="number">1</span>, end, <span class="keyword">value</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬5ä¸ªå…ƒç´ </p></blockquote><hr><h4 id="å“ˆå¸ŒæŸ¥æ‰¾ç®—æ³•">å“ˆå¸ŒæŸ¥æ‰¾ç®—æ³•</h4><blockquote><p><strong>å“ˆå¸ŒæŸ¥æ‰¾</strong>ï¼šåˆç§°<strong>æ•£åˆ—æŸ¥æ‰¾ç®—æ³•</strong>ï¼Œæ˜¯ä¸€ç§å€ŸåŠ©å“ˆå¸Œè¡¨ï¼ˆæ•£åˆ—è¡¨ï¼‰æŸ¥æ‰¾ç›®æ ‡å…ƒç´ çš„æ–¹æ³•ï¼ŒæŸ¥æ‰¾æ•ˆç‡æœ€é«˜æ—¶å¯¹åº”çš„æ—¶é—´å¤æ‚åº¦ä½O(2)ã€‚</p><p><strong>å“ˆå¸Œè¡¨</strong>ï¼šåˆç§°æ•£åˆ—è¡¨ï¼Œæ˜¯ä¸€ç§å­˜å‚¨ç»“æ„ï¼Œé€šå¸¸ç”¨æ¥å­˜å‚¨å¤šä¸ªå…ƒç´ ã€‚å’Œå…¶å®ƒå­˜å‚¨ç»“æ„ï¼ˆçº¿æ€§è¡¨ã€æ ‘ç­‰ï¼‰ç›¸æ¯”ï¼Œå“ˆå¸Œè¡¨æŸ¥æ‰¾ç›®æ ‡å…ƒç´ çš„æ•ˆç‡éå¸¸é«˜ã€‚æ¯ä¸ªå­˜å‚¨åˆ°å“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ ï¼Œéƒ½é…æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼ˆåˆç§°â€œç´¢å¼•â€æˆ–è€…â€œé”®â€ï¼‰ï¼Œç”¨æˆ·æƒ³æŸ¥æ‰¾å“ªä¸ªå…ƒç´ ï¼Œå‡­å€Ÿè¯¥å…ƒç´ å¯¹åº”çš„æ ‡è¯†å°±å¯ä»¥ç›´æ¥æ‰¾åˆ°å®ƒï¼Œæ— éœ€éå†æ•´ä¸ªå“ˆå¸Œè¡¨ã€‚</p><ul><li>é€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯ï¼Œæ—¢æ”¯æŒæœ‰åºåºåˆ—ï¼Œä¹Ÿæ”¯æŒæ— åºåºåˆ—ã€‚</li><li>å¸¸è§çš„æ•£åˆ—å‡½æ•°ï¼šç›´æ¥å®šå€æ³•ï¼Œé™¤ç•™ä½™æ•°æ³•ï¼Œå¹³æ–¹å–ä½™æ³•ç­‰</li><li>å¤„ç†å†²çªçš„æ–¹æ³•ï¼šå¼€æ”¾å®šå€æ³•ï¼Œçº¿æ€§æ¢æµ‹æ³•ï¼Œæ‹‰é“¾æ³•ç­‰</li><li>å½±å“å†²çªçš„ä¸»è¦ä¸‰ä¸ªå› ç´ ï¼š<ul><li>æ•£åˆ—å‡½æ•°æ˜¯å¦å‡åŒ€</li><li>å¤„ç†å†²çªçš„æ–¹æ³•</li><li>æ•£åˆ—è¡¨çš„è£…å¡«å› å­</li></ul></li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = <span class="keyword">new</span> <span class="built_in">int</span>[] &#123; <span class="number">5</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">55</span>, <span class="number">50</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span>[] hashArr = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">10</span>];</span><br><span class="line">        CreateHash(arr, hashArr);</span><br><span class="line">        <span class="built_in">int</span> index = hash_search(hashArr, <span class="number">20</span>);</span><br><span class="line">        <span class="keyword">if</span> (index != <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬<span class="subst">&#123;index + <span class="number">1</span>&#125;</span>ä¸ªå…ƒç´ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;æŸ¥æ‰¾å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“ˆå¸Œå‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">hash</span>(<span class="params"><span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> % <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå“ˆå¸Œè¡¨</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">CreateHash</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span>[] hashArr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i, index;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å½“å‰å…ƒç´ åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä½ç½®</span></span><br><span class="line">            index = hash(arr[i]);</span><br><span class="line">            <span class="keyword">while</span> (hashArr[index] != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            hashArr[index] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">hash_search</span>(<span class="params"><span class="built_in">int</span>[] hashArr, <span class="built_in">int</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å¾—åˆ°å¾…æŸ¥å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="built_in">int</span> hashIndex = hash(<span class="keyword">value</span>);</span><br><span class="line">        <span class="comment">// å¦‚æœå‘ç”Ÿå†²çªï¼Œåˆ™ä½¿ç”¨çº¿æ€§æ¢æµ‹æ³•å‘åæ¢æµ‹</span></span><br><span class="line">        <span class="keyword">while</span> (hashArr[hashIndex] != <span class="keyword">value</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            hashIndex = (hashIndex + <span class="number">1</span>) % <span class="number">10</span>;</span><br><span class="line">            <span class="comment">// å¦‚æœæ¢æµ‹ä½ç½®ä¸ºç©º</span></span><br><span class="line">            <span class="keyword">if</span> (hashArr[hashIndex] == <span class="number">0</span> || hashIndex == hash(<span class="keyword">value</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hashIndex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æŸ¥æ‰¾æˆåŠŸï¼åºåˆ—ä¸ºç¬¬2ä¸ªå…ƒç´ </p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥æ‰¾&lt;/strong&gt;ï¼ˆ&lt;code&gt;Search&lt;/code&gt;ï¼‰ï¼šæ˜¯åœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸­æŸ¥æ‰¾æ»¡è¶³ç»™å®šæ¡ä»¶çš„è®°å½•ã€‚å¯¹äºæŸ¥æ‰¾é—®é¢˜æ¥è¯´ï¼Œæ²¡æœ‰ä¸€ç§ç®—æ³•å¯¹äºä»»ä½•æƒ…å†µä¸‹éƒ½æ˜¯åˆé€‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŸ¥æ‰¾è¡¨&lt;/strong&gt;ï¼ˆ&lt;code</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æŸ¥æ‰¾ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æŸ¥æ‰¾ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ’åºç®—æ³•â€”â€”å½’å¹¶/è®¡æ•°/åŸºæ•°/æ¡¶æ’åº</title>
    <link href="https://azzurebubble.github.io/posts/23241932.html"/>
    <id>https://azzurebubble.github.io/posts/23241932.html</id>
    <published>2023-07-28T14:41:30.000Z</published>
    <updated>2024-04-20T01:10:50.268Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å½’å¹¶æ’åº">å½’å¹¶æ’åº</h4><blockquote><p>å½’å¹¶æ’åºï¼šå°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºå­åºåˆ—<code>å½’å¹¶</code>ä¸ºä¸€ä¸ªæœ‰åºåºåˆ—ã€‚åŸºäºåˆ†æ²»æ€æƒ³ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(nlog<sub>2</sub>n)ï¼Œç©ºé—´å¤æ‚åº¦=O(n)ã€‚ç¨³å®šæ’åº</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.gif" alt="å½’å¹¶æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">2</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        merge_sort(arr, <span class="number">1</span>, <span class="number">8</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="comment">// åˆ†å‰²æ•°ç»„</span></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge_sort</span>(<span class="params"><span class="built_in">int</span>[] arr,<span class="built_in">int</span> start,<span class="built_in">int</span> end</span>)</span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="keyword">if</span>(arr == <span class="literal">null</span> || start &gt;= end)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">return</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="built_in">int</span> mid = (start + end) / <span class="number">2</span>; <span class="comment">// å–å¾—æ•°ç»„ä¸­é—´å€¼ä¸‹æ ‡</span></span><br><span class="line">         <span class="comment">// ç»§ç»­åˆ†å‰²</span></span><br><span class="line">         merge_sort(arr,start,mid);</span><br><span class="line">         merge_sort(arr,mid + <span class="number">1</span>,end);</span><br><span class="line">         merge(arr,start,mid,end);</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="function">privatr <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span>(<span class="params"><span class="built_in">int</span>[] arr,<span class="built_in">int</span> start,<span class="built_in">int</span> mid,<span class="built_in">int</span> end</span>)<span class="comment">// 1 1 2</span></span></span><br><span class="line">     &#123;</span><br><span class="line">         <span class="built_in">int</span> left = mid - start + <span class="number">1</span>; <span class="comment">// è·å¾—å·¦è¾¹æ•°ç»„å…ƒç´ ä¸ªæ•° </span></span><br><span class="line">         <span class="built_in">int</span> right = end - mid; <span class="comment">// è·å¾—å³è¾¹æ•°ç»„å…ƒç´ ä¸ªæ•° </span></span><br><span class="line">         <span class="built_in">int</span> leftArr = <span class="keyword">new</span> <span class="built_in">int</span>[left + <span class="number">1</span>]; </span><br><span class="line">         <span class="built_in">int</span> rightArr = <span class="keyword">new</span> <span class="built_in">int</span>[right + <span class="number">1</span>]; </span><br><span class="line">         <span class="built_in">int</span> i;</span><br><span class="line">         <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; left; i++)</span><br><span class="line">         &#123;</span><br><span class="line">             leftArr[i] = arr[start - <span class="number">1</span> + i]; </span><br><span class="line">         &#125;</span><br><span class="line">         leftArr[i] = <span class="number">2147483647</span>; <span class="comment">// æŠŠæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºæœ€å¤§å€¼</span></span><br><span class="line">         <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; right; i++)</span><br><span class="line">         &#123;</span><br><span class="line">             rightArr[i] = arr[mid + i];</span><br><span class="line">         &#125;</span><br><span class="line">         leftArr[i] = <span class="number">2147483647</span>; <span class="comment">// æŠŠæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºæœ€å¤§å€¼</span></span><br><span class="line">         <span class="built_in">int</span> j = <span class="number">0</span>;</span><br><span class="line">         i = <span class="number">0</span>;</span><br><span class="line">         <span class="keyword">for</span>(<span class="built_in">int</span> k = start; k &lt; end; k++)</span><br><span class="line">         &#123;</span><br><span class="line">             <span class="keyword">if</span>(leftArr[i] &lt;= rightArr[j])</span><br><span class="line">             &#123;</span><br><span class="line">                 arr[k - <span class="number">1</span>] = leftArr[i];</span><br><span class="line">                 i++;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">else</span></span><br><span class="line">             &#123;</span><br><span class="line">                 arr[k - <span class="number">1</span>] = rightArr[j];</span><br><span class="line">                 j++;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9 4 2<br>æ’åºåçš„æ•°ç»„ï¼š<br>2 3 4 5 6 7 8 9</p></blockquote><hr><h4 id="è®¡æ•°æ’åº">è®¡æ•°æ’åº</h4><blockquote><p>è®¡æ•°æ’åºï¼šé€šè¿‡ç»Ÿè®¡åºåˆ—ä¸­å„ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå®Œæˆå¯¹æ•´ä¸ªåºåˆ—çš„å‡åºæˆ–é™åºæ’åºã€‚ï¼ˆå…ƒç´ ä¹‹é—´æœ€å¥½æ˜¯åœ¨0~9ä¹‹é—´çš„æ•°å€¼å·®ï¼‰</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(n+k)ï¼Œç©ºé—´å¤æ‚åº¦=O(n+k)ã€‚ç¨³å®šæ’åº</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F.gif" alt="è®¡æ•°æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">7</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        countingSort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">get_max</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> max = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; max)</span><br><span class="line">            &#123;</span><br><span class="line">                max = arr[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countingSort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="comment">// æ‰¾å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">        <span class="built_in">int</span> max = get_max(arr);</span><br><span class="line">        <span class="built_in">int</span>[] array = <span class="keyword">new</span> <span class="built_in">int</span>[max + <span class="number">1</span>]; <span class="comment">// åˆ›å»ºä¸€ä¸ªç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°çš„æ•°ç»„</span></span><br><span class="line">        <span class="built_in">int</span>[] output = <span class="keyword">new</span> <span class="built_in">int</span>[length]; <span class="comment">// æ’åºæ•°ç»„</span></span><br><span class="line">        <span class="comment">// ç»Ÿè®¡å…ƒç´ å‡ºç°ä¸ªæ•°ï¼Œå­˜å‚¨åœ¨å¯¹åº”çš„ä½ç½®ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            array[arr[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç´¯åŠ å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; max + <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            array[i] += array[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¹æ®æ¬¡æ•°è¿›è¡Œæ’åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            output[array[arr[i]] - <span class="number">1</span>] = arr[i];</span><br><span class="line">            array[arr[i]]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¤åˆ¶åˆ°arræ•°ç»„ä¸­ 2, 4, 1, 2, 5, 3, 4, 8, 7</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            arr[i] = output[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>2 4 1 2 5 3 4 8 7<br>æ’åºåçš„æ•°ç»„ï¼š<br>1 2 2 3 4 4 5 7 8</p></blockquote><hr><h4 id="åŸºæ•°æ’åº">åŸºæ•°æ’åº</h4><blockquote><p>åŸºæ•°æ’åºï¼šæ•°å­—é€ä½æ¯”è¾ƒã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(nÃ—m)ï¼Œç©ºé—´å¤æ‚åº¦=O(nÃ—m)ã€‚ç¨³å®šæ’åºã€‚n:æ•°æ®ä¸ªæ•°ï¼Œm:æ•°æ®ä½æ•°ã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F.gif" alt="åŸºæ•°æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">121</span>, <span class="number">432</span>, <span class="number">564</span>, <span class="number">23</span>, <span class="number">1</span>, <span class="number">45</span>, <span class="number">788</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        radixSort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">getMax</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> max = arr[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; max)</span><br><span class="line">            &#123;</span><br><span class="line">                max = arr[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">countingSort</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> place</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="built_in">int</span>[] output = <span class="keyword">new</span> <span class="built_in">int</span>[length];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> max = (arr[<span class="number">0</span>] / place) % <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (((arr[i] / place) % <span class="number">10</span>) &gt; max)</span><br><span class="line">            &#123;</span><br><span class="line">                max = (arr[i] / place) % <span class="number">10</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span>[] count = <span class="keyword">new</span> <span class="built_in">int</span>[max + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            count[(arr[i] / place) % <span class="number">10</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; max + <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            count[i] += count[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸€å®šè¦ä»åå¾€å‰æ’</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            output[count[(arr[i] / place) % <span class="number">10</span>] - <span class="number">1</span>] = arr[i];</span><br><span class="line">            count[(arr[i] / place) % <span class="number">10</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            arr[i] = output[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">radixSort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> max = getMax(arr);</span><br><span class="line">        <span class="comment">// æ ¹æ®æœ€é«˜ä½æ•°ï¼Œä»ä½ä½ä¾æ¬¡è¿›è¡Œè®¡æ•°æ’åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; max / i &gt; <span class="number">0</span>; i *= <span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            countingSort(arr, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>121 432 564 23 1 45 788<br>æ’åºåçš„æ•°ç»„ï¼š<br>1 23 45 121 432 564 788</p></blockquote><hr><h4 id="æ¡¶-ç®±æ’åº">æ¡¶/ç®±æ’åº</h4><blockquote><p>æ¡¶/ç®±æ’åºï¼šå¾…æ’åºæ•°ç»„ï¼Œåˆ†é…åˆ°è‹¥å¹²ä¸ªæ¡¶ï¼Œå„è‡ªæ‰§è¡Œæ’åºä»»åŠ¡ã€‚æ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ€æƒ³ã€æ•ˆç‡å¾ˆé«˜çš„æ’åºç®—æ³•ã€‚(é€‚ç”¨äºæ•°æ®èŒƒå›´è¾ƒå°ä¸”åˆ†å¸ƒå‡åŒ€çš„æµ®ç‚¹æ•°æ•°æ®)</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(n+m+n(logn-logm))ï¼Œç©ºé—´å¤æ‚åº¦=O(n+m)ã€‚ç¨³å®šæ’åºã€‚n:æ•°æ®ä¸ªæ•°ï¼Œm:æ•°æ®ä½æ•°ã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%A1%B6%E6%8E%92%E5%BA%8F.gif" alt="æ¡¶æ’åº"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;å½’å¹¶æ’åº&quot;&gt;å½’å¹¶æ’åº&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å½’å¹¶æ’åºï¼šå°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºå­åºåˆ—&lt;code&gt;å½’å¹¶&lt;/code&gt;ä¸ºä¸€ä¸ªæœ‰åºåºåˆ—ã€‚åŸºäºåˆ†æ²»æ€æƒ³ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦=O(nlog&lt;sub&gt;2&lt;/sub&gt;n)ï¼Œç©ºé—´å¤æ‚åº¦=O(n)</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ’åºç®—æ³•â€”â€”é€‰æ‹©æ’åº</title>
    <link href="https://azzurebubble.github.io/posts/18d056c9.html"/>
    <id>https://azzurebubble.github.io/posts/18d056c9.html</id>
    <published>2023-07-25T16:08:58.000Z</published>
    <updated>2024-04-20T01:10:50.272Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ç®€å•é€‰æ‹©æ’åº">ç®€å•é€‰æ‹©æ’åº</h4><blockquote><p>ç®€å•é€‰æ‹©æ’åºï¼šåœ¨å¾…æ’åºçš„æ•°æ®ä¸­é€‰å‡ºæœ€å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ æ”¾åœ¨å…¶æœ€ç»ˆçš„ä½ç½®ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(n<sup>2</sup>)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ã€‚ç¨³å®šæ’åºã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E5%8A%A8%E5%9B%BE.gif" alt="é€‰æ‹©æ’åºåŠ¨å›¾"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        selection_sort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selection_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="built_in">int</span> i, j, min;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            min = i; <span class="comment">// æŠŠç¬¬ä¸€ä¸ªå…ƒç´ å‡è®¾ä¸ºæœ€å°</span></span><br><span class="line">            <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; length; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹éå†åˆ°æœ€åä¸€ä¸ª</span></span><br><span class="line">                <span class="keyword">if</span> (arr[j] &lt; arr[min])</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœæœŸé—´å‡ºç°å°äºæœ€å°å…ƒç´ çš„å€¼ï¼Œåˆ™äº¤æ¢ä½ç½®</span></span><br><span class="line">                    min = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (min != i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">int</span> temp = arr[i];</span><br><span class="line">                arr[i] = arr[min];</span><br><span class="line">                arr[min] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9<br>æ’åºåçš„æ•°ç»„ï¼š<br>3 5 6 7 8 9</p></blockquote><hr><h4 id="å †æ’åº">å †æ’åº</h4><blockquote><p>å †æ’åºï¼šå †çš„æ˜¯æŒ‡å°±æ˜¯æ»¡è¶³äºŒå‰æ ‘ä¸­ä»»ä¸€éå¶å­ç»“ç‚¹å‡å°äºï¼ˆå¤§äºï¼‰å®ƒçš„å­©å­ç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦=O(nlog<sub>2</sub>n)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ã€‚ä¸ç¨³å®šæ’åºã€‚</li><li>å°æ ¹å †ï¼šè‹¥nä¸ªå…ƒç´ çš„åºåˆ—{a<sub>1</sub>a<sub>2</sub>â€¦a<sub>n</sub>}æ»¡è¶³a<sub>i</sub> â‰¤ a<sub>2i</sub>å’Œa<sub>i</sub> â‰¤ a<sub>2i+1</sub>ã€‚</li><li>å¤§æ ¹å †ï¼šè‹¥nä¸ªå…ƒç´ çš„åºåˆ—{a<sub>1</sub>a<sub>2</sub>â€¦a<sub>n</sub>}æ»¡è¶³a<sub>i</sub> â‰¥ a<sub>2i</sub>å’Œa<sub>i</sub> â‰¥ a<sub>2i+1</sub>ã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%A0%86%E6%8E%92%E5%BA%8F.gif" alt="å †æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        <span class="comment">//big_heap_sort(arr);</span></span><br><span class="line">        small_heap_sort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">big_heap_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä»æ ‘çš„ç¬¬arr.Length / 2 - 1ä¸ªç»“ç‚¹å¼€å§‹å»ºç«‹å¤§æ ¹å †</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = arr.Length / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            big_heap_adjust(arr, i, arr.Length);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = arr.Length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æŠŠæ ¹ç»“ç‚¹ä¸æœ€åä¸€ä¸ªç»“ç‚¹è¿›è¡Œäº¤æ¢ï¼ŒæŠŠæœ€å¤§å€¼æ”¾åˆ°æœ€å</span></span><br><span class="line">            <span class="built_in">int</span> temp = arr[<span class="number">0</span>];</span><br><span class="line">            arr[<span class="number">0</span>] = arr[i];</span><br><span class="line">            arr[i] = temp;</span><br><span class="line">            <span class="comment">// äº¤æ¢åï¼Œä»¥æ ¹ç»“ç‚¹å¼€å§‹ï¼Œé‡æ–°è°ƒæ•´ä¸ºå¤§æ ¹å †</span></span><br><span class="line">            big_heap_adjust(arr, <span class="number">0</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å»ºç«‹å¤§æ ¹å †ï¼šå‡åºï¼Œæœ€å¤§å€¼ï¼ˆæ ¹ç»“ç‚¹ï¼‰ä¸æœ€åä¸€ä¸ªç»“ç‚¹äº¤æ¢ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">big_heap_adjust</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> parent, <span class="built_in">int</span> length</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä¸´æ—¶å­˜å‚¨æ ¹ç»“ç‚¹æ•°å€¼</span></span><br><span class="line">        <span class="built_in">int</span> temp = arr[parent];</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æ ¹ç»“ç‚¹çš„å·¦å­©å­</span></span><br><span class="line">        <span class="built_in">int</span> child = parent * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// å­©å­ç»“ç‚¹ä¸å¤§äºæ•°ç»„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">while</span> (child &lt; length)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå³å­©å­åœ¨æ•°ç»„é•¿åº¦å†… &amp;&amp; å³å­©å­ &gt; å·¦å­©å­</span></span><br><span class="line">            <span class="keyword">if</span> (child + <span class="number">1</span> &lt; length &amp;&amp; arr[child + <span class="number">1</span>] &gt; arr[child])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è®¾ç½®ä¸ºå³å­©å­</span></span><br><span class="line">                child++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœæ ¹ç»“ç‚¹ &gt; å­©å­ç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (temp &gt; arr[child])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// é€€å‡º+</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦åˆ™ï¼Œæ ¹ç»“ç‚¹ä¸æœ€å¤§çš„å­©å­ç»“ç‚¹äº¤æ¢ä½ç½®</span></span><br><span class="line">            arr[parent] = arr[child];</span><br><span class="line">            <span class="comment">// æ ¹ç»“ç‚¹è®¾ç½®ä¸ºäº¤æ¢åçš„å­©å­ç»“ç‚¹ä¸‹æ ‡</span></span><br><span class="line">            parent = child;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°æ–°çš„å·¦å­©å­ä¸‹æ ‡</span></span><br><span class="line">            child = parent * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ­¤æ—¶parentå·²ä¸ºæœ€å°çš„å­©å­ç»“ç‚¹ï¼ŒæŠŠtempæ”¾åˆ°æ­¤ä½ç½®ä¸Š</span></span><br><span class="line">        arr[parent] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">small_heap_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = arr.Length / <span class="number">2</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            small_heap_sort(arr, i, arr.Length);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = arr.Length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> temp = arr[<span class="number">0</span>];</span><br><span class="line">            arr[<span class="number">0</span>] = arr[i];</span><br><span class="line">            arr[i] = temp;</span><br><span class="line">            small_heap_sort(arr, <span class="number">0</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°æ ¹å †:é™åºï¼Œæœ€å°å€¼ï¼ˆæ ¹ç»“ç‚¹ï¼‰ä¸æœ€åä¸€ä¸ªç»“ç‚¹äº¤æ¢ä½ç½®</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">small_heap_sort</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> parent, <span class="built_in">int</span> length</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp = arr[parent];</span><br><span class="line">        <span class="built_in">int</span> child = parent * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (child &lt; length)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (child + <span class="number">1</span> &lt; length &amp;&amp; arr[child + <span class="number">1</span>] &lt; arr[child])</span><br><span class="line">            &#123;</span><br><span class="line">                child++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (temp &lt; arr[child])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            arr[parent] = arr[child];</span><br><span class="line">            parent = child;</span><br><span class="line">            child = parent * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[parent] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;ç®€å•é€‰æ‹©æ’åº&quot;&gt;ç®€å•é€‰æ‹©æ’åº&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç®€å•é€‰æ‹©æ’åºï¼šåœ¨å¾…æ’åºçš„æ•°æ®ä¸­é€‰å‡ºæœ€å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ æ”¾åœ¨å…¶æœ€ç»ˆçš„ä½ç½®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦=O(n&lt;sup&gt;2&lt;/sup&gt;)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ã€‚ç¨³å®šæ’åºã€‚&lt;/li&gt;
&lt;/u</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    <category term="é€‰æ‹©æ’åº" scheme="https://azzurebubble.github.io/tags/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ’åºç®—æ³•â€”â€”æ’å…¥æ’åº</title>
    <link href="https://azzurebubble.github.io/posts/cd5503e2.html"/>
    <id>https://azzurebubble.github.io/posts/cd5503e2.html</id>
    <published>2023-07-24T11:43:40.000Z</published>
    <updated>2024-04-20T01:10:50.271Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨æœ‰åºåºåˆ—ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œä¿æŒåºåˆ—æœ‰åºï¼Œæœ‰åºé•¿åº¦ä¸æ–­å¢åŠ ã€‚</p></blockquote><h4 id="ç›´æ¥æ’å…¥æ’åº">ç›´æ¥æ’å…¥æ’åº</h4><blockquote><p>ç›´æ¥æ’å…¥æ’åºï¼šé‡‡ç”¨é¡ºåºæŸ¥æ‰¾æ³•æŸ¥æ‰¾æ’å…¥ä½ç½®ã€‚</p><ul><li>åŸå§‹æ•°æ®è¶Šæ¥è¿‘æœ‰åºï¼Œæ’åºé€Ÿåº¦è¶Šå¿«ã€‚</li><li>æ—¶é—´å¤æ‚åº¦=O(n<sup>2</sup>)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ã€‚ç¨³å®šæ’åºã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%8A%A8%E5%9B%BE.gif" alt="æ’å…¥æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        insert_sort(arr);</span><br><span class="line">        <span class="comment">// insert_sort1(arr);</span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for + while å®ç°</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insert_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="comment">// ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåŸºå‡†å…ƒç´ ï¼Œä¸‹æ ‡ä¸º0</span></span><br><span class="line">        <span class="comment">// ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œä¸‹æ ‡ä¸º1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// ä¸´æ—¶ä¿å­˜éœ€è¦è¿›è¡Œæ’å…¥çš„å…ƒç´ </span></span><br><span class="line">            <span class="built_in">int</span> insert_elem = arr[i];</span><br><span class="line">            <span class="comment">// è®°å½•å½“å‰éœ€è¦è¿›è¡Œæ’å…¥æ’åºçš„å…ƒç´ çš„ä½ç½®</span></span><br><span class="line">            <span class="built_in">int</span> position = i;</span><br><span class="line">            <span class="comment">// ä» position å‘å‰éå†ï¼Œå¤§äºæ’å…¥å…ƒç´ åˆ™åç§»ï¼Œç›´è‡³æ‰¾åˆ°ç›®æ ‡å…ƒç´ æ’å…¥ä½ç½®</span></span><br><span class="line">            <span class="keyword">while</span> (position &gt; <span class="number">0</span> &amp;&amp; arr[position - <span class="number">1</span>] &gt; insert_elem)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// åç§»</span></span><br><span class="line">                arr[position] = arr[position - <span class="number">1</span>];</span><br><span class="line">                <span class="comment">// å‘å‰éå†</span></span><br><span class="line">                position--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (position != i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// å°†ç›®æ ‡å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®</span></span><br><span class="line">                arr[position] = insert_elem;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸¤ä¸ª for å¾ªç¯</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insert_sort1</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i, j;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// ä¸´æ—¶å­˜å‚¨ç›®æ ‡å…ƒç´ </span></span><br><span class="line">            <span class="built_in">int</span> temp = arr[i];</span><br><span class="line">            <span class="comment">// ä»ç›®æ ‡å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ å¼€å§‹å‘å‰éå†</span></span><br><span class="line">            <span class="comment">// ç›´åˆ°éå†ä¸‹æ ‡ &lt;= 0ï¼Œå¹¶ä¸”éå†å…ƒç´ å¤§äºç›®æ ‡å…ƒç´ æ—¶</span></span><br><span class="line">            <span class="comment">// å°†å¤§äºç›®æ ‡å…ƒç´ çš„å…ƒç´ å‘åç§»</span></span><br><span class="line">            <span class="keyword">for</span> (j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[j + <span class="number">1</span>] = arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†ç›®æ ‡å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®</span></span><br><span class="line">            arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9<br>æ’åºåçš„æ•°ç»„ï¼š<br>3 5 6 7 8 9</p></blockquote><hr><h4 id="æŠ˜åŠæ’å…¥æ’åº">æŠ˜åŠæ’å…¥æ’åº</h4><blockquote><p>æŠ˜åŠæ’å…¥æ’åºï¼šå‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œä½†æ²¡æœ‰å‡å°‘ç§»åŠ¨æ¬¡æ•°ã€‚</p><ul><li><p>å¹³å‡æ€§èƒ½ä¼˜äºç›´æ¥æ’å…¥æ’åºã€‚</p></li><li><p>æ—¶é—´å¤æ‚åº¦=O(n<sup>2</sup>)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ã€‚ç¨³å®šæ’åºã€‚</p></li></ul></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        half_sort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">half_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp, low, high, mid;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            low = <span class="number">0</span>; <span class="comment">// å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®</span></span><br><span class="line">            high = i - <span class="number">1</span>; <span class="comment">// å¾…æ’å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">            temp = arr[i]; <span class="comment">// å¾…æ’å…ƒç´ ä¸´æ—¶å­˜å‚¨</span></span><br><span class="line">            <span class="keyword">while</span> (low &lt;= high) <span class="comment">// å½“ high &lt; low æ—¶é€€å‡ºå¾ªç¯</span></span><br><span class="line">            &#123;</span><br><span class="line">                mid = low + (high - low) / <span class="number">2</span>; <span class="comment">// å–æ’å¥½æ•°ç»„ä¸­çš„ä¸­é—´å…ƒç´ ä½ç½®</span></span><br><span class="line">                <span class="keyword">if</span> (arr[mid] &gt; temp)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸­é—´å…ƒç´ å¤§äºå¾…æ’å…ƒç´ ï¼Œåˆ™highå‘å‰ç§»åŠ¨ï¼Œç»§ç»­æ¯”è¾ƒ</span></span><br><span class="line">                    high = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœä¸­é—´å…ƒç´ å°äºå¾…æ’å…ƒç´ ï¼Œåˆ™lowå‘åç§»åŠ¨ï¼Œç»§ç»­æ¯”è¾ƒ</span></span><br><span class="line">                    low = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = i - <span class="number">1</span>; j &gt;= high + <span class="number">1</span>; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[j + <span class="number">1</span>] = arr[j];</span><br><span class="line">            &#125;</span><br><span class="line">            arr[high + <span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9<br>æ’åºåçš„æ•°ç»„ï¼š<br>3 5 6 7 8 9</p></blockquote><hr><h4 id="å¸Œå°”æ’åº">å¸Œå°”æ’åº</h4><blockquote><p>å¸Œå°”æ’åºï¼šå…ˆå°†æ•´ä¸ªä»£æ’åºåˆ—åˆ†å‰²æˆè‹¥å¹²å­åºåˆ—ï¼Œåˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•<code>åŸºæœ¬æœ‰åº</code>æ—¶ï¼Œå†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚</p><ul><li><p>ç¼©å°å¢é‡ï¼Œå¤šéæ’å…¥æ’åºã€‚</p></li><li><p>æ—¶é—´å¤æ‚åº¦=O(n<sup>1.25</sup>~1.6n<sup>1.25</sup>)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ï¼Œä¸ç¨³å®šæ’åºã€‚ä¸é€‚åˆåœ¨é“¾å¼å­˜å‚¨ç»“æ„ä¸Šå®ç°ã€‚</p></li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.gif" alt="å¸Œå°”æ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        shell_sort(arr);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">shell_sort</span>(<span class="params"><span class="built_in">int</span>[] arr</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> length = arr.Length;</span><br><span class="line">        <span class="built_in">int</span> interval = <span class="number">1</span>; <span class="comment">// åˆå§‹åŒ–é—´éš”ä¸º1</span></span><br><span class="line">        <span class="comment">// è®¡ç®—æœ€å¤§é—´éš”</span></span><br><span class="line">        <span class="keyword">while</span> (interval &lt; length / <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            interval = interval * <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¹æ®é—´éš”æ•°ï¼Œä¸æ–­åˆ’åˆ†å­åºåˆ—ï¼Œå¹¶å¯¹å„å­åºåˆ—æ’åº</span></span><br><span class="line">        <span class="keyword">while</span> (interval &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> i, j, temp;</span><br><span class="line">            <span class="keyword">for</span> (i = interval; i &lt; length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                temp = arr[i];</span><br><span class="line">                j = i;</span><br><span class="line">                <span class="keyword">while</span> (j &gt; interval - <span class="number">1</span> &amp;&amp; arr[j - interval] &gt;= temp)</span><br><span class="line">                &#123;</span><br><span class="line">                    arr[j] = arr[j - interval];</span><br><span class="line">                    j -= interval;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j != i)</span><br><span class="line">                &#123;</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è®¡ç®—æ–°é—´éš”</span></span><br><span class="line">            interval = (interval - <span class="number">1</span>) / <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9<br>æ’åºåçš„æ•°ç»„ï¼š<br>3 5 6 7 8 9</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åœ¨æœ‰åºåºåˆ—ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œä¿æŒåºåˆ—æœ‰åºï¼Œæœ‰åºé•¿åº¦ä¸æ–­å¢åŠ ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;ç›´æ¥æ’å…¥æ’åº&quot;&gt;ç›´æ¥æ’å…¥æ’åº&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç›´æ¥æ’å…¥æ’åºï¼šé‡‡ç”¨é¡ºåºæŸ¥æ‰¾æ³•æŸ¥æ‰¾æ’å…¥ä½ç½®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ’å…¥æ’åº" scheme="https://azzurebubble.github.io/tags/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>æ’åºç®—æ³•â€”â€”äº¤æ¢æ’åº</title>
    <link href="https://azzurebubble.github.io/posts/327191a2.html"/>
    <id>https://azzurebubble.github.io/posts/327191a2.html</id>
    <published>2023-07-20T11:42:10.000Z</published>
    <updated>2024-04-20T01:10:50.269Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>äº¤æ¢æ’åºåŸºæœ¬æ€æƒ³ï¼šä¸¤ä¸¤æ¯”è¾ƒï¼Œå¦‚æœå‘ç”Ÿé€†åºåˆ™äº¤æ¢ï¼Œç›´åˆ°æ‰€æœ‰è®°å½•éƒ½æ’å¥½åºä¸ºæ­¢ã€‚</p></blockquote><h4 id="å†’æ³¡æ’åº">å†’æ³¡æ’åº</h4><blockquote><p>å†’æ³¡æ’åºï¼šæ¯è¶Ÿä¸æ–­å°†è®°å½•ä¸¤ä¸¤æ¯”è¾ƒï¼Œå¹¶æŒ‰â€œå‰å°åå¤§â€è§„åˆ™äº¤æ¢ã€‚</p><ul><li>äº‹ä»¶å¤æ‚åº¦=O(n<sup>2</sup>)ï¼Œç©ºé—´å¤æ‚çš„=O(1)ã€‚ç¨³å®šæ’åºã€‚</li><li>ä¼˜ç‚¹ï¼šæ¯è¶Ÿç»“æŸï¼Œä¸ä»…èƒ½æŒ¤å‡ºä¸€ä¸ªæœ€å¤§å€¼åˆ°æœ€åä½ç½®ï¼Œè¿˜èƒ½åŒæ—¶éƒ¨åˆ†ç†é¡ºå…¶ä»–å…ƒç´ ã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E5%8A%A8%E5%9B%BE.gif" alt="å†’æ³¡æ’åºåŠ¨å›¾"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] list = &#123; <span class="number">1</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">3</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(list[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        Bubble_sort(list);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(list[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Bubble_sort</span>(<span class="params"><span class="built_in">int</span>[] list</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp;</span><br><span class="line">        <span class="comment">// æ¯”è¾ƒ length - 1 è¶Ÿ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Length - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ¯è¶Ÿæ¯”è¾ƒæ¬¡æ•°æ¯”å‰ä¸€è¶Ÿå°‘ä¸€æ¬¡</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; list.Length - <span class="number">1</span> - i; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// ä¸¤ä¸¤æ¯”è¾ƒå…ƒç´ ï¼Œå°çš„å‰ç§»ï¼Œå¤§çš„åç§»</span></span><br><span class="line">                <span class="keyword">if</span> (list[j] &gt; list[j + <span class="number">1</span>])</span><br><span class="line">                &#123;</span><br><span class="line">                    temp = list[j];</span><br><span class="line">                    list[j] = list[j + <span class="number">1</span>];</span><br><span class="line">                    list[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>1 5 9 7 3<br>æ’åºåçš„æ•°ç»„ï¼š<br>1 3 5 7 9</p></blockquote><hr><h4 id="å¿«é€Ÿæ’åº">å¿«é€Ÿæ’åº</h4><blockquote><p>å¿«é€Ÿæ’åºï¼ˆåˆ†æ²»ç®—æ³•æ€æƒ³ï¼‰ï¼šä»»å–ä¸€ä¸ªå…ƒç´ ä¸ºä¸­å¿ƒï¼Œæ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ ä¸€å¾‹å‰æ”¾ï¼Œå¤§çš„åæ”¾ï¼Œå½¢æˆå·¦å³ä¸¤ä¸ªå­è¡¨ã€‚</p><ul><li>æœ€åæƒ…å†µï¼Œæ—¶é—´å¤æ‚åº¦=O(n<sup>2</sup>)ã€‚ç†æƒ³çŠ¶æ€ï¼Œæ—¶é—´å¤æ‚åº¦=O(nlog<sub>2</sub>n)ï¼Œç©ºé—´å¤æ‚åº¦=O(1)ï¼Œä¸ç¨³å®šæ’åºï¼Œä¸æ˜¯è‡ªç„¶æ’åºã€‚</li><li>ä¸é€‚äºåŸæœ¬æœ‰åºæˆ–åŸºæœ¬æœ‰åºçš„è®°å½•åºåˆ—è¿›è¡Œæ’åºã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.gif" alt="å¿«é€Ÿæ’åº"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ–å‘æ³•ï¼šç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡å­˜å‚¨åŸºå‡†å…ƒç´ </span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        quick_sort(arr, <span class="number">0</span>, arr.Length - <span class="number">1</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quick_sort</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> left, <span class="built_in">int</span> right</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> l = left; <span class="comment">// è®°å½•å·¦æŒ‡é’ˆå…ƒç´ </span></span><br><span class="line">        <span class="built_in">int</span> r = right; <span class="comment">// è®°å½•å³æŒ‡é’ˆå…ƒç´ </span></span><br><span class="line">        <span class="keyword">if</span> (left &gt;= right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// é€’å½’é€€å‡ºæ¡ä»¶ï¼šå·¦æŒ‡é’ˆ &gt;= å³æŒ‡é’ˆ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">int</span> pivot = arr[left]; <span class="comment">// ä»¥æ•°ç»„å·¦è¾¹ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºåŸºå‡†å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// ä»æ•°ç»„æœ€å³å¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å…ƒç´ å°çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">while</span> (arr[right] &gt; pivot &amp;&amp; left &lt; right)</span><br><span class="line">            &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left &lt; right)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// æŠŠå³è¾¹ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å°çš„å…ƒç´ ï¼Œæ”¾åˆ°æ•°ç»„å·¦è¾¹</span></span><br><span class="line">                arr[left++] = arr[right];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä»æœ€å·¦è¾¹æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å…ƒç´ å¤§çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">while</span> (arr[left] &lt; pivot &amp;&amp; left &lt; right)</span><br><span class="line">            &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left &lt; right)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// æŠŠå·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†å¤§çš„å…ƒç´ ï¼Œæ”¾åˆ°æ•°ç»„å³è¾¹</span></span><br><span class="line">                arr[right--] = arr[left];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“å·¦å³æŒ‡é’ˆé‡åˆé€€å‡º while åï¼ŒæŠŠåŸºå‡†å…ƒç´ æ”¾åˆ°å½“å‰ left ä½ç½®</span></span><br><span class="line">        arr[left] = pivot;</span><br><span class="line">        quick_sort(arr, l, left - <span class="number">1</span>); <span class="comment">// é€’å½’è°ƒç”¨å¿«é€Ÿæ’åºï¼Œæ’å¥½åŸºå‡†å…ƒç´ å·¦è¾¹çš„å…ƒç´ </span></span><br><span class="line">        quick_sort(arr, left + <span class="number">1</span>, r); <span class="comment">// é€’å½’è°ƒç”¨å¿«é€Ÿæ’åºï¼Œæ’å¥½åŸºå‡†å…ƒç´ å³è¾¹çš„å…ƒç´ </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Hoareç‰ˆï¼šåŸºæœ¬æ€æƒ³å°±æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘å¾…æ’åºæ•°ç»„çš„å¼€å¤´å’Œç»“å°¾ã€‚</span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span> &#125;;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœªæ’åºå‰çš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">        Hoare_quick_sort(arr, <span class="number">0</span>, arr.Length - <span class="number">1</span>);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ’åºåçš„æ•°ç»„ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; arr.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Hoare_quick_sort</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> left, <span class="built_in">int</span> right</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (left &gt;= right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">int</span> pivot = left; <span class="comment">// å­˜å‚¨åŸºå‡†å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="built_in">int</span> l = left;</span><br><span class="line">        <span class="built_in">int</span> r = right;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right &amp;&amp; arr[right] &gt;= arr[pivot])</span><br><span class="line">            &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right &amp;&amp; arr[left] &lt;= arr[pivot])</span><br><span class="line">            &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(arr, left, right);</span><br><span class="line">        &#125;</span><br><span class="line">        swap(arr, pivot, left);</span><br><span class="line">        Hoare_quick_sort(arr, l, left - <span class="number">1</span>);</span><br><span class="line">        Hoare_quick_sort(arr, left + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span>(<span class="params"><span class="built_in">int</span>[] arr, <span class="built_in">int</span> left, <span class="built_in">int</span> right</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> temp = arr[left];</span><br><span class="line">        arr[left] = arr[right];</span><br><span class="line">        arr[right] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æœªæ’åºå‰çš„æ•°ç»„ï¼š<br>5 7 3 8 6 9<br>æ’åºåçš„æ•°ç»„ï¼š<br>3 5 6 7 8 9</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;äº¤æ¢æ’åºåŸºæœ¬æ€æƒ³ï¼šä¸¤ä¸¤æ¯”è¾ƒï¼Œå¦‚æœå‘ç”Ÿé€†åºåˆ™äº¤æ¢ï¼Œç›´åˆ°æ‰€æœ‰è®°å½•éƒ½æ’å¥½åºä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;å†’æ³¡æ’åº&quot;&gt;å†’æ³¡æ’åº&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å†’æ³¡æ’åºï¼šæ¯è¶Ÿä¸æ–­å°†è®°å½•ä¸¤ä¸¤æ¯”è¾ƒï¼Œå¹¶æŒ‰â€œå‰å°åå¤§â€è§„åˆ™äº¤</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="æ’åºç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    <category term="äº¤æ¢æ’åº" scheme="https://azzurebubble.github.io/tags/%E4%BA%A4%E6%8D%A2%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”å›æº¯ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/69848392.html"/>
    <id>https://azzurebubble.github.io/posts/69848392.html</id>
    <published>2023-07-15T13:00:58.000Z</published>
    <updated>2024-04-20T01:10:50.274Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å›æº¯ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå®é™…ä¸Šæ˜¯ä¸€ä¸ªç±»ä¼¼æšä¸¾çš„æœç´¢å°è¯•è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯åœ¨æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£ï¼Œå½“å‘ç°ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶ï¼Œå°±â€œå›æº¯â€è¿”å›ï¼Œå°è¯•åˆ«çš„è·¯å¾„ã€‚æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚</p><p>å›æº¯ç®—æ³•ç»å¸¸ä»¥é€’å½’çš„æ–¹å¼å®ç°ï¼Œç”¨æ¥è§£å†³ä»¥ä¸‹3ç±»é—®é¢˜ï¼š</p><ul><li>å†³ç­–é—®é¢˜ï¼šä»ä¼—å¤šé€‰æ‹©ä¸­æ‰¾åˆ°ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼›</li><li>ä¼˜åŒ–é—®é¢˜ï¼šä»ä¼—å¤šé€‰æ‹©ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€ä½³çš„è§£å†³æ–¹æ¡ˆï¼›</li><li>æšä¸¾é—®é¢˜ï¼šæ‰¾å‡ºè§£å†³é—®é¢˜çš„æ‰€æœ‰æ–¹æ¡ˆã€‚</li></ul><p>ç»å…¸é—®é¢˜æœ‰ï¼šNçš‡åé—®é¢˜ï¼Œè¿·å®«é—®é¢˜ç­‰ã€‚</p></blockquote><h5 id="æ‰¾åˆ°ä»Aåˆ°Kçš„è¡Œèµ°è·¯çº¿">æ‰¾åˆ°ä»Aåˆ°Kçš„è¡Œèµ°è·¯çº¿</h5><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95%E2%80%94%E6%89%BE%E4%BB%8EA-K%E7%9A%84%E8%A1%8C%E8%B5%B0%E8%B7%AF%E7%BA%BF.png" alt="å›æº¯ç®—æ³•â€”æ‰¾ä»A-Kçš„è¡Œèµ°è·¯çº¿"></p><h5 id="è§£é¢˜æ€è·¯ï¼š">è§£é¢˜æ€è·¯ï¼š</h5><blockquote><p>æ‰€è°“â€œå›æº¯â€ï¼Œå…¶å®å°±æ˜¯å›é€€ã€å€’é€€çš„æ„æ€ã€‚ä»ä»¥å›¾ 1 ä¸ºä¾‹ï¼Œå›æº¯ç®—æ³•æŸ¥æ‰¾ä» A åˆ° K è·¯çº¿çš„è¿‡ç¨‹æ˜¯ï¼š</p><ul><li>ä» A å‡ºå‘ï¼Œå…ˆé€‰æ‹© A-B è·¯çº¿ï¼›ç»§ç»­ä» B å‡ºå‘ï¼Œå…ˆé€‰æ‹© B-C è·¯çº¿ï¼›åˆ°è¾¾ C ç‚¹åå‘ç°æ— è·¯å¯é€‰ï¼Œè¡¨æ˜å½“å‰è·¯çº¿æ— æ³•è¾¾åˆ° K ç‚¹ï¼Œè¯¥ç®—æ³•ä¼šç«‹åˆ»å›é€€åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ B ç‚¹ï¼›</li><li>ä» B ç‚¹å‡ºå‘ï¼Œé€‰æ‹© B-D è·¯çº¿ï¼Œè¾¾åˆ° D ç‚¹åå‘ç°æ— æ³•åˆ°è¾¾ K ç‚¹ï¼Œè¯¥ç®—æ³•å†å›é€€åˆ° B ç‚¹ï¼›</li><li>ä» B ç‚¹å‡ºå‘å·²ç»æ²¡æœ‰æ–°çš„çº¿è·¯å¯ä»¥é€‰æ‹©ï¼Œè¯¥ç®—æ³•å†æ¬¡å›é€€åˆ° A ç‚¹ï¼Œé€‰æ‹©æ–°çš„ A-E è·¯çº¿ï¼›</li><li>ç»§ç»­ä»¥åŒæ ·çš„æ–¹å¼æµ‹è¯• A-E-F-Gã€A-E-F-Hã€A-E-J-I è¿™ 3 æ¡çº¿è·¯åï¼Œæœ€ç»ˆæ‰¾åˆ° A-E-J-K è·¯çº¿ã€‚</li></ul></blockquote><h3 id="å›æº¯ç®—æ³•çš„ç»å…¸åº”ç”¨">å›æº¯ç®—æ³•çš„ç»å…¸åº”ç”¨</h3><h4 id="è¿·å®«é—®é¢˜">è¿·å®«é—®é¢˜</h4><blockquote><p>è¿·å®«é—®é¢˜æ˜¯æŒ‡ï¼šåœ¨ç»™å®šåŒºåŸŸå†…ï¼Œæ‰¾åˆ°ä¸€æ¡ç”šè‡³æ‰€æœ‰ä»æŸä¸ªä½ç½®åˆ°å¦ä¸€ä¸ªä½ç½®çš„ç§»åŠ¨è·¯çº¿ã€‚å¦‚ä¸‹å›¾ï¼šåœ¨ç™½è‰²åŒºåŸŸå†…æ‰¾åˆ°ä¸€æ¡ï¼ˆç”šè‡³æ‰€æœ‰ï¼‰ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯çº¿ã€‚</p><p>è§£å†³æ€è·¯ï¼š</p><ol><li>ä»å½“å‰ä½ç½®å¼€å§‹ï¼Œåˆ†åˆ«åˆ¤æ–­æ˜¯å¦å¯ä»¥å‘ 4 ä¸ªæ–¹å‘ï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³ï¼‰ç§»åŠ¨ï¼š</li><li>é€‰æ‹©ä¸€ä¸ªæ–¹å‘å¹¶ç§»åŠ¨åˆ°ä¸‹ä¸ªä½ç½®ã€‚åˆ¤æ–­æ­¤ä½ç½®æ˜¯å¦ä¸ºç»ˆç‚¹ï¼Œå¦‚æœæ˜¯å°±è¡¨ç¤ºæ‰¾åˆ°äº†ä¸€æ¡ç§»åŠ¨è·¯çº¿ï¼›å¦‚æœä¸æ˜¯ï¼Œåœ¨å½“å‰ä½ç½®ç»§ç»­åˆ¤æ–­æ˜¯å¦å¯ä»¥å‘ 4 ä¸ªæ–¹å‘ç§»åŠ¨ï¼›</li><li>å¦‚æœ 4 ä¸ªæ–¹å‘éƒ½æ— æ³•ç§»åŠ¨ï¼Œåˆ™å›é€€è‡³ä¹‹å‰çš„ä½ç½®ï¼Œç»§ç»­åˆ¤æ–­å…¶å®ƒçš„æ–¹å‘ï¼›</li><li>é‡å¤ 2ã€3 æ­¥ï¼Œæœ€ç»ˆè¦ä¹ˆæˆåŠŸæ‰¾åˆ°å¯è¡Œçš„è·¯çº¿ï¼Œè¦ä¹ˆå›é€€è‡³èµ·ç‚¹ä½ç½®ï¼Œè¡¨æ˜æ‰€æœ‰çš„è·¯çº¿éƒ½å·²ç»åˆ¤æ–­å®Œæ¯•ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%BF%B7%E5%AE%AB%E9%97%AE%E9%A2%98.png" alt="è¿·å®«é—®é¢˜"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨ 1 è¡¨ç¤ºç™½è‰²åŒºåŸŸï¼Œç”¨ 0 è¡¨ç¤ºé»‘è‰²åŒºåŸŸã€‚</span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> ROW = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> COL = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> find = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">char</span>[,] maze = <span class="keyword">new</span> <span class="built_in">char</span>[,]</span><br><span class="line">        &#123;</span><br><span class="line">            &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;1&#x27;</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        maze_puzzle(maze, <span class="number">0</span>, <span class="number">0</span>, ROW - <span class="number">1</span>, COL - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (!find)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;è¯¥è¿·å®«æ— è§£&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èµ·ç‚¹ï¼š(row, col)     ç»ˆç‚¹ï¼š(outRow, outCol)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">maze_puzzle</span>(<span class="params"><span class="built_in">char</span>[,] maze, <span class="built_in">int</span> row, <span class="built_in">int</span> col, <span class="built_in">int</span> outRow, <span class="built_in">int</span> outCol</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        maze[row, col] = <span class="string">&#x27;Y&#x27;</span>; <span class="comment">// å°†èµ°è¿‡çš„åŒºåŸŸæ ‡è®°ä¸º Y</span></span><br><span class="line">        <span class="comment">// å¦‚æœèµ°åˆ°ç»ˆç‚¹ï¼Œåˆ™è¡¨æ˜èµ·ç‚¹åˆ°ç»ˆç‚¹æœ‰è·¯çº¿</span></span><br><span class="line">        <span class="keyword">if</span> (row == outRow &amp;&amp; col == outCol)</span><br><span class="line">        &#123;</span><br><span class="line">            find = <span class="literal">true</span>;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;æˆåŠŸèµ°å‡ºè¿·å®«ï¼Œè·¯çº¿å›¾æ˜¯ï¼š&quot;</span>);</span><br><span class="line">            printMaze(maze);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¸Šæ–¹æ˜¯å¦å¯ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> (canMove(maze, row - <span class="number">1</span>, col))</span><br><span class="line">        &#123;</span><br><span class="line">            maze_puzzle(maze, row - <span class="number">1</span>, col, outRow, outCol);</span><br><span class="line">            <span class="comment">// å¦‚æœç¨‹åºä¸ç»“æŸï¼Œåˆ™æ­¤è·¯ä¸é€šï¼Œæ¢å¤è¯¥åŒºåŸŸçš„æ ‡å¿—</span></span><br><span class="line">            maze[row - <span class="number">1</span>, col] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å·¦æ–¹æ˜¯å¦å¯ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> (canMove(maze, row, col - <span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            maze_puzzle(maze, row, col - <span class="number">1</span>, outRow, outCol);</span><br><span class="line">            <span class="comment">// å¦‚æœç¨‹åºä¸ç»“æŸï¼Œåˆ™æ­¤è·¯ä¸é€šï¼Œæ¢å¤è¯¥åŒºåŸŸçš„æ ‡å¿—</span></span><br><span class="line">            maze[row, col - <span class="number">1</span>] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¸‹æ–¹æ˜¯å¦å¯ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> (canMove(maze, row + <span class="number">1</span>, col))</span><br><span class="line">        &#123;</span><br><span class="line">            maze_puzzle(maze, row + <span class="number">1</span>, col, outRow, outCol);</span><br><span class="line">            <span class="comment">// å¦‚æœç¨‹åºä¸ç»“æŸï¼Œåˆ™æ­¤è·¯ä¸é€šï¼Œæ¢å¤è¯¥åŒºåŸŸçš„æ ‡å¿—</span></span><br><span class="line">            maze[row + <span class="number">1</span>, col] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å³æ–¹æ˜¯å¦å¯ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">if</span> (canMove(maze, row, col + <span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            maze_puzzle(maze, row, col + <span class="number">1</span>, outRow, outCol);</span><br><span class="line">            <span class="comment">// å¦‚æœç¨‹åºä¸ç»“æŸï¼Œåˆ™æ­¤è·¯ä¸é€šï¼Œæ¢å¤è¯¥åŒºåŸŸçš„æ ‡å¿—</span></span><br><span class="line">            maze[row, col + <span class="number">1</span>] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">canMove</span>(<span class="params"><span class="built_in">char</span>[,] maze, <span class="built_in">int</span> row, <span class="built_in">int</span> col</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­è¾“å…¥çš„ä½ç½®æ˜¯å¦åœ¨è¿·å®«èŒƒå›´å†…ï¼Œä¸”å¯ç§»åŠ¨ï¼Œä¸”è¿˜æœªç§»åŠ¨è¿‡</span></span><br><span class="line">        <span class="keyword">return</span> row &gt;= <span class="number">0</span> &amp;&amp; row &lt;= ROW - <span class="number">1</span> &amp;&amp; col &gt;= <span class="number">0</span> &amp;&amp; col &lt;= COL - <span class="number">1</span></span><br><span class="line">            &amp;&amp; maze[row, col] != <span class="string">&#x27;0&#x27;</span> &amp;&amp; maze[row, col] != <span class="string">&#x27;Y&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMaze</span>(<span class="params"><span class="built_in">char</span>[,] maze</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; ROW; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; COL; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.Write(maze[i, j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºï¼š</p><p>æˆåŠŸèµ°å‡ºè¿·å®«ï¼Œè·¯çº¿å›¾æ˜¯ï¼š<br>Y 0 Y Y Y<br>Y Y Y 0 Y<br>1 0 0 Y Y<br>1 0 0 Y 0<br>1 0 0 Y Y</p></blockquote><h4 id="Nçš‡åé—®é¢˜">Nçš‡åé—®é¢˜</h4><blockquote><p>Nçš‡åé—®é¢˜æºè‡ªå›½é™…è±¡æ£‹ï¼Œæ‰€æœ‰æ£‹å­ä¸­æƒåŠ›æœ€å¤§çš„ç§°ä¸ºçš‡åï¼Œå®ƒå¯ä»¥ç›´ç€èµ°ã€æ¨ªç€èµ°ã€æ–œç€èµ°ï¼ˆæ²¿45åº¦è§’ï¼‰ï¼Œå¯ä»¥æ”»å‡»ç§»åŠ¨é€”ä¸­é‡åˆ°çš„ä»»ä½•æ£‹å­ã€‚Nçš‡åé—®é¢˜çš„å…·ä½“å†…å®¹æ˜¯ï¼šå¦‚ä½•å°†Nä¸ªçš‡åæ‘†æ”¾åœ¨N*Nçš„æ£‹ç›˜ä¸­ï¼Œä½¿å®ƒä»¬æ— æ³•ç›¸äº’æ”»å‡»ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p>è§£å†³æ€è·¯ï¼š</p><p>è¦æƒ³ä½¿ N ä¸ªçš‡åä¸ç›¸äº’æ”»å‡»ï¼Œåº”å°†å®ƒä»¬æ”¾ç½®åœ¨ä¸åŒçš„è¡Œã€ä¸åŒçš„åˆ—ã€è¿˜ä¸èƒ½ä½äºåŒä¸€æ¡ 45Â°ï¼ˆæˆ– 135Â°ï¼‰è§’çš„æ–œçº¿ä¸Šã€‚</p><p>å›æº¯ç®—æ³•è§£å†³Nçš‡åé—®é¢˜çš„å…·ä½“æ€è·¯æ˜¯ï¼šå°† N ä¸ªçš‡åé€ä¸€æ”¾ç½®åœ¨ä¸åŒçš„è¡Œï¼Œä»¥â€œå›æº¯â€çš„æ–¹å¼é€ä¸€æµ‹è¯•å‡ºæ¯è¡Œçš‡åæ‰€åœ¨è¡Œçš„å…·ä½“ä½ç½®ï¼Œæœ€ç»ˆç¡®å®šæ‰€æœ‰çš‡åçš„ä½ç½®ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/N%E7%9A%87%E5%90%8E%E9%97%AE%E9%A2%98.png" alt="Nçš‡åé—®é¢˜"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span>[] q = <span class="keyword">new</span> <span class="built_in">int</span>[<span class="number">20</span>]; <span class="comment">// æ¯ä¸ªçš‡åçš„æ‰€åœ¨åˆ—æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> count = <span class="number">0</span>; <span class="comment">// count ç§è§£å†³æ–¹æ¡ˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.Write(<span class="string">&quot;è¯·è¾“å…¥çš‡åçš„ä¸ªæ•°ï¼š&quot;</span>);</span><br><span class="line">        <span class="built_in">string</span> sc = Console.ReadLine();</span><br><span class="line">        <span class="built_in">int</span> n = <span class="built_in">int</span>.Parse(sc);</span><br><span class="line">        n_queues(<span class="number">1</span>, n);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…±æœ‰ &quot;</span> + count + <span class="string">&quot; ç§æ‘†æ”¾æ–¹å¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Nçš‡åç®—æ³•</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;k&quot;&gt;</span>ç¬¬å‡ è¡Œæ•°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;n&quot;&gt;</span>çš‡åä¸ªæ•°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">n_queues</span>(<span class="params"><span class="built_in">int</span> k, <span class="built_in">int</span> n</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> j;</span><br><span class="line">        <span class="comment">// é€’å½’å‡ºå£ï¼šå½“å‰è¡Œæ•°å¤§äºçš‡åä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (k &gt; n)</span><br><span class="line">        &#123;</span><br><span class="line">            print(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å°è¯•ç¬¬ k è¡Œçš„æ¯ä¸€åˆ—ï¼Œæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„åˆ—</span></span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (isSafe(k, j))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// å­˜è¿›æ•°ç»„ä¸­ä¿å­˜</span></span><br><span class="line">                    q[k] = j;</span><br><span class="line">                    <span class="comment">// ç¡®è®¤ç¬¬ k è¡Œçš‡åä½ç½®åï¼Œç»§ç»­ä¸‹ä¸€è¡Œçš„çš‡åçš„ä½ç½®åˆ¤æ–­ã€‚</span></span><br><span class="line">                    n_queues(k + <span class="number">1</span>, n);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="title">isSafe</span>(<span class="params"><span class="built_in">int</span> k, <span class="built_in">int</span> j</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰å…¶ä»–çš‡åä½ç½®åœ¨åŒä¸€åˆ—ï¼Œæˆ–è€…ä½äºè¯¥ä½ç½®çš„æ–œçº¿ä½ç½®ä¸Šï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¸èƒ½æ”¾</span></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// åŒä¸€æ–œçº¿åˆ¤æ–­è§„åˆ™ï¼š|è¡Œå·å·®å€¼| = |åˆ—å·å·®å€¼|</span></span><br><span class="line">            <span class="keyword">if</span> (q[i] == j || Math.Abs(i - k) == Math.Abs(q[i] - j))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span>(<span class="params"><span class="built_in">int</span> n</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> i, j;</span><br><span class="line">        count++;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç¬¬ &quot;</span> + count + <span class="string">&quot; ä¸ªè§£ä¸ºï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; i++) <span class="comment">// è¡Œ</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt;= n; j++) <span class="comment">// åˆ—</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (q[i] != j)</span><br><span class="line">                &#123;</span><br><span class="line">                    Console.Write(<span class="string">&quot;x&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Console.Write(<span class="string">&quot;Q&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Console.WriteLine();</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ï¼š4</p><p>ç¬¬ 1 ä¸ªè§£ä¸ºï¼š<br>xxQxx<br>xxxxQ<br>xQxxx<br>xxxQx</p><p>ç¬¬ 2 ä¸ªè§£ä¸ºï¼š<br>xxxQx<br>xQxxx<br>xxxxQ<br>xxQxx</p><p>å…±æœ‰ 2 ç§æ‘†æ”¾æ–¹å¼</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å›æº¯ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå®é™…ä¸Šæ˜¯ä¸€ä¸ªç±»ä¼¼æšä¸¾çš„æœç´¢å°è¯•è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯åœ¨æœç´¢å°è¯•è¿‡ç¨‹ä¸­å¯»æ‰¾é—®é¢˜çš„è§£ï¼Œå½“å‘ç°ä¸æ»¡è¶³æ±‚è§£æ¡ä»¶æ—¶ï¼Œå°±â€œå›æº¯â€è¿”å›ï¼Œå°è¯•åˆ«çš„è·¯å¾„ã€‚æ˜¯ä¸€ç§é€‰ä¼˜æœç´¢æ³•ï¼ŒæŒ‰é€‰ä¼˜æ¡ä»¶å‘å‰æœç´¢ï¼Œä»¥è¾¾åˆ°ç›®æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;å›æº¯ç®—æ³•ç»å¸¸ä»¥é€’å½’çš„æ–¹å¼å®ç°ï¼Œç”¨æ¥è§£</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="å›æº¯ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”åŠ¨æ€è§„åˆ’ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/d7fe9934.html"/>
    <id>https://azzurebubble.github.io/posts/d7fe9934.html</id>
    <published>2023-06-07T08:18:24.000Z</published>
    <updated>2024-04-20T01:10:50.272Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŠ¨è§„çš„åŸºæœ¬æ€æƒ³ï¼šåŠ¨è§„çš„å®è´¨æ˜¯åˆ†æ²»æ€æƒ³å’Œè§£å†³å†—ä½™ã€‚å°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²å­é—®é¢˜ï¼Œé€šè¿‡è§£å†³å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚æ˜¯ä¸€ç§è§£å†³å¤šé˜¶æ®µå†³ç­–é—®é¢˜çš„ä¼˜åŒ–æ–¹æ³•ã€‚</p><p>ä¸åˆ†æ²»ç®—æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œåˆ†æ²»ç®—æ³•æ‹†åˆ†å‡ºçš„å°é—®é¢˜ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè€ŒåŠ¨è§„æ‹†åˆ†çš„å°é—®é¢˜ä¹‹é—´æ˜¯ç›¸äº’å…³è”çš„ï¼Œæƒ³è¦è§£å†³é—®é¢˜ A ï¼Œå°±å¿…é¡»å…ˆè§£å†³é—®é¢˜ B å’Œ Cã€‚</p><p>åŠ¨æ€è§„åˆ’ç®—æ³•çš„å…³é”®åœ¨äºå°†åŸé—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼Œå¹¶åˆ©ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥æ„é€ åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚é€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å®šä¹‰å’Œé€’æ¨æ±‚è§£è¿‡ç¨‹ï¼ŒåŠ¨æ€è§„åˆ’ç®—æ³•èƒ½å¤Ÿé¿å…é‡å¤è®¡ç®—ï¼Œæé«˜é—®é¢˜æ±‚è§£çš„æ•ˆç‡ã€‚å®ƒé€‚ç”¨äºé‚£äº›å…·æœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ï¼Œå¦‚æœ€çŸ­è·¯å¾„é—®é¢˜ã€èƒŒåŒ…é—®é¢˜ã€åºåˆ—æ¯”å¯¹ç­‰ã€‚ï¼ˆç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•ï¼‰</p></blockquote><h3 id="åŠ¨è§„ç®—æ³•çš„è§£é¢˜æ€è·¯">åŠ¨è§„ç®—æ³•çš„è§£é¢˜æ€è·¯</h3><p>ç”¨ f(n) è¡¨ç¤ºå‡‘é½é¢å€¼ n æ‰€éœ€çº¸å¸çš„æœ€å°‘æ•°é‡ï¼Œé¢å€¼ 15 çš„æ‹¼å‡‘æ–¹æ¡ˆæœ‰ 3 ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><ul><li>f(15) = f(14) +1ï¼šæŒ‘é€‰ä¸€å¼ é¢å€¼ä¸º 1 çš„çº¸å¸ï¼Œf(14) è¡¨ç¤ºæ‹¼å‡‘å‡ºé¢å€¼ 14 æ‰€éœ€è¦çš„æœ€å°‘çš„çº¸å¸æ•°é‡ï¼›</li><li>f(15) = f(8) + 1ï¼šæŒ‘é€‰ä¸€å¼ é¢å€¼ä¸º 7 çš„çº¸å¸ï¼Œf(8) è¡¨ç¤ºæ‹¼å‡‘å‡ºé¢å€¼ 8 æ‰€éœ€è¦çš„æœ€å°‘çš„çº¸å¸æ•°é‡ï¼›</li><li>f(15) = f(5) + 1ï¼šé€‰æ‹©ä¸€å¼ é¢å€¼ä¸º10 çš„çº¸å¸ï¼Œf(5) è¡¨ç¤ºæ‹¼å‡‘å‡ºé¢å€¼ 5 æ‰€éœ€è¦çš„æœ€å°‘çš„çº¸å¸æ•°é‡ã€‚</li></ul><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œf(14)+1ã€f(8)+1 å’Œ f(5)+1 ä¸‰è€…ä¸­çš„æœ€å°å€¼å°±æ˜¯æœ€ä¼˜çš„æ‹¼å‡‘æ–¹æ¡ˆã€‚é‡‡ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œç»§ç»­æ±‚ f(14)ã€f(8)ã€f(5) çš„å€¼ï¼š</p><ul><li>f(5) = f(4) + 1ï¼›</li><li>f(8) = f(7) + 1 = f(1) +1ï¼›</li><li>f(14) = f(13)+1 = f(7) + 1 = f(4) +1ã€‚</li></ul><h3 id="åŠ¨æ€è§„åˆ’ç®—æ³•çš„ç»å…¸åº”ç”¨">åŠ¨æ€è§„åˆ’ç®—æ³•çš„ç»å…¸åº”ç”¨</h3><h4 id="0-1èƒŒåŒ…é—®é¢˜">0-1èƒŒåŒ…é—®é¢˜</h4><blockquote><p>è™šæ‹Ÿä¸€ä¸ªåœºæ™¯ï¼Œå•†åº—ä¸­æ‹¥æœ‰ 5 ä»¶å•†å“ï¼Œå®ƒä»¬å„è‡ªçš„é‡é‡å’Œæ”¶ç›Šåˆ†åˆ«æ˜¯ï¼š</p><ul><li>å•†å“ 1ï¼šé‡é‡ 1 æ–¤ï¼Œæ”¶ç›Š 1 å…ƒï¼›</li><li>å•†å“ 2ï¼šé‡é‡ 2 æ–¤ï¼Œæ”¶ç›Š 6 å…ƒï¼›</li><li>å•†å“ 3ï¼šé‡é‡ 5 æ–¤ï¼Œæ”¶ç›Š 18 å…ƒï¼›</li><li>å•†å“ 4ï¼šé‡é‡ 6 æ–¤ï¼Œæ”¶ç›Š 22 å…ƒï¼›</li><li>å•†å“ 5ï¼šé‡é‡ 7 æ–¤ï¼Œæ”¶ç›Š 28 å…ƒã€‚</li></ul><p>æ‰€æœ‰å•†å“ä¸å¯å†åˆ†ï¼Œé¡¾å®¢è¦ä¹ˆâ€œæ•´ä»¶â€è´­ä¹°å•†å“ï¼Œè¦ä¹ˆæ”¾å¼ƒè´­ä¹°ã€‚ä¸€ä¸ªå°å·æƒ³çªƒå–å•†å“ï¼Œä»–çš„èƒŒåŒ…åªèƒ½è£… 11 æ–¤å•†å“ï¼Œå¦‚ä½•é€‰æ‹©å•†å“æ‰èƒ½è·å¾—æœ€å¤§çš„æ”¶ç›Šå‘¢ï¼Ÿ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98_1.png" alt="01èƒŒåŒ…é—®é¢˜_1"></p><blockquote><p>è¡¨æ ¼ä¸­ï¼Œwi è¡¨ç¤ºç¬¬ i ä»¶å•†å“çš„é‡é‡ï¼Œvi è¡¨ç¤ºç¬¬ i ä»¶å•†å“çš„æ”¶ç›Šå€¼ã€‚æ‰¿é‡ä¸åŒçš„å„ä¸ªèƒŒåŒ…å°šæœªè£…å…¥å•†å“æ—¶ï¼Œå¯¹åº”çš„æ”¶ç›Šå€¼éƒ½ä¸º 0ã€‚</p></blockquote><ol><li><p>é¦–å…ˆè€ƒè™‘å°†å•†å“ä¸€è£…å…¥å„ä¸ªèƒŒåŒ…ï¼Œé™¤äº†æ‰¿é‡å€¼ä¸º 0 çš„èƒŒåŒ…ï¼Œå…¶å®ƒèƒŒåŒ…éƒ½èƒ½è£…å…¥ï¼Œä¸”ä¸ä¸è£…ä»»ä½•å•†å“ç›¸æ¯”ï¼Œè£…å…¥å•†å“ä¸€åå„ä¸ªèƒŒåŒ…çš„æ”¶ç›Šæ›´å¤§</p><p><img src="https://cdn.staticaly.com/gh/AzureBubble/PicBed@main/showImg/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98_2.png" alt="01èƒŒåŒ…é—®é¢˜_2"></p><p>æˆ‘ä»¬ç”¨ f(n) è¡¨ç¤ºæ‰¿é‡å€¼ä¸º n çš„èƒŒåŒ…å¯¹åº”çš„æœ€å¤§æ”¶ç›Šã€‚ä»ç®—æ³•çš„è§’åº¦ï¼Œå„ä¸ªèƒŒåŒ…æ”¶ç›Šå€¼æ˜¯è¿™æ ·è®¡ç®—çš„ï¼šf(1)=1+f(0)ã€f(2)=1+f(1)ã€â€¦ã€f(11)=1+f(10)ï¼Œå…¶ä¸­ç­‰å·å³ä¾§è¡¨è¾¾å¼ä¸­çš„ 1 æŒ‡çš„æ˜¯å•†å“ä¸€çš„æ”¶ç›Šå€¼ï¼Œf(0) - f(10) æŒ‡çš„æ˜¯ä¸è£…ä»»ä½•å•†å“æ—¶æ‰¿é‡åˆ†åˆ«ä¸º 0 - 10 çš„èƒŒåŒ…å¯¹åº”çš„æ”¶ç›Šå€¼ï¼Œå€ŸåŠ©è¡¨æ ¼å¯ä»¥çœ‹åˆ°ï¼Œå®ƒä»¬çš„å€¼éƒ½ä¸º 0ã€‚</p></li><li><p>è€ƒè™‘å°†å•†å“äºŒè£…å…¥å„ä¸ªèƒŒåŒ…ï¼Œé™¤äº†æ‰¿é‡å€¼ä¸º 0 å’Œ 1 çš„èƒŒåŒ…ï¼Œå…¶å®ƒèƒŒåŒ…éƒ½å¯ä»¥è£…å…¥ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºå®ƒä»¬å„è‡ªå¯¹åº”çš„æ”¶ç›Šå€¼ï¼š</p><blockquote><p>f(2) = 6 + f(0) = 6<br>f(3) = 6 + f(1) = 7<br>f(4) = 6 + f(2) = 7<br>â€¦<br>f(9) = 6 + f(7) = 7<br>f(10) = 6 + f(8) = 7<br>f(11) = 6 + f(9) = 7</p></blockquote><p>ç­‰å·å³ä¾§ f(0)~f(9) çš„å€¼æ˜¯è¡¨ 2 ä¸­è£…å…¥å•†å“ä¸€çš„å„ä¸ªèƒŒåŒ…å¯¹åº”çš„æ”¶ç›Šå€¼ã€‚ç›¸æ¯”è£…å…¥å•†å“ä¸€ç»Ÿè®¡çš„å„ä¸ªèƒŒåŒ…çš„æ”¶ç›Šå€¼ï¼Œè£…å…¥å•†å“äºŒèƒ½ä½¿æé«˜å„ä¸ªèƒŒåŒ…çš„æ”¶ç›Šã€‚æ›´æ–°åçš„è¡¨æ ¼ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98_3.png" alt="01èƒŒåŒ…é—®é¢˜_3"></p></li><li><p>è€ƒè™‘å°†å•†å“ä¸‰è£…å…¥å„ä¸ªèƒŒåŒ…ï¼Œé™¤äº†æ‰¿é‡å€¼ä¸ºå°äº 5 çš„èƒŒåŒ…ï¼Œå…¶å®ƒèƒŒåŒ…éƒ½å¯ä»¥è£…å…¥ã€‚æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºå®ƒä»¬å„è‡ªå¯¹åº”çš„æ”¶ç›Šå€¼ï¼š</p><blockquote><p>f(5) = 18 + f(0) = 18<br>f(6) = 18 + f(1) = 19<br>f(7) = 18 + f(2) = 24<br>f(8) = 18 + f(3) = 25<br>f(9) = 18 + f(4) = 25<br>f(10) = 18 + f(5) = 25<br>f(11) = 18 + f(6) = 25</p></blockquote><p>ç­‰å·å³ä¾§ f(0)~f(6) çš„å€¼æ˜¯è¡¨ 2 ä¸­è£…å…¥å•†å“äºŒçš„å„ä¸ªèƒŒåŒ…å¯¹åº”çš„æ”¶ç›Šå€¼ã€‚å’Œè£…å…¥å•†å“äºŒæ—¶ç»Ÿè®¡çš„å„ä¸ªèƒŒåŒ…çš„æ”¶ç›Šå€¼ç›¸æ¯”ï¼Œè£…å…¥å•†å“ä¸‰èƒ½æé«˜å„ä¸ªèƒŒåŒ…çš„æ”¶ç›Šã€‚æ›´æ–°åçš„è¡¨æ ¼ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98_4.png" alt="01èƒŒåŒ…é—®é¢˜_4"></p></li><li><p>é‡‡ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¡¨ 4 ä¸­ç¼ºå¤±çš„æ•°æ®è¡¥å…¨ï¼Œæœ€ç»ˆå¾—åˆ°çš„è¡¨æ ¼ä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/01%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98_5.png" alt="01èƒŒåŒ…é—®é¢˜_5"></p><blockquote><p>æ³¨æ„ï¼Œå¹¶ä¸æ˜¯æ¯è¯•å›¾è£…å…¥ä¸€ä¸ªæ–°å•†å“ï¼ŒèƒŒåŒ…çš„æ”¶ç›Šä¸€å®šä¼šæé«˜ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ‰¿é‡ä¸º 7 æ–¤çš„èƒŒåŒ…è£…å…¥å•†å“å››æ—¶çš„æœ€å¤§æ”¶ç›Šæ˜¯ï¼šf(7) = 22+f(1) = 23ï¼Œè£…å…¥å•†å“ä¸‰æ—¶æœ€å¤§çš„æ”¶ç›Šå€¼ä¸ºï¼šf(7) = 18+f(2) = 24ã€‚å› æ­¤ï¼Œä¸Šå›¾ä¸­æ‰¿é‡ 7 æ–¤çš„èƒŒåŒ…è£…å…¥å•†å“ 4 æ—¶å¯¹åº”çš„æ”¶ç›Šå€¼ä»ä¸º 24ï¼Œå¹¶æœªå‘ç”Ÿæ”¹å˜ã€‚</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> N = <span class="number">5</span>; <span class="comment">// å•†å“ç§ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> W = <span class="number">11</span>; <span class="comment">// èƒŒåŒ…çš„æœ€å¤§æ‰¿é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * åŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³01èƒŒåŒ…é—®é¢˜</span></span><br><span class="line"><span class="comment">     * result[N + 1][W + 1]ï¼šå­˜å‚¨æœ€ç»ˆçš„ç»“æœ</span></span><br><span class="line"><span class="comment">     * w[N + 1]ï¼šå­˜å‚¨å„å•†å“çš„é‡é‡</span></span><br><span class="line"><span class="comment">     * v[N + 1]ï¼šå­˜å‚¨å„å•†å“çš„ä»·å€¼</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] w = &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span>[] v = &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">28</span> &#125;;</span><br><span class="line">        <span class="built_in">int</span>[,] result = <span class="keyword">new</span> <span class="built_in">int</span>[N + <span class="number">1</span>, W + <span class="number">1</span>];</span><br><span class="line">        knapsack01(result, w, v);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;èƒŒåŒ…æ‰¿é‡ä¸º &#123;0&#125;,æœ€å¤§æ”¶ç›Šä¸º &#123;1&#125;&quot;</span>, W, result[N, W]);</span><br><span class="line">        Console.Write(<span class="string">&quot;é€‰æ‹©äº†ï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">select</span>(result, w, v);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">knapsack01</span>(<span class="params"><span class="built_in">int</span>[,] result, <span class="built_in">int</span>[] w, <span class="built_in">int</span>[] v</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// é€ä¸ªéå†æ¯ä¸ªå•†å“</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ±‚å‡ºä» 1 åˆ° W å„ä¸ªç§°é‡å¯¹åº”çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">1</span>; j &lt;= W; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœèƒŒåŒ…è½½é‡å°äºå•†å“æ€»é‡é‡ï¼Œåˆ™è¯¥å•†å“æ— æ³•æ”¾è¿›èƒŒåŒ…ï¼Œæ”¶ç›Šä¸å˜</span></span><br><span class="line">                <span class="keyword">if</span> (j &lt; w[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    result[i, j] = result[i - <span class="number">1</span>, j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// æ¯”è¾ƒè£…å…¥è¯¥å•†å“å’Œä¸è£…è¯¥å•†å“ï¼Œå“ªç§æƒ…å†µè·å¾—çš„æ”¶ç›Šæ›´å¤§ï¼Œè®°å½•æœ€å¤§æ”¶ç›Šå€¼</span></span><br><span class="line">                    result[i, j] = result[i - <span class="number">1</span>, j] &gt; (v[i] + result[i - <span class="number">1</span>, j - w[i]])</span><br><span class="line">                        ? result[i - <span class="number">1</span>, j] : (v[i] + result[i - <span class="number">1</span>, j - w[i]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">select</span>(<span class="params"><span class="built_in">int</span>[,] result, <span class="built_in">int</span>[] w, <span class="built_in">int</span>[] v</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> n = N;</span><br><span class="line">        <span class="built_in">int</span> bagw = W;</span><br><span class="line">        <span class="comment">// é€ä¸ªå•†å“è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåœ¨æŒ‡å®šè½½é‡é‡ä¸‹ï¼Œè¯¥å•†å“å¯¹åº”çš„æ”¶ç›Šå’Œä¸Šä¸€ä¸ªå•†å“å¯¹åº”çš„æ”¶ç›Šç›¸åŒï¼Œåˆ™è¡¨æ˜æœªé€‰ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (result[n, bagw] == result[n - <span class="number">1</span>, bagw])</span><br><span class="line">            &#123;</span><br><span class="line">                n--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è¾“å‡ºè¢«é€‰ç”¨å•†å“çš„é‡é‡å’Œä»·å€¼</span></span><br><span class="line">                Console.Write(<span class="string">$&quot;(<span class="subst">&#123;w[n]&#125;</span>,<span class="subst">&#123;v[n]&#125;</span>) &quot;</span>);</span><br><span class="line">                bagw = bagw - w[n];</span><br><span class="line">                n--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åŠ¨è§„çš„åŸºæœ¬æ€æƒ³ï¼šåŠ¨è§„çš„å®è´¨æ˜¯åˆ†æ²»æ€æƒ³å’Œè§£å†³å†—ä½™ã€‚å°†åŸé—®é¢˜åˆ†è§£ä¸ºè‹¥å¹²å­é—®é¢˜ï¼Œé€šè¿‡è§£å†³å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥å¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚æ˜¯ä¸€ç§è§£å†³å¤šé˜¶æ®µå†³ç­–é—®é¢˜çš„ä¼˜åŒ–æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸åˆ†æ²»ç®—æ³•çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œåˆ†æ²»ç®—æ³•æ‹†åˆ†å‡ºçš„å°é—®é¢˜ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè€ŒåŠ¨è§„æ‹†åˆ†çš„</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="åŠ¨æ€è§„åˆ’ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”è´ªå¿ƒç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/fa27ba66.html"/>
    <id>https://azzurebubble.github.io/posts/fa27ba66.html</id>
    <published>2023-06-07T07:54:22.000Z</published>
    <updated>2024-04-20T01:10:50.276Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è´ªå¿ƒç®—æ³•åŸºæœ¬æ€æƒ³ï¼šåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œç®—æ³•å¾—åˆ°çš„æ˜¯æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚</p><p>æ³¨æ„ï¼šè´ªå¿ƒç®—æ³•çš„æ¯ä¸€æ­¥éƒ½æ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ•´ä¸ªç®—æ³•å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼ˆå±€éƒ¨æœ€ä¼˜è§£ï¼‰ã€‚</p></blockquote><h3 id="è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨">è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨</h3><h4 id="éƒ¨åˆ†èƒŒåŒ…é—®é¢˜">éƒ¨åˆ†èƒŒåŒ…é—®é¢˜</h4><blockquote><p>èƒŒåŒ…é—®é¢˜ï¼šåœ¨é™å®šæ¡ä»¶ä¸‹ï¼Œå¦‚ä½•ä»ä¼—å¤šç‰©å“ä¸­é€‰å‡ºæ”¶ç›Šæœ€é«˜çš„å‡ ä»¶ç‰©å“ã€‚</p><p>èƒŒåŒ…é—®é¢˜å¯ç»†åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š</p><ul><li>0-1 èƒŒåŒ…é—®é¢˜ï¼šæ¯ä»¶ç‰©å“éƒ½ä¸å¯å†åˆ†ï¼Œè¦ä¹ˆæ•´ä¸ªè£…å…¥èƒŒåŒ…ï¼Œè¦ä¹ˆæ”¾å¼ƒï¼Œä¸å…è®¸å‡ºç°ç±»ä¼¼â€œå°†ç‰©å“çš„ 1/3 è£…å…¥èƒŒåŒ…â€çš„æƒ…å†µï¼›</li><li>éƒ¨åˆ†èƒŒåŒ…é—®é¢˜ï¼šæ¯ä»¶ç‰©å“æ˜¯å¯å†åˆ†çš„ï¼Œå³å…è®¸å°†æŸä»¶ç‰©å“çš„ä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ 1/3ï¼‰æ”¾å…¥èƒŒåŒ…ï¼›</li><li>å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼šæŒ‘é€‰ç‰©å“æ—¶ï¼Œæ¯ä»¶ç‰©å“å¯ä»¥é€‰æ‹©å¤šä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ä¸é™ç‰©å“çš„æ•°é‡ã€‚</li><li>å¤šé‡èƒŒåŒ…é—®é¢˜ï¼šæ¯ä»¶ç‰©å“çš„æ•°é‡æ˜¯æœ‰ä¸¥æ ¼è§„å®šçš„ï¼Œæ¯”å¦‚ç‰©å“ A æœ‰ 2 ä»¶ï¼Œç‰©å“ B æœ‰ 3 ä»¶ã€‚</li></ul><p>ä¸åŒèƒŒåŒ…é—®é¢˜ï¼Œå¯¹åº”çš„è§£å†³æ–¹æ¡ˆä¹Ÿä¸ç”¨ï¼Œè´ªå¿ƒç®—æ³•ä¸»è¦è§£å†³çš„å°±æ˜¯éƒ¨åˆ†èƒŒåŒ…é—®é¢˜ã€‚</p></blockquote><h5 id="éƒ¨åˆ†èƒŒåŒ…é—®é¢˜-2">éƒ¨åˆ†èƒŒåŒ…é—®é¢˜</h5><p>å‡è®¾å•†åº—ä¸­æœ‰ä¸‰ç§å•†å“ï¼Œå®ƒä»¬å„è‡ªçš„é‡é‡å’Œæ”¶ç›Šï¼š</p><ul><li>å•†å“ 1ï¼šé‡é‡10æ–¤ï¼Œæ”¶ç›Š60å…ƒï¼›</li><li>å•†å“ 2ï¼šé‡é‡20æ–¤ï¼Œæ”¶ç›Š100å…ƒï¼›</li><li>å•†å“ 3ï¼šé‡é‡30æ–¤ï¼Œæ”¶ç›Š120å…ƒï¼›</li></ul><blockquote><p>éƒ¨åˆ†èƒŒåŒ…é—®é¢˜ï¼Œå¯¹äºæ¯ä¸€ä»¶å•†å“ï¼Œé¡¾å®¢å¯ä»¥åªè´­ä¹°å…¶ä¸€éƒ¨åˆ†ï¼ˆå¯å†åˆ†ï¼‰ã€‚ç°</p><p>ç°åœ¨ä½ æœ‰ä¸€ä¸ªæœ€å¤šè£…50æ–¤å•†å“çš„èƒŒåŒ…ï¼Œä½ å¦‚ä½•è´­ä¹°å•†å“æ‰èƒ½ä½¿èƒŒåŒ…ä¸­çš„å•†å“æ”¶ç›Šè¾¾åˆ°æœ€å¤§åŒ–ï¼Ÿ</p><p>è´ªå¿ƒç®—æ³•æ€è·¯ï¼Œè®¡ç®—æ¯ä¸ªå•†å“çš„æ”¶ç›Šç‡ï¼ˆæ”¶ç›Š/é‡é‡ï¼‰æ¯æ¬¡ä¼˜å…ˆé€‰æ‹©æ”¶ç›Šç‡æœ€å¤§çš„å•†å“ï¼Œç›´åˆ°æ‰€é€‰å•†å“çš„æ€»é‡é‡è¾¾åˆ°äº†50æ–¤ã€‚</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> N = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wå­˜å‚¨å„ä¸ªå•†å“çš„é‡é‡ï¼Œpå­˜å‚¨å„ä¸ªå•†å“çš„æ”¶ç›Šï¼ŒWè¡¨ç¤ºèƒŒåŒ…çš„æ‰¿é‡ï¼Œvæ˜¯æ”¶ç›Šç‡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Sort</span>(<span class="params"><span class="built_in">float</span>[] w, <span class="built_in">float</span>[] p</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> temp;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æŒ‰å‡åºæ¥å­˜æ”¾æ¯ä»¶å•†å“çš„æ”¶ç›Šç‡</span></span><br><span class="line">        <span class="built_in">float</span>[] v = <span class="keyword">new</span> <span class="built_in">float</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// è®¡ç®—æ”¶ç›Šç‡ï¼ˆæ”¶ç›Š/é‡é‡ï¼‰</span></span><br><span class="line">            v[i] = p[i] / w[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ¹æ®æ”¶ç›Šç‡å‡åºæ’åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = i + <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (v[i] &lt; v[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    temp = v[i];</span><br><span class="line">                    v[i] = v[j];</span><br><span class="line">                    v[j] = temp;</span><br><span class="line"></span><br><span class="line">                    temp = w[i];</span><br><span class="line">                    w[i] = w[j];</span><br><span class="line">                    w[j] = temp;</span><br><span class="line"></span><br><span class="line">                    temp = p[i];</span><br><span class="line">                    p[i] = p[j];</span><br><span class="line">                    p[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * è´ªå¿ƒç®—æ³•è§£å†³éƒ¨åˆ†èƒŒåŒ…é—®é¢˜</span></span><br><span class="line"><span class="comment">     * wï¼šè®°å½•å„ä¸ªå•†å“çš„æ€»é‡é‡</span></span><br><span class="line"><span class="comment">     * pï¼šè®°å½•å„ä¸ªå•†å“çš„æ€»ä»·å€¼</span></span><br><span class="line"><span class="comment">     * resultï¼šè®°å½•å„ä¸ªå•†å“è£…å…¥èƒŒåŒ…çš„æ¯”ä¾‹</span></span><br><span class="line"><span class="comment">     * Wï¼šèƒŒåŒ…çš„å®¹é‡</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fractional_knaspack</span>(<span class="params"><span class="built_in">float</span>[] w, <span class="built_in">float</span>[] p,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">float</span>[] result, <span class="built_in">float</span> W</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> temp = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æ ¹æ®æ”¶ç›Šç‡æ’åº</span></span><br><span class="line">        Sort(w, p);</span><br><span class="line">        <span class="keyword">while</span> (W &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// ä»æ’å¥½åºçš„æ•°ç»„ä¸­åˆ¤æ–­é€‰ä¸­ç‰©å“æ˜¯å¦å¯ä»¥æ•´ä¸ªè£…è¿›èƒŒåŒ…</span></span><br><span class="line">            temp = W &gt; w[i] ? w[i] : W;</span><br><span class="line">            <span class="comment">// ä¸å¯ä»¥ï¼Œåˆ™è®¡ç®—å‡ºèƒŒåŒ…å®¹é‡è¿˜èƒ½è£…ä¸‹å¤šå°‘</span></span><br><span class="line">            result[i] = temp / w[i];</span><br><span class="line">            <span class="comment">// èƒŒåŒ…å‡å»è£…è¿›ç‰©å“çš„é‡é‡</span></span><br><span class="line">            W -= temp;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// èƒŒåŒ…æ€»æ”¶ç›Š</span></span><br><span class="line">        <span class="built_in">float</span> values = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æ¯ä¸ªå•†å“çš„é‡é‡</span></span><br><span class="line">        <span class="built_in">float</span>[] w = &#123; <span class="number">10</span>, <span class="number">30</span>, <span class="number">20</span> &#125;;</span><br><span class="line">        <span class="comment">// æ¯ä¸ªå•†å“çš„ä»·å€¼</span></span><br><span class="line">        <span class="built_in">float</span>[] p = &#123; <span class="number">60</span>, <span class="number">100</span>, <span class="number">120</span> &#125;;</span><br><span class="line">        <span class="built_in">float</span>[] result = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line">        <span class="comment">// èƒŒåŒ…å®¹é‡</span></span><br><span class="line">        <span class="built_in">float</span> W = <span class="number">50</span>;</span><br><span class="line">        fractional_knaspack(w, p, result, W);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; w.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// æ”¾å…¥æ¯”ä¾‹ä¸º1ï¼Œåˆ™ä¸ºæ•´ä¸ªå•†å“è£…å…¥èƒŒåŒ…</span></span><br><span class="line">            <span class="keyword">if</span> (result[i] == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;æ€»é‡é‡ä¸º&#123;0&#125;ï¼Œæ€»ä»·å€¼ä¸º&#123;1&#125;çš„å•†å“å…¨éƒ¨è£…å…¥èƒŒåŒ…ã€‚&quot;</span>, w[i], p[i]);</span><br><span class="line">                values += p[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ”¾å…¥æ¯”ä¾‹ä¸º0ï¼Œåˆ™ä¸è£…å…¥èƒŒåŒ…</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (result[i] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;æ€»é‡é‡ä¸º&#123;0&#125;ï¼Œæ€»ä»·å€¼ä¸º&#123;1&#125;çš„å•†å“ä¸è£…å…¥èƒŒåŒ…ã€‚&quot;</span>, w[i], p[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æŸä¸ªå•†å“æ”¾å…¥å¤šå°‘æ¯”ä¾‹è¿›èƒŒåŒ…</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;æ€»é‡é‡ä¸º&#123;0&#125;ï¼Œæ€»ä»·å€¼ä¸º&#123;1&#125;çš„å•†å“è£…å…¥&#123;2&#125;%èƒŒåŒ…ã€‚&quot;</span>,</span><br><span class="line">                    w[i], p[i], result[i] * <span class="number">100</span>);</span><br><span class="line">                values += p[i] * result[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœ€ç»ˆæ”¶è·çš„å•†å“ä»·å€¼ä¸º&#123;0:N6&#125;ã€‚&quot;</span>, values);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºç»“æœï¼š</p><p>æ€»é‡é‡ä¸º10ï¼Œæ€»ä»·å€¼ä¸º60çš„å•†å“å…¨éƒ¨è£…å…¥èƒŒåŒ…ã€‚<br>æ€»é‡é‡ä¸º20ï¼Œæ€»ä»·å€¼ä¸º120çš„å•†å“å…¨éƒ¨è£…å…¥èƒŒåŒ…ã€‚<br>æ€»é‡é‡ä¸º30ï¼Œæ€»ä»·å€¼ä¸º100çš„å•†å“è£…å…¥66.66667%èƒŒåŒ…ã€‚<br>æœ€ç»ˆæ”¶è·çš„å•†å“ä»·å€¼ä¸º246.666672ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;è´ªå¿ƒç®—æ³•åŸºæœ¬æ€æƒ³ï¼šåœ¨å¯¹é—®é¢˜æ±‚è§£æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸ä»æ•´ä½“æœ€ä¼˜ä¸ŠåŠ ä»¥è€ƒè™‘ï¼Œç®—æ³•å¾—åˆ°çš„æ˜¯æŸç§æ„ä¹‰ä¸Šçš„å±€éƒ¨æœ€ä¼˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šè´ªå¿ƒç®—æ³•çš„æ¯ä¸€æ­¥éƒ½æ˜¯æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ•´ä¸ªç®—æ³•å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼ˆå±€éƒ¨æœ€ä¼˜è§£ï¼‰ã€‚&lt;/p&gt;
&lt;/</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="è´ªå¿ƒç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”åˆ†æ²»ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/2a9d432c.html"/>
    <id>https://azzurebubble.github.io/posts/2a9d432c.html</id>
    <published>2023-06-07T01:17:46.000Z</published>
    <updated>2024-04-20T01:10:50.273Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åˆ†æ²»ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå…ˆå°†æ•´ä¸ªé—®é¢˜æ‹†åˆ†æˆå¤šä¸ªç›¸äº’ç‹¬ç«‹ä¸”æ•°æ®é‡æ›´å°‘çš„å°é—®é¢˜ï¼Œé€šè¿‡é€ä¸€è§£å†³è¿™äº›ç®€å•çš„å°é—®é¢˜ï¼Œæœ€ç»ˆæ‰¾åˆ°è§£å†³æ•´ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚</p><p>æ‰€è°“é—®é¢˜é—´ç›¸äº’ç‹¬ç«‹ï¼Œç®€å•ç†è§£å°±æ˜¯æ¯ä¸ªé—®é¢˜éƒ½å¯ä»¥å•ç‹¬å¤„ç†ï¼Œä¸å­˜åœ¨â€œè°å…ˆå¤„ç†ï¼Œè°åå¤„ç†â€çš„æ¬¡åºé—®é¢˜ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95.png" alt="åˆ†æ²»ç®—æ³•"></p><blockquote><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ†æ²»ç®—æ³•è§£å†³é—®é¢˜çš„è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p><ol><li>åˆ†ï¼šå°†æ•´ä¸ªé—®é¢˜åˆ’åˆ†æˆå¤šä¸ªç›¸å¯¹ç‹¬ç«‹ã€æ¶‰åŠæ•°æ®é‡æ›´å°‘çš„å°é—®é¢˜ï¼Œæœ‰äº›å°é—®é¢˜è¿˜å¯ä»¥åˆ’åˆ†æˆå¾ˆå¤šæ›´å°çš„é—®é¢˜ï¼Œç›´è‡³æ¯ä¸ªé—®é¢˜éƒ½ä¸å¯å†åˆ†ï¼›</li><li>æ²»ï¼šé€ä¸ªè§£å†³æ‰€æœ‰çš„å°é—®é¢˜ï¼›</li><li>åˆå¹¶ï¼šå°†æ‰€æœ‰å°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆåˆå¹¶åˆ°ä¸€èµ·ï¼Œæ‰¾åˆ°è§£å†³æ•´ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚</li></ol></blockquote><h3 id="åˆ†æ²»ç®—æ³•çš„ç»å…¸åº”ç”¨">åˆ†æ²»ç®—æ³•çš„ç»å…¸åº”ç”¨</h3><h4 id="æ±‰è¯ºå¡”é—®é¢˜">æ±‰è¯ºå¡”é—®é¢˜</h4><blockquote><ul><li><p>æ¯æ¬¡åªèƒ½ç§»åŠ¨æŸ±å­æœ€é¡¶ç«¯çš„ä¸€ä¸ªåœ†ç›˜ï¼›</p></li><li><p>æ¯ä¸ªæŸ±å­ä¸Šï¼Œå°åœ†ç›˜æ°¸è¿œè¦ä½äºå¤§åœ†ç›˜ä¹‹ä¸Šï¼›</p></li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%B1%89%E8%AF%BA%E5%A1%94%E9%97%AE%E9%A2%98.gif" alt="æ±‰è¯ºå¡”é—®é¢˜"></p><h5 id="åˆ†æ²»ç®—æ³•è§£å†³æ±‰è¯ºå¡”é—®é¢˜">åˆ†æ²»ç®—æ³•è§£å†³æ±‰è¯ºå¡”é—®é¢˜</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> i = <span class="number">1</span>; <span class="comment">// ç»Ÿè®¡ç§»åŠ¨æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Hanoi(åœ†ç›˜ä¸ªæ•°ï¼Œèµ·å§‹æŸ±å­ï¼Œç›®æ ‡æŸ±å­ï¼Œè¾…åŠ©æŸ±å­)</span></span><br><span class="line">        Hanoi(<span class="number">3</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Hanoi</span>(<span class="params"><span class="built_in">int</span> n, <span class="built_in">char</span> sou, <span class="built_in">char</span> tar, <span class="built_in">char</span> aux</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="comment">// åªæœ‰ä¸€ä¸ªåœ†ç›˜ï¼Œç›´æ¥ä»èµ·å§‹æŸ±ç§»åŠ¨åˆ°ç›®æ ‡æŸ±</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;ç¬¬&#123;0&#125;æ¬¡ï¼Œä»&#123;1&#125;ç§»åŠ¨åˆ°&#123;2&#125;&quot;</span>, i, sou, tar);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// é€’å½’è°ƒç”¨ Hanoi æ–¹æ³•ï¼Œå°† num-1 ä¸ªåœ†ç›˜ä»èµ·å§‹ç§»åŠ¨åˆ°è¾…åŠ©æŸ±ä¸Š</span></span><br><span class="line">            Hanoi(n - <span class="number">1</span>, sou, aux, tar);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;ç¬¬&#123;0&#125;æ¬¡ï¼Œä»&#123;1&#125;ç§»åŠ¨åˆ°&#123;2&#125;&quot;</span>, i, sou, tar);</span><br><span class="line">            i++;</span><br><span class="line">            <span class="comment">// å°†è¾…åŠ©æŸ±ä¸Šçš„num-1åœ†ç›˜ç§»åŠ¨åˆ°ç›®æ ‡æŸ±ä¸Š</span></span><br><span class="line">            Hanoi(n - <span class="number">1</span>, aux, tar, sou);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å‡ºç»“æœï¼š</p><p>ç¬¬1æ¬¡ï¼Œä»Aç§»åŠ¨åˆ°B<br>ç¬¬2æ¬¡ï¼Œä»Aç§»åŠ¨åˆ°B<br>ç¬¬3æ¬¡ï¼Œä»Cç§»åŠ¨åˆ°B<br>ç¬¬4æ¬¡ï¼Œä»Aç§»åŠ¨åˆ°B<br>ç¬¬5æ¬¡ï¼Œä»Cç§»åŠ¨åˆ°B<br>ç¬¬6æ¬¡ï¼Œä»Cç§»åŠ¨åˆ°B<br>ç¬¬7æ¬¡ï¼Œä»Aç§»åŠ¨åˆ°B</p></blockquote><h4 id="å¯»æ‰¾æ•°ç»„ä¸­æœ€å¤§æœ€å°å€¼é—®é¢˜">å¯»æ‰¾æ•°ç»„ä¸­æœ€å¤§æœ€å°å€¼é—®é¢˜</h4><blockquote><p>æŸ¥æ‰¾æ•°ç»„ï¼ˆåºåˆ—ï¼‰ä¸­æœ€å¤§å€¼æˆ–æœ€å°å€¼çš„ç®—æ³•æœ‰å¾ˆå¤š</p></blockquote><h5 id="æ™®é€šçš„è¿­ä»£ç®—æ³•æ³•æ±‚æœ€å¤§æœ€å°å€¼">æ™®é€šçš„è¿­ä»£ç®—æ³•æ³•æ±‚æœ€å¤§æœ€å°å€¼</h5><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC%E9%97%AE%E9%A2%98_%E6%99%AE%E9%80%9A%E7%AE%97%E6%B3%95.gif" alt="æœ€å¤§æœ€å°å€¼é—®é¢˜_æ™®é€šç®—æ³•"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        n = Convert.ToInt32(Console.ReadLine());</span><br><span class="line">        <span class="built_in">int</span>[] a = <span class="keyword">new</span> <span class="built_in">int</span>[n];</span><br><span class="line">        <span class="built_in">string</span>? input = Console.ReadLine();</span><br><span class="line">        <span class="comment">// é€šè¿‡ç©ºæ ¼åˆ†å‰²è¾“å…¥çš„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="built_in">string</span>[] inputs = input?.Split(<span class="string">&#x27; &#x27;</span>) ?? <span class="keyword">new</span> <span class="built_in">string</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; inputs.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i] = <span class="built_in">int</span>.Parse(inputs[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        GetMaxMin(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GetMaxMin</span>(<span class="params"><span class="built_in">int</span>[] a</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> max = a[<span class="number">0</span>], min = a[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// è¿­ä»£å¯¹æ¯”ï¼Œé€‰å‡ºå…¶ä¸­æœ€å¤§å€¼å’Œæœ€å°å€¼å­˜å‚¨èµ·æ¥</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt; a.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; max)</span><br><span class="line">            &#123;</span><br><span class="line">                max = a[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &lt; min)</span><br><span class="line">            &#123;</span><br><span class="line">                min = a[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœ€å¤§å€¼ä¸ºï¼š&quot;</span> + max + <span class="string">&quot;\næœ€å°å€¼ä¸ºï¼š&quot;</span> + min);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ï¼š</p><p>4</p><p>3 7 2 1</p><p>è¾“å…¥ç»“æœï¼š</p><p>æœ€å¤§å€¼ä¸ºï¼š7<br>æœ€å°å€¼ä¸ºï¼š1</p></blockquote><h5 id="åˆ†æ²»ç®—æ³•æ±‚è§£">åˆ†æ²»ç®—æ³•æ±‚è§£</h5><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC%E9%97%AE%E9%A2%98_%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95.png" alt="æœ€å¤§æœ€å°å€¼é—®é¢˜_åˆ†æ²»ç®—æ³•.png"></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> n;</span><br><span class="line">        n = Convert.ToInt32(Console.ReadLine());</span><br><span class="line">        <span class="built_in">int</span>[] a = <span class="keyword">new</span> <span class="built_in">int</span>[n];</span><br><span class="line">        <span class="built_in">string</span>? input = Console.ReadLine();</span><br><span class="line">        <span class="comment">// é€šè¿‡ç©ºæ ¼åˆ†å‰²è¾“å…¥çš„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="built_in">string</span>[] inputs = input?.Split(<span class="string">&#x27; &#x27;</span>) ?? <span class="keyword">new</span> <span class="built_in">string</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; inputs.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i] = <span class="built_in">int</span>.Parse(inputs[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æœ€å¤§å€¼ä¸ºï¼š&quot;</span>GetMax(a, <span class="number">0</span>, n - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">GetMax</span>(<span class="params"><span class="built_in">int</span>[] a, <span class="built_in">int</span> left, <span class="built_in">int</span> right</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span> maxLeft = <span class="number">0</span>, maxRight = <span class="number">0</span>, middle = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å¦‚æœæ•°æ®ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">if</span> (a == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ¯”è¾ƒçš„æ•°æ®åªå‰©ä¸‹ä¸€ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (right - left == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> a[left];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ¯”è¾ƒçš„æ•°æ®åªå‰©ä¸‹ä¸¤ä¸ªæ•°</span></span><br><span class="line">        <span class="comment">// åˆ™è¿”å›å¤§çš„é‚£ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">if</span> (right - left &lt;= <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[left] &gt;= a[right])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> a[left];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> a[right];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å–æ•°ç»„ä¸­é—´ç´¢å¼•å€¼</span></span><br><span class="line">        middle = (right - left) / <span class="number">2</span> + left;</span><br><span class="line">        <span class="comment">// é€’å½’è°ƒç”¨ GetMax æ‰¾åˆ°æ•°ç»„å·¦è¾¹æ•°æ®ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">        maxLeft = GetMax(a, left, middle);</span><br><span class="line">        <span class="comment">// é€’å½’è°ƒç”¨ GetMax æ‰¾åˆ°æ•°ç»„å³è¾¹æ•°æ®ä¸­çš„æœ€å¤§å€¼</span></span><br><span class="line">        maxRight = GetMax(a, middle + <span class="number">1</span>, right);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å¾—åˆ°çš„å·¦å³ä¸¤è¾¹æœ€åè¿”å›çš„å€¼çš„å¤§å°</span></span><br><span class="line">        <span class="keyword">if</span> (maxLeft &gt;= maxRight)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> maxLeft;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> maxRight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ï¼š</p><p>4</p><p>3 7 2 1</p><p>è¾“å…¥ç»“æœï¼š</p><p>æœ€å¤§å€¼ä¸ºï¼š 7</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;åˆ†æ²»ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå…ˆå°†æ•´ä¸ªé—®é¢˜æ‹†åˆ†æˆå¤šä¸ªç›¸äº’ç‹¬ç«‹ä¸”æ•°æ®é‡æ›´å°‘çš„å°é—®é¢˜ï¼Œé€šè¿‡é€ä¸€è§£å†³è¿™äº›ç®€å•çš„å°é—®é¢˜ï¼Œæœ€ç»ˆæ‰¾åˆ°è§£å†³æ•´ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;æ‰€è°“é—®é¢˜é—´ç›¸äº’ç‹¬ç«‹ï¼Œç®€å•ç†è§£å°±æ˜¯æ¯ä¸ªé—®é¢˜éƒ½å¯ä»¥å•ç‹¬å¤„ç†ï¼Œä¸å­˜åœ¨â€œè°å…ˆå¤„ç†ï¼Œè°åå¤„ç†â€çš„æ¬¡åºé—®é¢˜ã€‚&lt;/p</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="åˆ†æ²»ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•â€”â€”é€’å½’ç®—æ³•</title>
    <link href="https://azzurebubble.github.io/posts/1999c5c.html"/>
    <id>https://azzurebubble.github.io/posts/1999c5c.html</id>
    <published>2023-06-06T09:27:28.000Z</published>
    <updated>2024-04-20T01:10:50.277Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é€’å½’ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå°±æ˜¯ç¨‹åºä¸­ä¸æ–­åå¤çš„è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚è¿™é‡Œå¼ºè°ƒçš„é‡ç‚¹æ˜¯è°ƒç”¨è‡ªèº«ï¼Œå°±æ˜¯è¦æ±‚è§£çš„é—®é¢˜èƒ½å¤Ÿè¢«åˆ†è§£æˆ<strong>å¤šä¸ªç›¸åŒçš„å°é—®é¢˜</strong>è¿™æ ·é€šè¿‡å¤šæ¬¡é€’å½’è°ƒç”¨ï¼Œä¾¿å¯ä»¥å®Œæˆæ±‚è§£ã€‚</p><p>é€’å½’ï¼šå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰è°ƒç”¨å…¶è‡ªèº«çš„è¿‡ç¨‹ã€‚</p><p>é€’å½’å‡½æ•°ï¼šè°ƒç”¨è‡ªèº«çš„å‡½æ•°ã€‚</p><p>é€’å½’ç®—æ³•ï¼šç”¨é€’å½’çš„æ–¹å¼è§£å†³é—®é¢˜çš„ç®—æ³•ã€‚</p></blockquote><h3 id="å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰è°ƒç”¨è‡ªèº«çš„å®ç°æ–¹å¼æœ‰2ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š">å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰è°ƒç”¨è‡ªèº«çš„å®ç°æ–¹å¼æœ‰2ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</h3><h4 id="ç›´æ¥è°ƒç”¨è‡ªèº«">ç›´æ¥è°ƒç”¨è‡ªèº«</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="built_in">int</span> <span class="title">function</span>(<span class="params"><span class="comment">/*...*/</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨è‡ªèº«</span></span><br><span class="line">    function(<span class="comment">/*...*/</span>);</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é—´æ¥è°ƒç”¨è‡ªèº«">é—´æ¥è°ƒç”¨è‡ªèº«</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="built_in">int</span> <span class="title">function1</span>(<span class="params"><span class="comment">/*...*/</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">    function2(<span class="comment">/*...*/</span>);</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="built_in">int</span> <span class="title">function2</span>(<span class="params"><span class="comment">/*...*/</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨ function1() å‡½æ•°</span></span><br><span class="line">    function1(<span class="comment">/*...*/</span>);</span><br><span class="line">    <span class="comment">// ......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è®¾è®¡é€’å½’å‡½æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªç»“æŸé€’å½’çš„â€œå‡ºå£â€ï¼Œå¦åˆ™å‡½æ•°ä¼šä¸€ç›´è°ƒç”¨è‡ªèº«ï¼Œé€ æˆæ­»å¾ªç¯ï¼Œç›´åˆ°ç³»ç»Ÿå´©æºƒã€‚ä»¥ä¸‹ä¸ºä¸€ä¸ªä½¿ç”¨é€’å½’ç®—æ³•æ±‚è§£ nï¼çš„ä¾‹å­ã€‚</p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> input = Console.ReadLine();</span><br><span class="line">        <span class="built_in">int</span> n = <span class="built_in">int</span>.Parse(input);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;n&#125;</span>çš„é˜¶ä¹˜æ˜¯ï¼š<span class="subst">&#123;Factorial(n)&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Factorial</span>(<span class="params"><span class="built_in">int</span> n</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// é€’å½’ç»“æŸçš„å‡ºå£</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span> || n == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è°ƒç”¨è‡ªèº«</span></span><br><span class="line">        <span class="keyword">return</span> n * Factorial(n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ï¼š3</p><p>è¾“å‡ºç»“æœä¸ºï¼š</p><p>3çš„é˜¶ä¹˜æ˜¯ï¼š6</p></blockquote><h3 id="é€’å½’ç®—æ³•çš„åº•å±‚æœºåˆ¶">é€’å½’ç®—æ³•çš„åº•å±‚æœºåˆ¶</h3><blockquote><p>é€’å½’ç®—æ³•çš„åº•å±‚æœºåˆ¶å®ç°å…¶å®å°±æ˜¯é€šè¿‡æ•°æ®ç»“æ„ä¸­æ ˆå®ç°çš„ï¼Œä½¿ç”¨æ ˆç»“æ„ä¿å­˜è°ƒç”¨è€…çš„çŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…æ‹¬æš‚åœæ—¶å±€éƒ¨å˜é‡çš„å€¼ã€å¯„å­˜å™¨ä¸­ä¿å­˜çš„æ•°æ®ç­‰ç­‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95%E7%9A%84%E6%A0%88.png" alt="é€’å½’ç®—æ³•çš„æ ˆ"></p><h3 id="é€’å½’ç®—æ³•çš„ç»å…¸åº”ç”¨">é€’å½’ç®—æ³•çš„ç»å…¸åº”ç”¨</h3><h4 id="æ–æ³¢é‚£å¥‘æ•°åˆ—">æ–æ³¢é‚£å¥‘æ•°åˆ—</h4><blockquote><p>å‰ä¸¤ä¸ªæ•°çš„å€¼åˆ†åˆ«ä¸º 0 ã€1 æˆ–è€… 1ã€1ï¼›</p><p>ä»ç¬¬ 3 ä¸ªæ•°å­—å¼€å§‹ï¼Œå®ƒçš„å€¼æ˜¯å‰ä¸¤ä¸ªæ•°å­—çš„å’Œï¼›</p><p>å¦‚ï¼š1 1 2 3 5 8 13 21 34â€¦</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97.gif" alt="æ–æ³¢é‚£å¥‘æ•°åˆ—"></p><h5 id="é€’å½’ç®—æ³•å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—">é€’å½’ç®—æ³•å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> input = Console.ReadLine();</span><br><span class="line">        <span class="built_in">int</span> n = <span class="built_in">int</span>.Parse(input);</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;<span class="subst">&#123;n&#125;</span>ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºï¼š&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.Write(<span class="string">&quot;&#123;0&#125; &quot;</span>, Fibonacci(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">Fibonacci</span>(<span class="params"><span class="built_in">int</span> n</span>) <span class="comment">// index ç´¢å¼•ç¬¬å‡ ä¸ªæ•°</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span> || n == <span class="number">2</span>) <span class="comment">// å¦‚æœæ˜¯ç¬¬1ä¸ªå’Œç¬¬2ä¸ªæ•°åˆ™éƒ½è¿”å›1</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›å‰ä¸¤æ•°ä¹‹å’Œ</span></span><br><span class="line">        <span class="keyword">return</span> Fibonacci(n - <span class="number">1</span>) + Fibonacci(n - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥ï¼š10</p><p>è¾“å‡ºç»“æœä¸ºï¼š</p><p>10ä¸ªæ•°çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºï¼š<br>1 1 2 3 5 8 13 21 34 55</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;é€’å½’ç®—æ³•çš„åŸºæœ¬æ€æƒ³ï¼šå°±æ˜¯ç¨‹åºä¸­ä¸æ–­åå¤çš„è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚è¿™é‡Œå¼ºè°ƒçš„é‡ç‚¹æ˜¯è°ƒç”¨è‡ªèº«ï¼Œå°±æ˜¯è¦æ±‚è§£çš„é—®é¢˜èƒ½å¤Ÿè¢«åˆ†è§£æˆ&lt;strong&gt;å¤šä¸ªç›¸åŒçš„å°é—®é¢˜&lt;/strong&gt;è¿™æ ·é€šè¿‡å¤šæ¬¡é€’å½’è°ƒç”¨ï¼Œä¾¿å¯ä»¥å®Œæˆæ±‚è§£ã€‚&lt;/p&gt;
&lt;p&gt;é€’å½’ï¼šå‡½æ•°ï¼ˆæ–¹æ³•ï¼‰è°ƒç”¨å…¶</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="é€’å½’ç®—æ³•" scheme="https://azzurebubble.github.io/tags/%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼ˆBehavioral Design Patternsï¼‰ - 11ç§</title>
    <link href="https://azzurebubble.github.io/posts/33555d0d.html"/>
    <id>https://azzurebubble.github.io/posts/33555d0d.html</id>
    <published>2023-04-15T02:00:44.000Z</published>
    <updated>2024-04-20T01:10:50.278Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼-ï¼ˆBehavioral-Design-Patternsï¼‰-11ç§">è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ ï¼ˆBehavioral Design Patternsï¼‰- 11ç§</h2><p>[TOC]</p><h3 id="ä»€ä¹ˆæ˜¯è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼">ä»€ä¹ˆæ˜¯è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼</h3><blockquote><p>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼ˆBehavioral Design Patternsï¼‰æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç±»ï¼Œç”¨äºæè¿°å¯¹è±¡ä¹‹é—´çš„äº¤äº’å’Œé€šä¿¡æ–¹å¼ï¼Œå…³æ³¨å¯¹è±¡çš„è¡Œä¸ºå’Œç›¸äº’ä½œç”¨ã€‚è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼é€šå¸¸ç”¨äºå¤„ç†å¯¹è±¡ä¹‹é—´çš„ç®—æ³•ã€è´£ä»»ã€çŠ¶æ€ç­‰è¡Œä¸ºç›¸å…³çš„é—®é¢˜ï¼Œä»¥å®ç°æ›´çµæ´»ã€å¯å¤ç”¨ã€å¯æ‰©å±•çš„è½¯ä»¶ç³»ç»Ÿã€‚</p><p>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹åä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼š</p><ol><li>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ï¼šå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œé€šè¿‡ä¸€æ¡é“¾å¼çš„æ–¹å¼ä¾æ¬¡å¤„ç†è¯·æ±‚ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„å¤„ç†è€…ã€‚</li><li>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ï¼šå°†è¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†å…¶å‘é€ç»™ä¸åŒçš„æ¥æ”¶è€…ï¼Œä»è€Œå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚</li><li>è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ï¼šå®šä¹‰äº†ä¸€ç§è¯­è¨€çš„æ–‡æ³•å’Œè§£é‡Šå™¨ï¼Œç”¨äºè§£é‡Šå’Œæ‰§è¡Œç‰¹å®šçš„è¯­è¨€è¡¨è¾¾å¼ã€‚</li><li>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ï¼šæä¾›ä¸€ç§ä¸€è‡´çš„æ–¹å¼æ¥éå†é›†åˆå¯¹è±¡ä¸­çš„å…ƒç´ ï¼Œè€Œä¸æš´éœ²å…¶å†…éƒ¨ç»“æ„ã€‚</li><li>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ï¼šå°†å¯¹è±¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨å’Œé€šä¿¡å°è£…åˆ°ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ä¸­ï¼Œä»è€Œå‡å°‘å¯¹è±¡ä¹‹é—´çš„ç›´æ¥ä¾èµ–å…³ç³»ã€‚</li><li>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ï¼šå®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</li><li>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ï¼šå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä»è€Œçœ‹èµ·æ¥åƒæ˜¯æ”¹å˜äº†å…¶ç±»ã€‚</li><li>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†å…¶å°è£…æˆç‹¬ç«‹çš„å¯¹è±¡ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä»è€Œåœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©ä¸åŒçš„ç®—æ³•ã€‚</li><li>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰ï¼šå®šä¹‰ä¸€ä¸ªç®—æ³•éª¨æ¶ï¼Œå°†å…¶ä¸­çš„æŸäº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ï¼Œä»è€Œåœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡å­ç±»æ¥æ”¹å˜ç®—æ³•çš„å…·ä½“å®ç°ã€‚</li><li>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ï¼šå°†å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ“ä½œåˆ†ç¦»æˆå¤šä¸ªç‹¬ç«‹çš„æ“ä½œï¼Œä»è€Œå¯ä»¥åœ¨ä¸æ”¹å˜å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹å¢åŠ æ–°çš„æ“ä½œã€‚</li></ol></blockquote><hr><h3 id="ä¸€ã€è´£ä»»é“¾æ¨¡å¼ï¼ˆChain-of-Responsibility-Patternï¼‰">ä¸€ã€è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</h3><blockquote><p>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†å¤„ç†è¯·æ±‚çš„å¯¹è±¡ç»„æˆä¸€æ¡é“¾ï¼Œå¹¶åœ¨è¯¥é“¾ä¸Šä¾æ¬¡å¤„ç†è¯·æ±‚ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„å¤„ç†è€…ä¸ºæ­¢ã€‚è´£ä»»é“¾æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…äº†å°†è¯·æ±‚å‘é€ç»™å›ºå®šçš„æ¥æ”¶è€…ã€‚</p><p>åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œé€šå¸¸ä¼šå°†å¤„ç†è€…ç»„æˆä¸€æ¡é“¾ï¼Œå¹¶å°†è¯·æ±‚ä»é“¾çš„èµ·å§‹ç‚¹å‘é€ç»™ç¬¬ä¸€ä¸ªå¤„ç†è€…ï¼Œç„¶åè¯¥å¤„ç†è€…å¯ä»¥é€‰æ‹©å¤„ç†è¯·æ±‚æˆ–è€…å°†è¯·æ±‚ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„å¤„ç†è€…æˆ–è€…è¯·æ±‚åˆ°è¾¾é“¾çš„æœ«å°¾ã€‚è¿™æ ·å¯ä»¥å®ç°ä¸€ç§è¯·æ±‚å¤„ç†çš„æµç¨‹ï¼Œä¸åŒçš„å¤„ç†è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„é€»è¾‘æ¥å¤„ç†è¯·æ±‚ï¼Œä»è€Œå®ç°çµæ´»çš„è¯·æ±‚å¤„ç†æ–¹å¼ã€‚</p><p><u>æ„å›¾ï¼šä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼ŒçŸ¥é“æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</u></p><p><u><code>Chain of Responsibility Patterné€‚ç”¨äºï¼š</code></u></p><ol><li>æœ‰å¤šä¸ªçš„å¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚</li><li>æƒ³åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹å‘å¤šä¸ªå¯¹è±¡ç§çš„ä¸€ä¸ªæäº¤è¯·æ±‚ã€‚</li><li>å¯å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„å¯¹è±¡é›†åˆåº”è¢«åŠ¨æ€æŒ‡å®šã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="è´£ä»»é“¾æ¨¡å¼ç»“æ„å›¾"></p><h5 id="è´£ä»»é“¾æ¨¡å¼çš„ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼š">è´£ä»»é“¾æ¨¡å¼çš„ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼š</h5><ol><li><p><strong>æŠ½è±¡å¤„ç†è€…ï¼ˆHandlerï¼‰</strong></p><blockquote><p>å®šä¹‰äº†å¤„ç†è¯·æ±‚çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼Œä»¥åŠè®¾ç½®å’Œè·å–ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>å…·ä½“å¤„ç†è€…ï¼ˆConcrete Handlerï¼‰</strong></p><blockquote><p>å®ç°äº†æŠ½è±¡å¤„ç†è€…æ¥å£ï¼Œå…·ä½“å¤„ç†è¯·æ±‚çš„é€»è¾‘ï¼Œå¹¶å¯ä»¥é€‰æ‹©å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚</p></blockquote></li><li><p><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong></p><blockquote><p>åˆ›å»ºå¹¶ç»„ç»‡è´£ä»»é“¾ï¼Œå°†è¯·æ±‚å‘é€ç»™ç¬¬ä¸€ä¸ªå¤„ç†è€…ï¼Œå¹¶è´Ÿè´£å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„å¤„ç†è€…ã€‚</p></blockquote></li></ol><h5 id="è´£ä»»é“¾æ¨¡å¼å®ç°å‚è€ƒä»£ç ">è´£ä»»é“¾æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è´£ä»»é“¾æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡å¤„ç†è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Handler</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Handler* next;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Handler</span>(Handler* n = <span class="literal">nullptr</span>) :<span class="built_in">next</span>(n) &#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetNext</span><span class="params">(Handler* n)</span> </span>&#123; next = n; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">HandlerRequest</span><span class="params">(<span class="type">int</span> request)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">Handler</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å¤„ç†è€…A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HandlerA</span> :<span class="keyword">public</span> Handler</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HandlerRequest</span><span class="params">(<span class="type">int</span> request)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (request &lt;= <span class="number">7</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;HandlerA çš„å¤„ç†å®Œæˆï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (next)</span><br><span class="line">&#123;</span><br><span class="line">next-&gt;<span class="built_in">HandlerRequest</span>(request);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ— æ³•å¤„ç†è¯·æ±‚ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å¤„ç†è€…B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HandlerB</span> :<span class="keyword">public</span> Handler</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HandlerRequest</span><span class="params">(<span class="type">int</span> request)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (request &lt;= <span class="number">15</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;HandlerB çš„å¤„ç†å®Œæˆï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (next)</span><br><span class="line">&#123;</span><br><span class="line">next-&gt;<span class="built_in">HandlerRequest</span>(request);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ— æ³•å¤„ç†è¯·æ±‚ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å¤„ç†è€…C</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HandlerC</span> :<span class="keyword">public</span> Handler</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">HandlerRequest</span><span class="params">(<span class="type">int</span> request)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (request &lt;= <span class="number">30</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;HandlerC çš„å¤„ç†å®Œæˆï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (next)</span><br><span class="line">&#123;</span><br><span class="line">next-&gt;<span class="built_in">HandlerRequest</span>(request);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ— æ³•å¤„ç†è¯·æ±‚ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Handler* handlerA = <span class="keyword">new</span> <span class="built_in">HandlerA</span>();</span><br><span class="line">Handler* handlerB = <span class="keyword">new</span> <span class="built_in">HandlerB</span>();</span><br><span class="line">Handler* handlerC = <span class="keyword">new</span> <span class="built_in">HandlerC</span>();</span><br><span class="line">handlerA-&gt;<span class="built_in">SetNext</span>(handlerB);</span><br><span class="line">handlerB-&gt;<span class="built_in">SetNext</span>(handlerC);</span><br><span class="line"></span><br><span class="line">handlerA-&gt;<span class="built_in">HandlerRequest</span>(<span class="number">5</span>);</span><br><span class="line">handlerA-&gt;<span class="built_in">HandlerRequest</span>(<span class="number">10</span>);</span><br><span class="line">handlerA-&gt;<span class="built_in">HandlerRequest</span>(<span class="number">25</span>);</span><br><span class="line">handlerA-&gt;<span class="built_in">HandlerRequest</span>(<span class="number">35</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="äºŒã€-å‘½ä»¤æ¨¡å¼ï¼ˆCommand-Patternï¼‰">äºŒã€ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰</h3><blockquote><p>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†è¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå…è®¸å®¢æˆ·ç«¯é€šè¿‡ä¸åŒçš„è¯·æ±‚å¯¹è±¡æ¥å‚æ•°åŒ–å’Œä¼ é€’è¯·æ±‚ï¼Œä½¿å¾—è¯·æ±‚çš„å‘å‡ºè€…å’Œæ¥æ”¶è€…è§£è€¦ã€‚å‘½ä»¤æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…ï¼ˆå®¢æˆ·ç«¯ï¼‰å’Œè¯·æ±‚çš„æ¥æ”¶è€…ï¼ˆæ‰§è¡Œè€…ï¼‰åˆ†ç¦»ï¼Œé€šè¿‡å¼•å…¥ä¸€ä¸ªå‘½ä»¤å¯¹è±¡æ¥é—´æ¥åœ°ä¼ é€’è¯·æ±‚ï¼Œä»è€Œå®ç°äº†è¯·æ±‚çš„è§£è€¦å’Œçµæ´»æ€§ã€‚</p><p>å‘½ä»¤æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†è¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå¯ä»¥å®ç°è¯·æ±‚çš„å‚æ•°åŒ–ã€ä¼ é€’ã€æ’¤é”€ç­‰æ“ä½œï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å®ç°è¯·æ±‚çš„é˜Ÿåˆ—ã€æ—¥å¿—ã€äº‹åŠ¡ç­‰åŠŸèƒ½ã€‚å‘½ä»¤æ¨¡å¼é€šå¸¸é€‚ç”¨äºéœ€è¦å°†è¯·æ±‚çš„å‘å‡ºè€…å’Œæ¥æ”¶è€…è§£è€¦çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œéœ€è¦å®ç°æ’¤é”€ã€é‡åšã€å»¶è¿Ÿæ‰§è¡Œç­‰åŠŸèƒ½çš„åº”ç”¨åœºæ™¯ã€‚</p><p><u>æ„å›¾ï¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿å¾—å¯ä»¥ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚</u></p><p><u><code>Command Patternå››é€‚ç”¨äºï¼š</code></u></p><ol><li>æŠ½è±¡å‡ºå¾…æ‰§è¡Œçš„åŠ¨ä½œä»¥å‚æ•°åŒ–æŸå¯¹è±¡ã€‚</li><li>åœ¨ä¸åŒçš„æ—¶åˆ»æŒ‡å®šã€æ’åˆ—å’Œæ‰§è¡Œè¯·æ±‚ã€‚</li><li>æ”¯æŒå–æ¶ˆæ“ä½œã€‚</li><li>æ”¯æŒä¿®æ”¹æ—¥å¿—ã€‚</li><li>ç”¨æ„å»ºåœ¨åŸè¯­æ“ä½œä¸Šçš„é«˜å±‚æ“ä½œæ„é€ ä¸€ä¸ªç³»ç»Ÿã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="å‘½ä»¤æ¨¡å¼ç»“æ„å›¾"></p><h5 id="å‘½ä»¤æ¨¡å¼çš„ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼š">å‘½ä»¤æ¨¡å¼çš„ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼š</h5><ol><li><p><strong>å‘½ä»¤æ¥å£ï¼ˆCommand Interfaceï¼‰</strong></p><blockquote><p>å®šä¹‰äº†æ‰§è¡Œå‘½ä»¤çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå¦‚ <code>Execute()</code> æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>å…·ä½“å‘½ä»¤ï¼ˆConcrete Commandï¼‰</strong></p><blockquote><p>å®ç°äº†å‘½ä»¤æ¥å£ï¼Œå…·ä½“å‘½ä»¤å¯¹è±¡é€šå¸¸åŒ…å«äº†å¯¹è¯·æ±‚çš„æ¥æ”¶è€…çš„å¼•ç”¨ï¼Œä»¥åŠå…·ä½“çš„æ‰§è¡Œé€»è¾‘ã€‚</p></blockquote></li><li><p><strong>è¯·æ±‚æ¥æ”¶è€…ï¼ˆReceiverï¼‰</strong></p><blockquote><p>æ‰§è¡Œå‘½ä»¤æ‰€è¦æ±‚çš„æ“ä½œï¼Œå®é™…å®Œæˆè¯·æ±‚çš„å¤„ç†ã€‚</p></blockquote></li><li><p><strong>è¯·æ±‚å‘é€è€…ï¼ˆClientï¼‰</strong></p><blockquote><p>è´Ÿè´£åˆ›å»ºå‘½ä»¤å¯¹è±¡ï¼Œå¹¶å°†å‘½ä»¤å¯¹è±¡å‘é€ç»™è¯·æ±‚çš„æ¥æ”¶è€…ï¼Œè¯·æ±‚å‘é€è€…é€šå¸¸æŒæœ‰ä¸€ä¸ªå‘½ä»¤å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤å¯¹è±¡æ¥å‘å‡ºè¯·æ±‚ã€‚</p></blockquote></li></ol><h5 id="å‘½ä»¤æ¨¡å¼å®ç°å‚è€ƒä»£ç ">å‘½ä»¤æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å‘½ä»¤é“¾æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æ¥æ”¶è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Receiver</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Action1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ¥æ”¶è€…æ‰§è¡ŒåŠ¨ä½œ1&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Action2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ¥æ”¶è€…æ‰§è¡ŒåŠ¨ä½œ2&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Receiver</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Command</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">Command</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Execute</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å‘½ä»¤1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Command1</span> :<span class="keyword">public</span> Command</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Receiver* receiver;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Command1</span>(Receiver* r) :<span class="built_in">receiver</span>(r) &#123; ; &#125;</span><br><span class="line">~<span class="built_in">Command1</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œå…·ä½“å‘½ä»¤1&quot;</span> &lt;&lt; endl;</span><br><span class="line">receiver-&gt;<span class="built_in">Action1</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å‘½ä»¤2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Command2</span> :<span class="keyword">public</span> Command</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Receiver* receiver;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Command2</span>(Receiver* r) :<span class="built_in">receiver</span>(r) &#123; ; &#125;</span><br><span class="line">~<span class="built_in">Command2</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œå…·ä½“å‘½ä»¤2&quot;</span> &lt;&lt; endl;</span><br><span class="line">receiver-&gt;<span class="built_in">Action2</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘½ä»¤è°ƒç”¨è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Invoker</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Command* command;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetCommand</span><span class="params">(Command* cmd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">command = cmd;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ExcuteCommand</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (command)</span><br><span class="line">&#123;</span><br><span class="line">command-&gt;<span class="built_in">Execute</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Invoker</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Receiver* receiver = <span class="keyword">new</span> <span class="built_in">Receiver</span>();</span><br><span class="line"></span><br><span class="line">Command* command1 = <span class="keyword">new</span> <span class="built_in">Command1</span>(receiver);</span><br><span class="line">Command* command2 = <span class="keyword">new</span> <span class="built_in">Command2</span>(receiver);</span><br><span class="line"></span><br><span class="line">Invoker* invoker = <span class="keyword">new</span> <span class="built_in">Invoker</span>();</span><br><span class="line">invoker-&gt;<span class="built_in">SetCommand</span>(command1);</span><br><span class="line">invoker-&gt;<span class="built_in">ExcuteCommand</span>();</span><br><span class="line"></span><br><span class="line">invoker-&gt;<span class="built_in">SetCommand</span>(command2);</span><br><span class="line">invoker-&gt;<span class="built_in">ExcuteCommand</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä¸‰ã€è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter-Patternï¼‰">ä¸‰ã€è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰</h3><blockquote><p>è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå¤„ç†å¦‚ä½•è§£é‡Šå’Œæ‰§è¡Œç‰¹å®šè¯­è¨€æˆ–è§„åˆ™çš„é—®é¢˜ã€‚å®ƒå®šä¹‰äº†ä¸€ç§è¯­è¨€çš„æ–‡æ³•è¡¨ç¤ºï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºè§£é‡Šè¯­è¨€ä¸­çš„è¡¨è¾¾å¼ã€‚é€šè¿‡ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œå¯ä»¥å°†ä¸€ä¸ªé—®é¢˜æˆ–è¡¨è¾¾å¼è¡¨ç¤ºä¸ºä¸€ä¸ªè¯­æ³•æ ‘ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶é€’å½’åœ°å¯¹è¯­æ³•æ ‘è¿›è¡Œè§£é‡Šå’Œæ±‚å€¼ã€‚</p><p>è§£é‡Šå™¨æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å°†ä¸€ä¸ªé—®é¢˜æˆ–è¡¨è¾¾å¼è½¬åŒ–ä¸ºä¸€ç§å¯ä»¥è§£é‡Šçš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”æä¾›ä¸€ç§çµæ´»çš„æ–¹å¼æ¥è§£é‡Šå’Œæ‰§è¡Œè¿™äº›æ•°æ®ç»“æ„ï¼Œä»è€Œå®ç°å¯¹å¤æ‚è§„åˆ™å’Œè¯­è¨€çš„å¤„ç†ã€‚</p><p><u>æ„å›¾ï¼šç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šäºå®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ç§çš„å¥å­ã€‚</u></p><p><u><code>Interpreter Patterné€‚ç”¨äº:</code></u></p><ol><li>å½“æœ‰ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œï¼Œå¹¶ä¸”å¯å°†è¯¥è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘æ—¶ï¼Œä¸€ä¸‹æ•ˆæœæœ€å¥½ï¼š</li></ol><ul><li>è¯¥æ–‡æ³•ç®€å•ã€‚</li><li>æ•ˆç‡ä¸æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="è§£é‡Šå™¨æ¨¡å¼ç»“æ„å›¾"></p><h5 id="è§£é‡Šå™¨æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">è§£é‡Šå™¨æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>æŠ½è±¡è¡¨è¾¾å¼ï¼ˆAbstract Expressionï¼‰</strong></p><blockquote><p>å®šä¹‰äº†è§£é‡Šå™¨çš„æ¥å£ï¼ŒåŒ…å«ä¸€ä¸ªè§£é‡Šæ–¹æ³•ï¼ˆinterpretï¼‰ç”¨äºè§£é‡Šè¡¨è¾¾å¼ã€‚</p></blockquote></li><li><p><strong>ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆTerminal Expressionï¼‰</strong></p><blockquote><p>å®ç°æŠ½è±¡è¡¨è¾¾å¼æ¥å£ï¼Œç”¨äºè¡¨ç¤ºè¯­è¨€ä¸­çš„ç»ˆç»“ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸å†å¯ä»¥è§£é‡Šçš„æœ€å°å•å…ƒã€‚</p></blockquote></li><li><p><strong>éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆNon-terminal Expressionï¼‰</strong></p><blockquote><p>å®ç°æŠ½è±¡è¡¨è¾¾å¼æ¥å£ï¼Œç”¨äºè¡¨ç¤ºè¯­è¨€ä¸­çš„éç»ˆç»“ç¬¦ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªæˆ–å¤šä¸ªå­è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å¯ä»¥é€’å½’åœ°è¿›è¡Œè§£é‡Šã€‚</p></blockquote></li><li><p><strong>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰</strong></p><blockquote><p>åŒ…å«äº†è§£é‡Šå™¨éœ€è¦çš„å…¨å±€ä¿¡æ¯ï¼Œå¯ä»¥åœ¨è§£é‡Šå™¨ä¸­å…±äº«ã€‚</p></blockquote></li><li><p><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong></p><blockquote><p>ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼çš„å®¢æˆ·ç«¯ï¼Œè´Ÿè´£åˆ›å»ºã€é…ç½®å’Œä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼çš„å¯¹è±¡ã€‚</p></blockquote></li></ol><h5 id="è§£é‡Šå™¨æ¨¡å¼å®ç°å‚è€ƒä»£ç ">è§£é‡Šå™¨æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è§£é‡Šå™¨æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡è¡¨è¾¾å¼ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Expression</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">Expression</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">interpret</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼šæ•°å­—</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NumberExpression</span> :<span class="keyword">public</span> Expression</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">NumberExpression</span>(<span class="type">int</span> num) :<span class="built_in">number</span>(num) &#123;&#125;</span><br><span class="line">~<span class="built_in">NumberExpression</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">interpret</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> number;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼šåŠ æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AddExpression</span> :<span class="keyword">public</span> Expression</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Expression* left;</span><br><span class="line">Expression* right;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">AddExpression</span>(Expression* l, Expression* r) :<span class="built_in">left</span>(l), <span class="built_in">right</span>(r) &#123;&#125;</span><br><span class="line">~<span class="built_in">AddExpression</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">interpret</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> left-&gt;<span class="built_in">interpret</span>() + right-&gt;<span class="built_in">interpret</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼šä¹˜æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MulExpression</span> :<span class="keyword">public</span> Expression</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Expression* left;</span><br><span class="line">Expression* right;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">MulExpression</span>(Expression* l, Expression* r) :<span class="built_in">left</span>(l), <span class="built_in">right</span>(r) &#123;&#125;</span><br><span class="line">~<span class="built_in">MulExpression</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">interpret</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> left-&gt;<span class="built_in">interpret</span>() * right-&gt;<span class="built_in">interpret</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£é‡Šå™¨ä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Expression* expression;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setExpression</span><span class="params">(Expression* exp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">expression = exp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">interpret</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (expression)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> expression-&gt;<span class="built_in">interpret</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Context</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Expression* number1 = <span class="keyword">new</span> <span class="built_in">NumberExpression</span>(<span class="number">1</span>);</span><br><span class="line">Expression* number2 = <span class="keyword">new</span> <span class="built_in">NumberExpression</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">Expression* addExpression = <span class="keyword">new</span> <span class="built_in">AddExpression</span>(number1, number2);</span><br><span class="line"></span><br><span class="line">Context context;</span><br><span class="line">context.<span class="built_in">setExpression</span>(addExpression);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> result = context.<span class="built_in">interpret</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;result: &quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;=================================&quot;</span> &lt;&lt; endl;</span><br><span class="line">Expression* number3 = <span class="keyword">new</span> <span class="built_in">NumberExpression</span>(<span class="number">3</span>);</span><br><span class="line">Expression* number4 = <span class="keyword">new</span> <span class="built_in">NumberExpression</span>(<span class="number">4</span>);</span><br><span class="line">Expression* mulExpression = <span class="keyword">new</span> <span class="built_in">MulExpression</span>(number3, number4);</span><br><span class="line">context.<span class="built_in">setExpression</span>(mulExpression);</span><br><span class="line">result = context.<span class="built_in">interpret</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;result: &quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å››ã€è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator-Patternï¼‰">å››ã€è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</h3><blockquote><p>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åœ¨é›†åˆå¯¹è±¡ä¸­éå†å…ƒç´ çš„æ–¹å¼ï¼Œè€Œæ— éœ€æš´éœ²é›†åˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„ã€‚é€šè¿‡ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ï¼Œå¯ä»¥è®©å®¢æˆ·ç«¯ä»£ç æ›´åŠ ç®€æ´å’Œçµæ´»åœ°éå†é›†åˆå¯¹è±¡ä¸­çš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿå‡å°‘äº†ä¸é›†åˆå¯¹è±¡çš„è€¦åˆã€‚</p><p><u>æ„å›¾ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œä¸”ä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</u></p><p><u><code>Iterator Patterné€‚ç”¨äº:</code></u></p><ol><li>è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚</li><li>æ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éå†ã€‚</li><li>ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªåŒä¸€çš„æ¥å£ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.png" alt="è¿­ä»£å™¨æ¨¡å¼"></p><h5 id="è¿­ä»£å™¨æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">è¿­ä»£å™¨æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>è¿­ä»£å™¨ï¼ˆIteratorï¼‰</strong></p><blockquote><p>å®šä¹‰äº†éå†é›†åˆå¯¹è±¡çš„æ¥å£ï¼ŒåŒ…æ‹¬äº†è®¿é—®é›†åˆä¸­ä¸‹ä¸€ä¸ªå…ƒç´ ã€è·å–å½“å‰å…ƒç´ ã€åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ç­‰æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>é›†åˆï¼ˆCollectionï¼‰</strong></p><blockquote><p>å®šä¹‰äº†é›†åˆå¯¹è±¡çš„æ¥å£ï¼ŒåŒ…æ‹¬äº†æ·»åŠ ã€åˆ é™¤ã€è·å–è¿­ä»£å™¨ç­‰æ–¹æ³•ï¼Œç”¨äºç®¡ç†å’Œæ“ä½œé›†åˆä¸­çš„å…ƒç´ ã€‚</p></blockquote></li></ol><h5 id="è¿­ä»£å™¨æ¨¡å¼å®ç°å‚è€ƒä»£ç ">è¿­ä»£å™¨æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è¿­ä»£å™¨æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿­ä»£å™¨æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Iterator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">int</span> <span class="title">next</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">bool</span> <span class="title">hasNext</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é›†åˆæ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Collection</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> Iterator* <span class="title">CreateIterator</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è¿­ä»£å™¨1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Iterator1</span> :<span class="keyword">public</span> Iterator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; collection;</span><br><span class="line"><span class="type">int</span> index;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Iterator1</span>(vector&lt;<span class="type">int</span>&gt; coll) :<span class="built_in">collection</span>(coll), <span class="built_in">index</span>(<span class="number">0</span>) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">next</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> collection[index++];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">hasNext</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> index &lt; collection.<span class="built_in">size</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“é›†åˆ1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Collection1</span> :<span class="keyword">public</span> Collection</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; collection;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(<span class="type">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">collection.<span class="built_in">push_back</span>(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Iterator* <span class="title">CreateIterator</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Iterator1</span>(collection);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Collection1 collection1;</span><br><span class="line">collection1.<span class="built_in">Add</span>(<span class="number">1</span>);</span><br><span class="line">collection1.<span class="built_in">Add</span>(<span class="number">2</span>);</span><br><span class="line">collection1.<span class="built_in">Add</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">Iterator* iterator = collection1.<span class="built_in">CreateIterator</span>();</span><br><span class="line"><span class="keyword">while</span> (iterator-&gt;<span class="built_in">hasNext</span>())</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; iterator-&gt;<span class="built_in">next</span>() &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="äº”ã€ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator-Patternï¼‰">äº”ã€ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</h3><blockquote><p>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºè§£è€¦å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„å¤æ‚äº¤äº’å…³ç³»ï¼Œé€šè¿‡å¼•å…¥ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œå°†å¯¹è±¡ä¹‹é—´çš„äº¤äº’é›†ä¸­ç®¡ç†å’Œæ§åˆ¶ã€‚ä¸­ä»‹è€…æ¨¡å¼é€šè¿‡å°†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡é›†ä¸­åˆ°ä¸­ä»‹è€…å¯¹è±¡ï¼Œä»è€Œå‡å°‘äº†å¯¹è±¡ä¹‹é—´çš„ç›´æ¥ä¾èµ–å…³ç³»ï¼Œé™ä½äº†è€¦åˆæ€§ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚</p><p><u>æ„å›¾ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾ç¤ºåœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</u></p><p><u><code>Mediator Patterné€‚ç”¨äº:</code></u></p><ol><li>ä¸€ç»„å¯¹è±¡ä»¥å®šä¹‰è‰¯å¥½ä½†æ˜¯å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ï¼Œäº§ç”Ÿçš„ç›¸äº’ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±ä¸”éš¾ä»¥ç†è§£ã€‚</li><li>ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡ï¼Œå¯¼è‡´éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚</li><li>æƒ³å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="ä¸­ä»‹è€…æ¨¡å¼ç»“æ„å›¾"></p><h5 id="ä¸­ä»‹è€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">ä¸­ä»‹è€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>ä¸­ä»‹è€…ï¼ˆMediatorï¼‰</strong></p><blockquote><p>ä¸­ä»‹è€…æ˜¯ä¸€ä¸ªæ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œå®šä¹‰äº†åŒäº‹å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ¥å£ã€‚ä¸­ä»‹è€…è´Ÿè´£ç®¡ç†å’Œåè°ƒåŒäº‹å¯¹è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œé€šå¸¸åŒ…æ‹¬æ³¨å†Œå’Œç§»é™¤åŒäº‹å¯¹è±¡çš„æ–¹æ³•ï¼Œä»¥åŠå®šä¹‰å¤„ç†ä¸åŒäº¤äº’åœºæ™¯çš„é€»è¾‘ã€‚</p></blockquote></li><li><p><strong>å…·ä½“ä¸­ä»‹è€…ï¼ˆConcrete Mediatorï¼‰</strong></p><blockquote><p>å…·ä½“ä¸­ä»‹è€…æ˜¯ä¸­ä»‹è€…æ¥å£çš„å®ç°ç±»ï¼Œå®ç°äº†åŒäº‹å¯¹è±¡ä¹‹é—´çš„å…·ä½“é€šä¿¡é€»è¾‘ã€‚å…·ä½“ä¸­ä»‹è€…å¯¹è±¡é€šå¸¸ä¼šæŒæœ‰å¯¹æ‰€æœ‰ç›¸å…³åŒäº‹å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶è´Ÿè´£å¤„ç†å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</p></blockquote></li><li><p><strong>åŒäº‹å¯¹è±¡ï¼ˆColleagueï¼‰</strong></p><blockquote><p>åŒäº‹å¯¹è±¡æ˜¯éœ€è¦è¿›è¡Œé€šä¿¡çš„å¯¹è±¡ï¼Œæ¯ä¸ªåŒäº‹å¯¹è±¡æŒæœ‰å¯¹ä¸­ä»‹è€…å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥ä¸å…¶ä»–åŒäº‹å¯¹è±¡è¿›è¡Œé€šä¿¡ã€‚åŒäº‹å¯¹è±¡é€šå¸¸ä¼šå®ç°ä¸€ä¸ªæ¥å£æˆ–è€…ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®šä¹‰äº†ä¸ä¸­ä»‹è€…å¯¹è±¡é€šä¿¡çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>å…·ä½“åŒäº‹å¯¹è±¡ï¼ˆConcrete Colleagueï¼‰</strong></p><blockquote><p>å…·ä½“åŒäº‹å¯¹è±¡æ˜¯åŒäº‹å¯¹è±¡æ¥å£çš„å®ç°ç±»ï¼Œå®ç°äº†ä¸ä¸­ä»‹è€…å¯¹è±¡é€šä¿¡çš„å…·ä½“é€»è¾‘ã€‚å…·ä½“åŒäº‹å¯¹è±¡é€šè¿‡è°ƒç”¨ä¸­ä»‹è€…å¯¹è±¡çš„æ–¹æ³•æ¥ä¸å…¶ä»–åŒäº‹å¯¹è±¡è¿›è¡Œé€šä¿¡ã€‚</p></blockquote></li></ol><h5 id="ä¸­ä»‹è€…æ¨¡å¼å®ç°å‚è€ƒä»£ç ">ä¸­ä»‹è€…æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä¸­ä»‹è€…æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸­ä»‹è€…æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mediator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">SendMessage</span><span class="params">(string message, <span class="keyword">class</span> Colleague* colleague)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒäº‹ç±»æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Colleague</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string message;</span><br><span class="line">Mediator* mediator;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Colleague</span>(Mediator* m) :<span class="built_in">mediator</span>(m) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">ReceiveMessage</span><span class="params">(string message)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">SendMessage</span><span class="params">(string message)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“åŒäº‹A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColleagueA</span> :<span class="keyword">public</span> Colleague</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">ColleagueA</span>(Mediator* m) :<span class="built_in">Colleague</span>(m) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">ReceiveMessage</span><span class="params">(string message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ColleagueA receive message: &quot;</span> &lt;&lt; message &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">SendMessage</span><span class="params">(string message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">mediator-&gt;<span class="built_in">SendMessage</span>(message, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“åŒäº‹B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColleagueB</span> :<span class="keyword">public</span> Colleague</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">ColleagueB</span>(Mediator* m) :<span class="built_in">Colleague</span>(m) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">ReceiveMessage</span><span class="params">(string message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ColleagueB receive message: &quot;</span> &lt;&lt; message &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">SendMessage</span><span class="params">(string message)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">mediator-&gt;<span class="built_in">SendMessage</span>(message, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteMediator</span> :<span class="keyword">public</span> Mediator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Colleague* colleagueA;</span><br><span class="line">Colleague* colleagueB;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetColleagueA</span><span class="params">(Colleague* colleague)</span> </span>&#123; colleagueA = colleague; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetColleagueB</span><span class="params">(Colleague* colleague)</span> </span>&#123; colleagueB = colleague; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SendMessage</span><span class="params">(string message, Colleague* colleague)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (colleague == colleagueA)</span><br><span class="line">&#123;</span><br><span class="line">colleagueB-&gt;<span class="built_in">ReceiveMessage</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (colleague == colleagueB)</span><br><span class="line">&#123;</span><br><span class="line">colleagueA-&gt;<span class="built_in">ReceiveMessage</span>(message);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ConcreteMediator* mediator = <span class="keyword">new</span> <span class="built_in">ConcreteMediator</span>();</span><br><span class="line"></span><br><span class="line">Colleague* colleagueA = <span class="keyword">new</span> <span class="built_in">ColleagueA</span>(mediator);</span><br><span class="line">Colleague* colleagueB = <span class="keyword">new</span> <span class="built_in">ColleagueB</span>(mediator);</span><br><span class="line">mediator-&gt;<span class="built_in">SetColleagueA</span>(colleagueA);</span><br><span class="line">mediator-&gt;<span class="built_in">SetColleagueB</span>(colleagueB);</span><br><span class="line">colleagueA-&gt;<span class="built_in">SendMessage</span>(<span class="string">&quot;ä½ å¥½å•Šï¼åŒäº‹B&quot;</span>);</span><br><span class="line">colleagueB-&gt;<span class="built_in">SendMessage</span>(<span class="string">&quot;ä½ å¥½å•Šï¼åŒäº‹A&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å…­ã€å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento-Patternï¼‰">å…­ã€å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰</h3><blockquote><p>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåœ¨ä¸ç ´åå¯¹è±¡å°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·å’Œæ¢å¤å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ã€‚å¤‡å¿˜å½•æ¨¡å¼é€šè¿‡åœ¨ä¸åŒçš„å¯¹è±¡é—´ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¿«ç…§ï¼Œä½¿å¾—å¯¹è±¡å¯ä»¥åœ¨åç»­éœ€è¦æ—¶è¿˜åŸåˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</p><p>å¤‡å¿˜å½•æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å°†å¯¹è±¡çš„çŠ¶æ€ä¿å­˜åˆ°å¤–éƒ¨çš„å¤‡å¿˜å½•å¯¹è±¡ä¸­ï¼Œä»è€Œå®ç°äº†çŠ¶æ€çš„å¯ä¿å­˜å’Œå¯æ¢å¤æ€§ã€‚å‘èµ·äººå¯¹è±¡å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºå¤‡å¿˜å½•å¯¹è±¡ï¼Œå¹¶å°†è‡ªå·±çš„çŠ¶æ€ä¿å­˜åˆ°å¤‡å¿˜å½•ä¸­ã€‚ç®¡ç†è€…å¯¹è±¡å¯ä»¥ä¿å­˜å¤‡å¿˜å½•å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä»å¤‡å¿˜å½•å¯¹è±¡ä¸­æ¢å¤å‘èµ·äººå¯¹è±¡çš„çŠ¶æ€ï¼Œä»è€Œå®ç°äº†å¯¹è±¡çŠ¶æ€çš„å†å²è®°å½•å’Œæ’¤é”€/æ¢å¤åŠŸèƒ½ã€‚</p><p><u>æ„å›¾ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹æ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ ·ä»¥åå°±å¯ä»¥å°†å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€ã€‚</u></p><p><u><code>Memento Patterné€‚ç”¨äº:</code></u></p><ol><li>å¿…é¡»ä¿å­˜ä¸€ä¸ªå¯¹è±¡åœ¨æŸä¸€æ—¶åˆ»çš„ï¼ˆéƒ¨åˆ†çŠ¶æ€ï¼‰ï¼Œè¿™æ ·ä»¥åéœ€è¦æ—¶ï¼Œå®ƒæ‰èƒ½æ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ã€‚</li><li>å¦‚æœä¸€ä¸ªç”¨æ¥å£æ¥è®©å…¶ä»–å¯¹è±¡ç›´æ¥å¾—åˆ°è¿™äº›çŠ¶æ€ï¼Œå°†ä¼šæš´éœ²å¯¹è±¡çš„å®ç°ç»†èŠ‚å¹¶ç ´åå¯¹è±¡çš„å°è£…æ€§ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="å¤‡å¿˜å½•æ¨¡å¼ç»“æ„å›¾"></p><h5 id="å¤‡å¿˜å½•æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">å¤‡å¿˜å½•æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>å‘èµ·äººï¼ˆOriginatorï¼‰</strong></p><blockquote><p>è´Ÿè´£åˆ›å»ºå’ŒæŒæœ‰éœ€è¦ä¿å­˜çŠ¶æ€çš„å¯¹è±¡ï¼Œå¹¶å¯ä»¥é€šè¿‡åˆ›å»ºå¤‡å¿˜å½•æ¥ä¿å­˜å…¶å†…éƒ¨çŠ¶æ€ã€‚</p></blockquote></li><li><p><strong>å¤‡å¿˜å½•ï¼ˆMementoï¼‰</strong></p><blockquote><p>ç”¨äºå­˜å‚¨å‘èµ·äººçš„å†…éƒ¨çŠ¶æ€ï¼ŒåŒ…å«äº†éœ€è¦ä¿å­˜çš„çŠ¶æ€ä¿¡æ¯ã€‚</p></blockquote></li><li><p><strong>ç®¡ç†è€…ï¼ˆCaretakerï¼‰</strong></p><blockquote><p>è´Ÿè´£ç®¡ç†å¤‡å¿˜å½•å¯¹è±¡ï¼Œå¯ä»¥ä¿å­˜å¤šä¸ªå¤‡å¿˜å½•å¯¹è±¡ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†å…¶è¿˜åŸç»™å‘èµ·äººã€‚</p></blockquote></li></ol><h5 id="å¤‡å¿˜å½•æ¨¡å¼å®ç°å‚è€ƒä»£ç ">å¤‡å¿˜å½•æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å¤‡å¿˜å½•æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤‡å¿˜å½•ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Memento</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string state;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Memento</span>() &#123; ; &#125;</span><br><span class="line"><span class="built_in">Memento</span>(string s)</span><br><span class="line">&#123;</span><br><span class="line">state = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">GetState</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå‘å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Originator</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string state;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Originator</span>(string s) :<span class="built_in">state</span>(s) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetState</span><span class="params">(string s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">state = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">string <span class="title">GetState</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Memento <span class="title">CreateMemento</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Memento</span>(state);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetMemento</span><span class="params">(Memento memento)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">state = memento.<span class="built_in">GetState</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®¡ç†è€…ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Caretaker</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Memento memento;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SaveMemento</span><span class="params">(<span class="type">const</span> Memento&amp; m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">memento = m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Memento <span class="title">RetrieveMemento</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> memento;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Caretaker caretaker;</span><br><span class="line"><span class="function">Originator <span class="title">originator</span><span class="params">(<span class="string">&quot;çŠ¶æ€1&quot;</span>)</span></span>;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;åˆå§‹çŠ¶æ€ï¼š&quot;</span> &lt;&lt; originator.<span class="built_in">GetState</span>() &lt;&lt; endl;</span><br><span class="line">caretaker.<span class="built_in">SaveMemento</span>(originator.<span class="built_in">CreateMemento</span>());</span><br><span class="line">originator.<span class="built_in">SetState</span>(<span class="string">&quot;çŠ¶æ€2&quot;</span>);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ä¿®æ”¹çŠ¶æ€ï¼š&quot;</span> &lt;&lt; originator.<span class="built_in">GetState</span>() &lt;&lt; endl;</span><br><span class="line">originator.<span class="built_in">SetMemento</span>(caretaker.<span class="built_in">RetrieveMemento</span>());</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ¢å¤çŠ¶æ€ï¼š&quot;</span> &lt;&lt; originator.<span class="built_in">GetState</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä¸ƒã€è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver-Patternï¼‰">ä¸ƒã€è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</h3><blockquote><p>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå…¶æ‰€æœ‰ä¾èµ–å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚</p><p>è§‚å¯Ÿè€…æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯è§£è€¦å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè®©ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¹‹é—´é€šè¿‡æ¥å£è¿›è¡Œé€šä¿¡ï¼Œä»è€Œå®ç°äº†æ¾è€¦åˆçš„è®¾è®¡ã€‚å½“ä¸»é¢˜çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§‚å¯Ÿè€…ä¼šè¢«è‡ªåŠ¨é€šçŸ¥ï¼Œå¹¶æ ¹æ®éœ€è¦è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œä»è€Œå®ç°äº†å¯¹è±¡é—´çš„åŠ¨æ€åä½œå’Œå“åº”å¼çš„è¡Œä¸ºã€‚è§‚å¯Ÿè€…æ¨¡å¼å¸¸ç”¨äºäº‹ä»¶å¤„ç†ã€GUIç¼–ç¨‹ã€æ¶ˆæ¯ç³»ç»Ÿç­‰åœºæ™¯ã€‚</p><p><u>æ„å›¾ï¼šå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°äº†é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</u></p><p><u><code>Observer Patterné€‚ç”¨äº:</code></u></p><ol><li>å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ï¼Œå°†è¿™ä¸¤è€…å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä»¥ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚</li><li>å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜æ—¶ã€‚</li><li>å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œè€Œå®ƒåˆä¸èƒ½å‡å®šå…¶ä»–å¯¹è±¡æ˜¯è°ï¼Œå³ä¸å¸Œæœ›è¿™äº›å¯¹è±¡æ˜¯ç´§è€¦åˆçš„ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„å›¾"></p><h5 id="è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">è§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>ä¸»é¢˜ï¼ˆSubjectï¼‰</strong></p><blockquote><p>ä¹Ÿç§°ä¸ºè¢«è§‚å¯Ÿè€…æˆ–å‘å¸ƒè€…ï¼Œè´Ÿè´£ç»´æŠ¤ä¸€ç»„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶é€šçŸ¥å®ƒä»¬è‡ªå·±çš„çŠ¶æ€å˜åŒ–ã€‚</p></blockquote></li><li><p><strong>è§‚å¯Ÿè€…ï¼ˆObserverï¼‰</strong></p><blockquote><p>ä¹Ÿç§°ä¸ºè®¢é˜…è€…æˆ–è§‚å¯Ÿè€…ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ›´æ–°æ¥å£ï¼Œç”¨äºæ¥æ”¶ä¸»é¢˜é€šçŸ¥çš„æ›´æ–°ã€‚</p></blockquote></li><li><p><strong>å…·ä½“ä¸»é¢˜ï¼ˆConcrete Subjectï¼‰</strong></p><blockquote><p>å®ç°äº†ä¸»é¢˜æ¥å£ï¼Œè´Ÿè´£ç»´æŠ¤è‡ªå·±çš„çŠ¶æ€ï¼Œå¹¶åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…ã€‚</p></blockquote></li><li><p><strong>å…·ä½“è§‚å¯Ÿè€…ï¼ˆConcrete Observerï¼‰</strong></p><blockquote><p>å®ç°äº†è§‚å¯Ÿè€…æ¥å£ï¼Œè´Ÿè´£æ¥æ”¶å¹¶å¤„ç†ä¸»é¢˜å‘æ¥çš„é€šçŸ¥ï¼Œä»¥ä¾¿æ›´æ–°è‡ªå·±çš„çŠ¶æ€ã€‚</p></blockquote></li></ol><h5 id="è§‚å¯Ÿè€…æ¨¡å¼å®ç°å‚è€ƒä»£ç ">è§‚å¯Ÿè€…æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è§‚å¯Ÿè€…æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡è§‚å¯Ÿè€…ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Update</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡ä¸»é¢˜ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Subject</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Attach</span><span class="params">(Observer* observer)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Detach</span><span class="params">(Observer* observer)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Notify</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è§‚å¯Ÿè€…1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer1</span> :<span class="keyword">public</span> Observer</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line">Subject* subject;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Observer1</span>(string n, Subject* s) :<span class="built_in">name</span>(n), <span class="built_in">subject</span>(s)</span><br><span class="line">&#123;</span><br><span class="line">subject-&gt;<span class="built_in">Attach</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Observer1</span>(string n) :<span class="built_in">name</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Update</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è§‚å¯Ÿè€…ï¼š&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;æ”¶åˆ°æ›´æ–°é€šçŸ¥ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è§‚å¯Ÿè€…2</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer2</span> :<span class="keyword">public</span> Observer</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line">Subject* subject;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Observer2</span>(string n, Subject* s) :<span class="built_in">name</span>(n), <span class="built_in">subject</span>(s)</span><br><span class="line">&#123;</span><br><span class="line">subject-&gt;<span class="built_in">Attach</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Observer2</span>(string n) :<span class="built_in">name</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Update</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è§‚å¯Ÿè€…ï¼š&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;æ”¶åˆ°æ›´æ–°é€šçŸ¥ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ä¸»é¢˜1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Subject1</span> :<span class="keyword">public</span> Subject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;Observer*&gt; observers;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Attach</span><span class="params">(Observer* observer)</span> <span class="comment">// æ·»åŠ è§‚å¯Ÿè€…</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">observers.<span class="built_in">push_back</span>(observer);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Detach</span><span class="params">(Observer* observer)</span> <span class="comment">// åˆ é™¤è§‚å¯Ÿè€…</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = observers.<span class="built_in">begin</span>(); it != observers.<span class="built_in">end</span>(); ++it)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it == observer)</span><br><span class="line">&#123;</span><br><span class="line">observers.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Notify</span><span class="params">()</span> <span class="comment">// é€šçŸ¥è§‚å¯Ÿè€…</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;é€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…...&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : observers)</span><br><span class="line">&#123;</span><br><span class="line">it-&gt;<span class="built_in">Update</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Subject1* subject1 = <span class="keyword">new</span> <span class="built_in">Subject1</span>();</span><br><span class="line">Observer* observer1 = <span class="keyword">new</span> <span class="built_in">Observer1</span>(<span class="string">&quot;observer1&quot;</span>, subject1);</span><br><span class="line">Observer* observer2 = <span class="keyword">new</span> <span class="built_in">Observer2</span>(<span class="string">&quot;observer2&quot;</span>, subject1);</span><br><span class="line"><span class="comment">//Observer* observer1 = new Observer1(&quot;observer1&quot;);</span></span><br><span class="line"><span class="comment">//Observer* observer2 = new Observer2(&quot;observer2&quot;);</span></span><br><span class="line"><span class="comment">//subject1-&gt;Attach(observer1);</span></span><br><span class="line"><span class="comment">//subject1-&gt;Attach(observer2);</span></span><br><span class="line">subject1-&gt;<span class="built_in">Notify</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;==========åˆ†å‰²çº¿=============&quot;</span> &lt;&lt; endl;</span><br><span class="line">subject1-&gt;<span class="built_in">Detach</span>(observer2);</span><br><span class="line">subject1-&gt;<span class="built_in">Notify</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="å…«ã€çŠ¶æ€æ¨¡å¼ï¼ˆState-Patternï¼‰">å…«ã€çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰</h3><blockquote><p>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåœ¨å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä½¿å¯¹è±¡èƒ½å¤Ÿæ”¹å˜å…¶è¡Œä¸ºï¼Œè€Œä¸éœ€è¦é€šè¿‡å¤šä¸ªæ¡ä»¶è¯­å¥æ¥å®ç°ã€‚çŠ¶æ€æ¨¡å¼å°†å¯¹è±¡çš„è¡Œä¸ºå°è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œä½¿å¾—çŠ¶æ€ä¹‹é—´å¯ä»¥ç›¸äº’åˆ‡æ¢ï¼Œä»è€Œå®ç°å¯¹è±¡åœ¨ä¸åŒçŠ¶æ€ä¸‹çš„ä¸åŒè¡Œä¸ºã€‚</p><p>çŠ¶æ€æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯å°†å¯¹è±¡çš„è¡Œä¸ºå’ŒçŠ¶æ€åˆ†ç¦»ï¼Œä½¿å¾—å¯¹è±¡çš„è¡Œä¸ºèƒ½å¤Ÿæ ¹æ®ä¸åŒçš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œå®ç°æ›´çµæ´»ã€å¯æ‰©å±•å’Œæ˜“ç»´æŠ¤çš„ä»£ç ã€‚å®ƒé€‚ç”¨äºå¯¹è±¡åœ¨ä¸åŒçŠ¶æ€ä¸‹éœ€è¦æœ‰ä¸åŒè¡Œä¸ºçš„åœºæ™¯ï¼Œé¿å…äº†å¤§é‡çš„æ¡ä»¶è¯­å¥ï¼Œä½¿ä»£ç æ›´åŠ æ¸…æ™°ã€ç®€æ´å’Œå¯ç»´æŠ¤ã€‚</p><p><u>æ„å›¾ï¼šå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</u></p><p><u><code>State Patterné€‚ç”¨äº:</code></u></p><ol><li>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå†³å®šäºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚</li><li>ä¸€ä¸ªæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ï¼Œä¸”è¿™äº›åˆ†æ”¯ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="çŠ¶æ€æ¨¡å¼ç»“æ„å›¾"></p><h5 id="çŠ¶æ€æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">çŠ¶æ€æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>ç¯å¢ƒï¼ˆContextï¼‰</strong></p><blockquote><p>è´Ÿè´£ç»´æŠ¤ä¸€ä¸ªå½“å‰çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å°†ä¸çŠ¶æ€ç›¸å…³çš„è¯·æ±‚å§”æ´¾ç»™å½“å‰çŠ¶æ€å¤„ç†ã€‚</p></blockquote></li><li><p><strong>æŠ½è±¡çŠ¶æ€ï¼ˆStateï¼‰</strong></p><blockquote><p>å®šä¹‰çŠ¶æ€çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«äº†å¤„ç†è¯·æ±‚çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>å…·ä½“çŠ¶æ€ï¼ˆConcrete Stateï¼‰</strong></p><blockquote><p>å®ç°æŠ½è±¡çŠ¶æ€çš„æ¥å£ï¼Œå¹¶å®šä¹‰äº†åœ¨è¯¥çŠ¶æ€ä¸‹çš„å…·ä½“è¡Œä¸ºã€‚</p></blockquote></li></ol><h5 id="çŠ¶æ€æ¨¡å¼å®ç°å‚è€ƒä»£ç ">çŠ¶æ€æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* çŠ¶æ€è€…æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span>; <span class="comment">// å‰å‘å£°æ˜</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StateA</span>; <span class="comment">// å‰å‘å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡çŠ¶æ€ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">State</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* context)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çŠ¶æ€ç±»B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StateB</span> :<span class="keyword">public</span> State</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* context)</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çŠ¶æ€ç±»A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StateA</span> :<span class="keyword">public</span> State</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Handle</span><span class="params">(Context* context)</span> <span class="keyword">override</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è´©å–æœº</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">int</span> count;</span><br><span class="line">State* state;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Context</span>()</span><br><span class="line">&#123;</span><br><span class="line">count = <span class="number">3</span>;</span><br><span class="line">state = <span class="keyword">new</span> <span class="built_in">StateA</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">GetCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetCount</span><span class="params">(<span class="type">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">count = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">State* <span class="title">GetState</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> state;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetState</span><span class="params">(State* s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">state = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Request</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">state-&gt;<span class="built_in">Handle</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// StateA ç±»æˆå‘˜å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">StateA::Handle</span><span class="params">(Context* context)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> count = context-&gt;<span class="built_in">GetCount</span>();</span><br><span class="line"><span class="keyword">if</span> (count &gt;= <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è´­ä¹°æˆåŠŸï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">context-&gt;<span class="built_in">SetCount</span>(count - <span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (count - <span class="number">1</span> == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">context-&gt;<span class="built_in">SetState</span>(<span class="keyword">new</span> <span class="built_in">StateB</span>());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;åº“å­˜æ— è´§ï¼Œè´­ä¹°å¤±è´¥ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// StateB ç±»æˆå‘˜å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">StateB::Handle</span><span class="params">(Context* context)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="type">int</span> count = context-&gt;<span class="built_in">GetCount</span>();</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;åº“å­˜æ— è´§ï¼Œè´­ä¹°å¤±è´¥ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">context-&gt;<span class="built_in">SetCount</span>(<span class="number">5</span>);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è¡¥è´§æˆåŠŸï¼Œå¯é‡æ–°è´­ä¹°ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Context* context = <span class="keyword">new</span> <span class="built_in">Context</span>();</span><br><span class="line">cout &lt;&lt; <span class="built_in">typeid</span>(*context-&gt;<span class="built_in">GetState</span>()).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">context-&gt;<span class="built_in">Request</span>();</span><br><span class="line">context-&gt;<span class="built_in">Request</span>();</span><br><span class="line">context-&gt;<span class="built_in">Request</span>();</span><br><span class="line">cout &lt;&lt; <span class="built_in">typeid</span>(*context-&gt;<span class="built_in">GetState</span>()).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">context-&gt;<span class="built_in">Request</span>();</span><br><span class="line">cout &lt;&lt; <span class="built_in">typeid</span>(*context-&gt;<span class="built_in">GetState</span>()).<span class="built_in">name</span>() &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="ä¹ã€ç­–ç•¥æ¨¡å¼ï¼ˆStrategy-Patternï¼‰">ä¹ã€ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</h3><blockquote><p>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„ç®—æ³•æˆ–ç­–ç•¥æ¥å®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œè€Œä¸éœ€è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç è¿™äº›ç®—æ³•æˆ–ç­–ç•¥ã€‚ç­–ç•¥æ¨¡å¼é€šè¿‡å°†ç®—æ³•æˆ–ç­–ç•¥å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£è¿›è¡Œè°ƒç”¨ï¼Œå®ç°äº†ç®—æ³•æˆ–ç­–ç•¥çš„ç‹¬ç«‹åˆ‡æ¢å’Œæ›¿æ¢ã€‚</p><p>ç­–ç•¥æ¨¡å¼åœ¨å®é™…åº”ç”¨ä¸­å¯ä»¥ç”¨äºå¾ˆå¤šåœºæ™¯ï¼Œä¾‹å¦‚åœ¨æ’åºç®—æ³•ã€æ”¯ä»˜æ–¹å¼ã€æ—¥å¿—è®°å½•ç­‰åœºæ™¯ä¸­ï¼Œæ ¹æ®ä¸åŒçš„éœ€æ±‚é€‰æ‹©ä¸åŒçš„ç­–ç•¥æ¥å®Œæˆä»»åŠ¡ã€‚</p><p><u>æ„å›¾ï¼šå®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œæ­¤æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥ç‹¬ç«‹äºä½¿ç”¨å®ƒä»¬çš„å®¢æˆ·è€Œå˜åŒ–ã€‚</u></p><p><u><code>Strategy Patterné€‚ç”¨äº:</code></u></p><ol><li>è®¸å¤šç›¸å…³çš„ç±»ä»…ä»…æ˜¯è¡Œä¸ºæœ‰å¼‚ã€‚â€ç­–ç•¥â€œæä¾›äº†ä¸€ç§ç”¨å¤šä¸ªè¡Œä¸ºä¸­çš„ä¸€ä¸ªè¡Œä¸ºæ¥é…ç½®ä¸€ä¸ªç±»çš„æ–¹æ³•ã€‚</li><li>éœ€è¦ä½¿ç”¨ä¸€ä¸ªç®—æ³•çš„ä¸åŒå˜ä½“ã€‚</li><li>ç®—æ³•ä½¿ç”¨å®¢æˆ·ä¸åº”è¯¥çŸ¥é“çš„æ•°æ®ã€‚å¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ä»¥é¿å…æš´éœ²å¤æ‚çš„ã€ä¸ç®—æ³•ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚</li><li>ä¸€ä¸ªç±»å®šä¹‰äº†å¤šç§è¡Œä¸ºï¼Œå¹¶ä¸”è¿™äº›è¡Œä¸ºåœ¨è¿™ä¸ªç±»çš„æ“ä½œä¸­ä»¥å¤šä¸ªæ¡ä»¶è¯­å¥çš„å½¢å¼å‡ºç°ï¼Œå°†ç›¸å…³çš„æ¡ä»¶åˆ†æ”¯ç§»å…¥å®ƒä»¬å„è‡ªçš„Strategyç±»ä¸­ï¼Œä»¥æ›¿ä»£è¿™äº›æ¡ä»¶è¯­å¥ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="ç­–ç•¥æ¨¡å¼ç»“æ„å›¾"></p><h5 id="ç­–ç•¥æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">ç­–ç•¥æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>ç¯å¢ƒç±»ï¼ˆContextï¼‰</strong></p><blockquote><p>å®ƒåŒ…å«ä¸€ä¸ªç­–ç•¥æ¥å£çš„å¼•ç”¨ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦è°ƒç”¨ç­–ç•¥å¯¹è±¡çš„æ–¹æ³•æ¥å®Œæˆä»»åŠ¡ã€‚</p></blockquote></li><li><p><strong>ç­–ç•¥æ¥å£ï¼ˆStrategyï¼‰</strong></p><blockquote><p>å®ƒå®šä¹‰äº†ç­–ç•¥æ¨¡å¼çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•ï¼Œç”¨äºæè¿°ä¸åŒçš„ç®—æ³•æˆ–ç­–ç•¥ã€‚</p></blockquote></li><li><p><strong>å…·ä½“ç­–ç•¥ç±»ï¼ˆConcrete Strategyï¼‰</strong></p><blockquote><p>å®ƒå®ç°äº†ç­–ç•¥æ¥å£ï¼Œå¹¶å®ç°äº†å…·ä½“çš„ç®—æ³•æˆ–ç­–ç•¥ã€‚åœ¨è¿è¡Œæ—¶ï¼Œç¯å¢ƒç±»å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„å…·ä½“ç­–ç•¥ç±»æ¥å®Œæˆä»»åŠ¡ã€‚</p></blockquote></li></ol><h5 id="ç­–ç•¥æ¨¡å¼å®ç°å‚è€ƒä»£ç ">ç­–ç•¥æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ç­–ç•¥æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­–ç•¥æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Strategy</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">TwoNumberOperation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ç­–ç•¥A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StrategyA</span> :<span class="keyword">public</span> Strategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TwoNumberOperation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; a + b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ç­–ç•¥B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StrategyB</span> :<span class="keyword">public</span> Strategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TwoNumberOperation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; a - b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ç­–ç•¥C</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StrategyC</span> :<span class="keyword">public</span> Strategy</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TwoNumberOperation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; a * b &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Strategy* strategy;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Context</span>(Strategy* s) &#123; strategy = s; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">strategy-&gt;<span class="built_in">TwoNumberOperation</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Strategy* strategyA = <span class="keyword">new</span> <span class="built_in">StrategyA</span>();</span><br><span class="line">Strategy* strategyB = <span class="keyword">new</span> <span class="built_in">StrategyB</span>();</span><br><span class="line">Strategy* strategyC = <span class="keyword">new</span> <span class="built_in">StrategyC</span>();</span><br><span class="line">Context* context = <span class="keyword">new</span> <span class="built_in">Context</span>(strategyA);</span><br><span class="line">context-&gt;<span class="built_in">Operation</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">context = <span class="keyword">new</span> <span class="built_in">Context</span>(strategyB);</span><br><span class="line">context-&gt;<span class="built_in">Operation</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">context = <span class="keyword">new</span> <span class="built_in">Context</span>(strategyC);</span><br><span class="line">context-&gt;<span class="built_in">Operation</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="åã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate-Method-Patternï¼‰">åã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰</h3><blockquote><p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Method Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤çš„å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä»è€Œä½¿å­ç±»å¯ä»¥é‡æ–°å®šä¹‰ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ”¹å˜ç®—æ³•çš„ç»“æ„ã€‚</p><p>åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ˆæˆ–æ¥å£ï¼‰ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰ï¼Œè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—çš„æ­¥éª¤ï¼Œå…¶ä¸­æŸäº›æ­¥éª¤å¯ä»¥æ˜¯æŠ½è±¡çš„ï¼Œç•™ç»™å­ç±»å®ç°ã€‚è¿™æ ·å­ç±»å¯ä»¥æ ¹æ®è‡ªèº«çš„éœ€æ±‚ï¼Œæä¾›å…·ä½“çš„å®ç°ï¼Œä»è€Œå½±å“ç®—æ³•çš„è¡Œä¸ºã€‚</p><p><u>æ„å›¾ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚Template Method ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</u></p><p><u><code>Template Method Patterné€‚ç”¨äº:</code></u></p><ol><li>ä¸€æ¬¡æ€§å®ç°ä¸€ä¸ªç®—æ³•çš„ä¸å˜çš„éƒ¨åˆ†ï¼Œå¹¶å°†å¯å˜çš„è¡Œä¸ºç•™ç»™å­ç±»æ¥å®ç°ã€‚</li><li>å„å­ç±»ä¸­å…¬å…±çš„è¡Œä¸ºåº”è¢«æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­ï¼Œä»¥é¿å…ä»£ç é‡å¤ã€‚</li><li>æ§åˆ¶å­ç±»æ‰©å±•ã€‚æ¨¡æ¿æ–¹æ³•æ—¨åœ¨ç‰¹å®šç‚¹è°ƒç”¨â€œhookâ€æ“ä½œï¼ˆé»˜è®¤çš„è¡Œä¸ºï¼Œå­ç±»å¯ä»¥åœ¨å¿…è¦æ—¶è¿›è¡Œé‡å®šä¹‰æ‰©å±•ï¼‰ï¼Œè¿™å°±åªå…è®¸åœ¨è¿™äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç»“æ„å›¾"></p><h5 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">æ¨¡æ¿æ–¹æ³•æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>æŠ½è±¡åŸºç±»ï¼ˆAbstract Classï¼‰</strong></p><blockquote><p>å®šä¹‰äº†æ¨¡æ¿æ–¹æ³•ï¼ŒåŒ…å«äº†ä¸€ç³»åˆ—çš„æŠ½è±¡å’Œå…·ä½“æ–¹æ³•ï¼Œæ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„æ ¸å¿ƒã€‚</p></blockquote></li><li><p><strong>å…·ä½“å­ç±»ï¼ˆConcrete Classï¼‰</strong></p><blockquote><p>ç»§æ‰¿æŠ½è±¡åŸºç±»ï¼Œå®ç°æŠ½è±¡æ–¹æ³•ï¼Œä»è€Œæä¾›å…·ä½“çš„å®ç°ã€‚</p></blockquote></li></ol><h5 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼å®ç°å‚è€ƒä»£ç ">æ¨¡æ¿æ–¹æ³•æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ¨¡æ¿æ–¹æ³•æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TemplateMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å»æ•™å®¤&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PrimitiveOperation1</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;ç¦»å¼€æ•™å®¤&quot;</span> &lt;&lt; endl;</span><br><span class="line"><span class="built_in">PrimitiveOperation2</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PrimitiveOperation1</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PrimitiveOperation2</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrimitiveOperation1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å­¦ç”Ÿå¬è¯¾&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrimitiveOperation2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å­¦ç”Ÿå†™ä½œä¸š&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrimitiveOperation1</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è€å¸ˆä¸Šè¯¾&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrimitiveOperation2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è€å¸ˆå¸ƒç½®ä½œä¸š&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person* student = <span class="keyword">new</span> <span class="built_in">Student</span>();</span><br><span class="line">Person* teacher = <span class="keyword">new</span> <span class="built_in">Teacher</span>();</span><br><span class="line">student-&gt;<span class="built_in">TemplateMethod</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;================================&quot;</span> &lt;&lt; endl;</span><br><span class="line">teacher-&gt;<span class="built_in">TemplateMethod</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="åä¸€ã€è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor-Patternï¼‰">åä¸€ã€è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</h3><blockquote><p>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåœ¨ä¸ä¿®æ”¹å·²æœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œå®šä¹‰å¯¹è¿™äº›å¯¹è±¡ç»“æ„ä¸­å„ä¸ªå…ƒç´ çš„æ–°æ“ä½œã€‚è®¿é—®è€…æ¨¡å¼é€šè¿‡å°†å¯¹å…ƒç´ çš„æ“ä½œå°è£…æˆç‹¬ç«‹çš„è®¿é—®è€…ç±»ï¼Œä½¿å¾—å¯ä»¥åœ¨ä¸ä¿®æ”¹å…ƒç´ ç±»çš„æƒ…å†µä¸‹ï¼Œæ–°å¢ã€æ‰©å±•æˆ–å˜åŒ–å…ƒç´ çš„æ“ä½œã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¿é—®è€…æ¨¡å¼åœ¨è®¾è®¡æ—¶éœ€è¦è°¨æ…ä½¿ç”¨ï¼Œä¸€èˆ¬é€‚ç”¨äºå¯¹ä¸€ç»„å¯¹è±¡çš„æ“ä½œæ¯”è¾ƒç¨³å®šã€å›ºå®šï¼Œå¹¶ä¸”éœ€è¦å¯¹è¿™ç»„å¯¹è±¡è¿›è¡Œä¸åŒçš„æ“ä½œï¼Œè€Œä¸æ˜¯å¯¹æ¯ä¸ªå¯¹è±¡è¿›è¡Œä¸åŒçš„æ“ä½œã€‚</p><p><u>æ„å›¾ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒå…è®¸åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚</u></p><p><u><code>Visitor Patterné€‚ç”¨äº:</code></u></p><ol><li>ä¸€ä¸ªå¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„æ¥å£ï¼Œè€Œç”¨æˆ·ç›¸å¯¹è¿™äº›å¯¹è±¡å®æ–½ä¸€äº›ä¾èµ–äºå…¶å…·ä½“ç±»çš„æ“ä½œã€‚</li><li>éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸æƒ³å…³çš„æ“ä½œï¼Œè€Œåˆæƒ³è¦é¿å…è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ã€‚Visitor ä½¿å¾—ç”¨æˆ·å¯ä»¥å°†ç›¸å…³çš„æ“ä½œé›†ä¸­èµ·æ¥å®šä¹‰åœ¨ä¸€ä¸ªç±»ä¸­ã€‚å½“è¯¥å¯¹è±¡ç»“æ„è¢«å¾ˆå¤šåº”ç”¨å…±äº«æ—¶ï¼Œç”¨ Visitor æ¨¡å¼è®©æ¯ä¸ªåº”ç”¨ä»…åŒ…å«éœ€è¦ç”¨åˆ°çš„æ“ä½œã€‚</li><li>å®šäºå¯¹è±¡ç»“æ„ä½“çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚æ”¹å˜å¯¹è±¡ç»“æ„ç±»éœ€è¦é‡å®šä¹‰å¯¹æ‰€æœ‰è®¿é—®è€…çš„æ¥å£ï¼Œè¿™å¯èƒ½éœ€è¦å¾ˆå¤§çš„ä»£ä»·ï¼Œå¦‚æœå¯¹è±¡ç»“æ„ç±»ç»å¸¸æ”¹å˜ï¼Œé‚£ä¹ˆè¿˜æ˜¯åœ¨è¿™äº›ç±»ä¸­å®šä¹‰è¿™äº›æ“ä½œè¾ƒå¥½ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="è®¿é—®è€…æ¨¡å¼ç»“æ„å›¾"></p><h5 id="è®¿é—®è€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">è®¿é—®è€…æ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>è®¿é—®è€…ï¼ˆVisitorï¼‰</strong></p><blockquote><p>å®šä¹‰äº†å¯¹æ¯ä¸ªå…ƒç´ çš„è®¿é—®æ“ä½œæ¥å£ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£è®¿é—®å…ƒç´ çš„å„ä¸ªéƒ¨åˆ†ã€‚</p></blockquote></li><li><p><strong>å…ƒç´ ï¼ˆElementï¼‰</strong></p><blockquote><p>å®šä¹‰äº†ä¸€ä¸ªæ¥å—è®¿é—®è€…çš„æ¥å£ï¼Œä½¿å¾—è®¿é—®è€…å¯ä»¥è®¿é—®è‡ªå·±çš„å†…éƒ¨å…ƒç´ ç»“æ„ï¼Œå¹¶å¯ä»¥å¯¹è¿™äº›ç»“æ„è¿›è¡Œæ“ä½œã€‚</p></blockquote></li></ol><h5 id="è®¿é—®è€…æ¨¡å¼å®ç°å‚è€ƒä»£ç ">è®¿é—®è€…æ¨¡å¼å®ç°å‚è€ƒä»£ç </h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è®¿é—®è€…æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ElementA</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ElementB</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®è€…æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Visitor</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">visit</span><span class="params">(ElementA* elementA)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">visit</span><span class="params">(ElementB* elementB)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ƒç´ æ¥å£</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Element</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">accept</span><span class="params">(Visitor* visitor)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å…ƒç´ A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ElementA</span> :<span class="keyword">public</span> Element</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">accept</span><span class="params">(Visitor* visitor)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">visitor-&gt;<span class="built_in">visit</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OperationA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å…ƒç´  A çš„æ–¹æ³•&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å…ƒç´ B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ElementB</span> :<span class="keyword">public</span> Element</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">accept</span><span class="params">(Visitor* visitor)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">visitor-&gt;<span class="built_in">visit</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OperationB</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;å…ƒç´  B çš„æ–¹æ³•&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è®¿é—®è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteVisitor</span> :<span class="keyword">public</span> Visitor</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">visit</span><span class="params">(ElementA* elementA)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è®¿é—®è€…è®¿é—®å…ƒç´  A çš„æ–¹æ³•ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">elementA-&gt;<span class="built_in">OperationA</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">visit</span><span class="params">(ElementB* elementB)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;è®¿é—®è€…è®¿é—®å…ƒç´  B çš„æ–¹æ³•ï¼š&quot;</span> &lt;&lt; endl;</span><br><span class="line">elementB-&gt;<span class="built_in">OperationB</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡ç»“æ„ä½“ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ObjectStructure</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;Element*&gt;elements;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">AddElement</span><span class="params">(Element* element)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">elements.<span class="built_in">push_back</span>(element);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">accept</span><span class="params">(Visitor* visitor)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> element : elements)</span><br><span class="line">&#123;</span><br><span class="line">element-&gt;<span class="built_in">accept</span>(visitor);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">ElementA elementA;</span><br><span class="line">ElementB elementB;</span><br><span class="line">ConcreteVisitor visitor;</span><br><span class="line">ObjectStructure objectStructure;</span><br><span class="line">objectStructure.<span class="built_in">AddElement</span>(&amp;elementA);</span><br><span class="line">objectStructure.<span class="built_in">AddElement</span>(&amp;elementB);</span><br><span class="line">objectStructure.<span class="built_in">accept</span>(&amp;visitor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼-ï¼ˆBehavioral-Design-Patternsï¼‰-11ç§&quot;&gt;è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ ï¼ˆBehavioral Design Patternsï¼‰- 11ç§&lt;/h2&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼&quot;&gt;ä»€ä¹ˆæ˜¯è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C++" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://azzurebubble.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    <category term="C++" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼" scheme="https://azzurebubble.github.io/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šå·«é¬¼ã€‹</title>
    <link href="https://azzurebubble.github.io/posts/1253424b.html"/>
    <id>https://azzurebubble.github.io/posts/1253424b.html</id>
    <published>2023-04-15T02:00:00.000Z</published>
    <updated>2024-04-20T01:10:50.265Z</updated>
    
    <content type="html"><![CDATA[<h5 id="2023å¹´4æœˆ15æ—¥ç¬¬ä¸‰å±Šä¸­å›½å¤§å­¦ç”ŸCUSGAæ¸¸æˆå¼€å‘åˆ›ä½œå¤§èµ›ã€Šå·«é¬¼ã€‹">2023å¹´4æœˆ15æ—¥ç¬¬ä¸‰å±Šä¸­å›½å¤§å­¦ç”ŸCUSGAæ¸¸æˆå¼€å‘åˆ›ä½œå¤§èµ›ã€Šå·«é¬¼ã€‹</h5><h4 id="æ¸¸æˆç±»å‹ï¼š">æ¸¸æˆç±»å‹ï¼š</h4><blockquote><p>2D æ¨ªç‰ˆå›½é£ææ€–è§£è°œ RPG æ¸¸æˆ</p></blockquote><h4 id="æ•…äº‹èƒŒæ™¯ï¼š">æ•…äº‹èƒŒæ™¯ï¼š</h4><blockquote><p>ç³…æ‚å·«é£å’Œå±±æµ·ç»å…ƒç´ çš„å¿—å¼‚æ€ªå¥‡é£æ¸¸æˆã€‚èƒŒæ™¯è®¾å®šåœ¨å´‡å°šå·«æœ¯çš„æ¥šå›½ã€‚ä¸»è§’ä½œä¸ºæŒæ¡å·«æœ¯çš„å¥³å·«ï¼Œæ¸¸è¡Œäºæ°‘é—´å¸®å„æˆ·äººå®¶è§£å†³å„ç§é—®é¢˜ï¼Œæ¸¸æˆä¸­å°†è®²è¿°ä¸»è§’æ¥å¾€å„æˆ·äººå®¶æ‰€ç»å†çš„å¿—å¼‚å¥‡äº‹ï¼Œç”±ç©å®¶é€æ¸æ­ç¤ºè¿·é›¾èƒŒåçš„å„ä¸ªçœŸç›¸ã€‚</p></blockquote><h4 id="æ ¸å¿ƒæœºåˆ¶ï¼š">æ ¸å¿ƒæœºåˆ¶ï¼š</h4><blockquote><p>RPGè§£å¯†ç±»æ¸¸æˆã€‚ç©å®¶é€šè¿‡WASDæ“æ§ä¸»è§’ç§»åŠ¨ï¼Œfçœ‹å¯¹è¯ã€æ£€æŸ¥ç‰©å“ã€å¼€é—¨ï¼Œbé”®æ‰“å¼€ç‰©å“æ æŸ¥çœ‹ï¼Œé¼ æ ‡ç‚¹å‡»é“å…·æ¥æ¢ç´¢è§£è°œã€‚</p></blockquote><h4 id="çµæ„Ÿæ¥æºï¼š">çµæ„Ÿæ¥æºï¼š</h4><blockquote><p>å–æè‡ªæ˜¥ç§‹æˆ˜å›½æ—¶æœŸçš„å°šå·«ä¹‹é£çš„æ¥šå›½ï¼Œç³…åˆã€Šå±±æµ·ç»ã€‹å¥‡å¹»å…ƒç´ å’Œã€ŠèŠæ–‹ã€‹çš„çŒå¥‡å¿—å¼‚ï¼Œå¹¶æ·»åŠ äº†æˆ‘å›½ä¼ ç»Ÿæ–‡åŒ–å‚©æˆå…ƒç´ ã€‚</p></blockquote><h4 id="ç¾æœ¯é£æ ¼ï¼š">ç¾æœ¯é£æ ¼ï¼š</h4><blockquote><p>å‚è€ƒä¸Šæµ·ç¾æœ¯å­¦é™¢çš„å›½ç”»ç”»é£</p></blockquote><h4 id="æ¸¸æˆæ‰“åŒ…åœ°å€ï¼š">æ¸¸æˆæ‰“åŒ…åœ°å€ï¼š</h4><blockquote><p><a href="https://pan.baidu.com/s/1LCYxDfYBj3RmrTD-LgADDg?pwd=if7p"><strong>ã€Šå·«é¬¼ã€‹</strong></a>   æå–ç ï¼šif7p</p></blockquote><h4 id="Bç«™æ¼”ç¤ºè§†é¢‘ï¼š">Bç«™æ¼”ç¤ºè§†é¢‘ï¼š</h4><blockquote><p><a href="https://www.bilibili.com/video/BV13s4y127Uk/?spm_id_from=333.337.search-card.all.click&amp;vd_source=34e7951566592d9161f65c8aaa799f1f"><strong>BV13s4y127Uk</strong></a></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/SampleReels@main/Picture/%E5%B7%AB%E9%AC%BC.png" alt="å·«é¬¼"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;2023å¹´4æœˆ15æ—¥ç¬¬ä¸‰å±Šä¸­å›½å¤§å­¦ç”ŸCUSGAæ¸¸æˆå¼€å‘åˆ›ä½œå¤§èµ›ã€Šå·«é¬¼ã€‹&quot;&gt;2023å¹´4æœˆ15æ—¥ç¬¬ä¸‰å±Šä¸­å›½å¤§å­¦ç”ŸCUSGAæ¸¸æˆå¼€å‘åˆ›ä½œå¤§èµ›ã€Šå·«é¬¼ã€‹&lt;/h5&gt;
&lt;h4 id=&quot;æ¸¸æˆç±»å‹ï¼š&quot;&gt;æ¸¸æˆç±»å‹ï¼š&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;2D æ¨ªç‰ˆå›½é£ææ€–è§£è°œ </summary>
      
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="https://azzurebubble.github.io/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="å›¢é˜Ÿåˆä½œ" scheme="https://azzurebubble.github.io/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E5%9B%A2%E9%98%9F%E5%90%88%E4%BD%9C/"/>
    
    
    <category term="Unity" scheme="https://azzurebubble.github.io/tags/Unity/"/>
    
    <category term="C#" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="2D" scheme="https://azzurebubble.github.io/tags/2D/"/>
    
    <category term="å›¢é˜Ÿåˆä½œ" scheme="https://azzurebubble.github.io/tags/%E5%9B%A2%E9%98%9F%E5%90%88%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural Design Patternsï¼‰ - 7ç§</title>
    <link href="https://azzurebubble.github.io/posts/85a95c31.html"/>
    <id>https://azzurebubble.github.io/posts/85a95c31.html</id>
    <published>2023-04-11T02:00:00.000Z</published>
    <updated>2024-04-20T01:10:50.278Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural-Design-Patternsï¼‰-7ç§">ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural Design Patternsï¼‰ - 7ç§</h2><p>[TOC]</p><hr><h3 id="ä»€ä¹ˆæ˜¯ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural-Design-Patternsï¼‰">ä»€ä¹ˆæ˜¯ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural Design Patternsï¼‰</h3><blockquote><p>ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural Design Patternsï¼‰æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œç”¨äºè§£å†³åœ¨è½¯ä»¶ç³»ç»Ÿä¸­å¯¹è±¡çš„ç»„åˆã€æ¥å£ã€ç±»ä¹‹é—´çš„å…³ç³»å’Œç»“æ„çš„é—®é¢˜ã€‚ç»“æ„å‹è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©è®¾è®¡è€…åˆ›å»ºæ›´åŠ çµæ´»ã€å¯æ‰©å±•å’Œæ˜“äºç»´æŠ¤çš„è½¯ä»¶ç³»ç»Ÿã€‚</p><p>ç»“æ„å‹è®¾è®¡æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹ä¸ƒç§å¸¸è§çš„æ¨¡å¼<u><code>ï¼ˆæ¡¥ä»£ç†ç»„è£…é€‚é…å™¨ï¼Œäº«å…ƒå›å®¶è£…é¥°å¤–è§‚ï¼‰</code></u>ï¼š</p><ol><li>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå¦ä¸€ä¸ªç±»çš„æ¥å£ï¼Œä½¿å¾—åŸæœ¬ä¸å…¼å®¹çš„ç±»èƒ½å¤Ÿä¸€èµ·å·¥ä½œã€‚</li><li>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å…¶å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</li><li>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤º&quot;éƒ¨åˆ†-æ•´ä½“&quot;çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å®¢æˆ·ç«¯å¯ä»¥ç»Ÿä¸€å¯¹å¾…å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡ã€‚</li><li>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ï¼šåŠ¨æ€åœ°ä¸ºå¯¹è±¡æ·»åŠ é¢å¤–çš„è¡Œä¸ºï¼Œè€Œä¸éœ€è¦åœ¨å¯¹è±¡ä¹‹é—´ä½¿ç”¨ç»§æ‰¿å…³ç³»ã€‚</li><li>å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ï¼šæä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œéšè—ä¸€ç»„å¤æ‚çš„å­ç³»ç»Ÿæ¥å£ï¼Œä½¿å¾—å®¢æˆ·ç«¯æ›´åŠ æ–¹ä¾¿åœ°ä½¿ç”¨è¿™äº›å­ç³»ç»Ÿã€‚</li><li>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ï¼šå…±äº«ç»†ç²’åº¦å¯¹è±¡ï¼Œä»¥å‡å°‘å†…å­˜å¼€é”€ã€‚</li><li>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</li></ol></blockquote><hr><h3 id="ä¸€ã€é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter-Patternï¼‰">ä¸€ã€é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</h3><blockquote><p>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå¦ä¸€ä¸ªç±»çš„æ¥å£ï¼Œä»¥ä¾¿ä¸¤è€…å¯ä»¥ç›¸äº’å…¼å®¹ã€‚é€‚é…å™¨æ¨¡å¼é€šå¸¸ç”¨äºè§£å†³ä¸å…¼å®¹çš„æ¥å£ä¹‹é—´çš„é—®é¢˜ï¼Œæˆ–è€…ç”¨äºå°†ç°æœ‰ç±»çš„åŠŸèƒ½ä¸å…¶ä»–ç±»è¿›è¡Œé›†æˆã€‚</p><p><u>æ„å›¾ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapter æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚</u></p><p>é€‚é…å™¨æ¨¡å¼åœ¨ç°å®ç”Ÿæ´»ä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚åœ¨ç”µå­è®¾å¤‡ä¸­çš„ç”µæºé€‚é…å™¨ã€åœ¨è½¯ä»¶å¼€å‘ä¸­çš„æ•°æ®åº“é€‚é…å™¨ç­‰ã€‚å®ƒå¯ä»¥å¸®åŠ©è§£å†³ä¸åŒæ¥å£ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå®ç°ç³»ç»Ÿçš„çµæ´»æ‰©å±•å’Œå¤ç”¨ã€‚</p><p><code>Adapter Patterné€‚ç”¨äºï¼š</code></p><ol><li>æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œè€Œå®ƒçš„æ¥å£ä¸ç¬¦åˆè¦æ±‚ã€‚</li><li>æƒ³åˆ›å»ºä¸€ä¸ªå¯ä»¥å¤ç”¨çš„ç±»ï¼Œè¯¥ç±»å¯ä»¥ä¸å…¶ä»–ä¸ç›¸å…³çš„ç±»æˆ–ä¸å¯é¢„è§çš„ç±»ï¼ˆå³é‚£äº›æ¥å£å¯èƒ½ä¸ä¸€å®šå…¼å®¹çš„ç±»ï¼‰ååŒå·¥ä½œã€‚</li><li>ï¼ˆä»…é€‚ç”¨äºå¯¹è±¡Adapterï¼‰æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å­ç±»ï¼Œä½†æ˜¯ä¸å¯èƒ½å¯¹æ¯ä¸€ä¸ªéƒ½è¿›è¡Œå­ç±»åŒ–ä»¥åŒ¹é…å®ƒä»¬çš„æ¥å£ã€‚å¯¹è±¡é€‚é…å™¨å¯ä»¥é€‚é…å®ƒçš„çˆ¶ç±»æ¥å£ã€‚</li></ol></blockquote><h5 id="é€‚é…å™¨æ¨¡å¼åŒ…å«ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š">é€‚é…å™¨æ¨¡å¼åŒ…å«ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š</h5><ol><li><p><strong>ç›®æ ‡æ¥å£ï¼ˆTargetï¼‰</strong></p><blockquote><p>å®šä¹‰äº†å®¢æˆ·ç«¯æœŸæœ›çš„æ¥å£ï¼Œæ˜¯å®¢æˆ·ç«¯è°ƒç”¨çš„æ¥å£ã€‚</p></blockquote></li><li><p><strong>é€‚é…å™¨ï¼ˆAdapterï¼‰</strong></p><blockquote><p>æ˜¯å°†è¢«é€‚é…è€…çš„æ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£çš„ç±»ï¼Œå®ƒå®ç°äº†ç›®æ ‡æ¥å£ï¼Œå¹¶æŒæœ‰ä¸€ä¸ªå¯¹è¢«é€‚é…è€…çš„å¼•ç”¨ã€‚</p></blockquote></li><li><p><strong>è¢«é€‚é…è€…ï¼ˆAdapteeï¼‰</strong></p><blockquote><p>æ˜¯éœ€è¦è¢«é€‚é…çš„ç±»æˆ–æ¥å£ï¼Œå…¶æ¥å£ä¸ç›®æ ‡æ¥å£ä¸åŒ¹é…ã€‚</p></blockquote></li></ol><h5 id="é€‚é…å™¨æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š">é€‚é…å™¨æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</h5><ol><li><p><strong>ç±»é€‚é…å™¨</strong></p><blockquote><p>é€šè¿‡ç»§æ‰¿å®ç°é€‚é…å™¨ï¼Œä½¿å¾—é€‚é…å™¨ç±»æ—¢å…·æœ‰ç›®æ ‡æ¥å£çš„è¡Œä¸ºï¼Œåˆèƒ½å¤Ÿè°ƒç”¨è¢«é€‚é…ç±»çš„æ–¹æ³•ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡å¤šç»§æ‰¿å’Œè™šç»§æ‰¿å®ç°ç±»é€‚é…å™¨æ¨¡å¼ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="ç±»é€‚é…å™¨ç»“æ„å›¾"></p><p><strong>ç±»é€‚é…å™¨å‚è€ƒä»£ç å®ç°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ç±»é€‚é…å™¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›®æ ‡æ¥å£ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">USB</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Request</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;USBæ•°æ®çº¿&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">USB</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦é€‚é…çš„ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TypeC</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SpecificRequest</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Type-Cæ•°æ®çº¿&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">TypeC</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// C++å¤šé‡ç»§æ‰¿å®ç°ç±»é€‚é…å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Adapter</span> :<span class="keyword">public</span> USB, <span class="keyword">private</span> TypeC</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Request</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">SpecificRequest</span>();</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Adapter</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">USB* usb = <span class="keyword">new</span> <span class="built_in">Adapter</span>(); <span class="comment">// åˆ›å»ºé€‚é…å™¨å¯¹è±¡</span></span><br><span class="line">usb-&gt;<span class="built_in">Request</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong><code>å¯¹è±¡é€‚é…å™¨</code></strong></p><blockquote><p>é€šè¿‡ç»„åˆå®ç°é€‚é…å™¨ï¼Œä½¿å¾—é€‚é…å™¨ç±»åŒ…å«ä¸€ä¸ªè¢«é€‚é…ç±»çš„å¯¹è±¡ï¼Œå¹¶å®ç°ç›®æ ‡æ¥å£çš„æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨è¢«é€‚é…ç±»çš„æ–¹æ³•æ¥å®Œæˆé€‚é…ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡ç»„åˆå’Œæ¥å£ç»§æ‰¿å®ç°å¯¹è±¡é€‚é…å™¨æ¨¡å¼ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="å¯¹è±¡é€‚é…å™¨ç»“æ„å›¾"></p><p><strong>å¯¹è±¡é€‚é…å™¨å‚è€ƒä»£ç å®ç°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å¯¹è±¡é€‚é…å™¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›®æ ‡æ¥å£ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">USB</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Request</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;USBæ•°æ®çº¿&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">USB</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦é€‚é…çš„ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TypeC</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SpecificRequest</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Type-Cæ•°æ®çº¿&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">TypeC</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Adapter</span> :<span class="keyword">public</span> USB</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">TypeC* typeC; <span class="comment">// å®šä¹‰ä¸€ä¸ªéœ€è¦é€‚é…çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Adapter</span>(TypeC* tc) :<span class="built_in">typeC</span>(tc) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Request</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">typeC-&gt;<span class="built_in">SpecificRequest</span>(); <span class="comment">// éœ€è¦åˆ›å»ºé€‚é…å¯¹è±¡è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Adapter</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">TypeC* typeC = <span class="keyword">new</span> <span class="built_in">TypeC</span>();</span><br><span class="line">USB* usb = <span class="keyword">new</span> <span class="built_in">Adapter</span>(typeC);</span><br><span class="line">usb-&gt;<span class="built_in">Request</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ¥å£é€‚é…å™¨</strong></p><blockquote><p>ä¹Ÿç§°ä¸ºç¼ºçœé€‚é…å™¨æ¨¡å¼ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ªæŠ½è±¡é€‚é…å™¨ç±»ï¼Œå…¶ä¸­åŒ…å«ç›®æ ‡æ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œä½†æ–¹æ³•ä½“ä¸ºç©ºï¼Œå­ç±»å¯ä»¥é€‰æ‹©æ€§åœ°è¦†ç›–å…¶ä¸­çš„æ–¹æ³•ï¼Œä»è€Œå®ç°é€‚é…ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡æ¥å£ç»§æ‰¿å’Œè™šå‡½æ•°å®ç°æ¥å£é€‚é…å™¨æ¨¡å¼ã€‚</p></blockquote></li></ol><h5 id="é€‚é…å™¨çš„ä¼˜ç¼ºç‚¹ï¼š">é€‚é…å™¨çš„ä¼˜ç¼ºç‚¹ï¼š</h5><blockquote><p>é€‚é…å™¨æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>è§£å†³æ¥å£ä¸å…¼å®¹é—®é¢˜ï¼šé€šè¿‡é€‚é…å™¨ï¼Œå¯ä»¥å°†ä¸å…¼å®¹çš„æ¥å£è½¬æ¢æˆå…¼å®¹çš„æ¥å£ï¼Œä½¿å¾—ä¸åŒæ¥å£ä¹‹é—´èƒ½å¤ŸååŒå·¥ä½œã€‚</li><li>å¤ç”¨å·²æœ‰ä»£ç ï¼šå¯ä»¥å¤ç”¨å·²æœ‰çš„ç±»æˆ–æ¥å£ï¼Œè€Œæ— éœ€ä¿®æ”¹å…¶æºä»£ç ï¼Œåªéœ€å®ç°é€‚é…å™¨å³å¯ã€‚</li><li>çµæ´»æ€§ï¼šå¯ä»¥é€šè¿‡é€‚é…å™¨æ›¿æ¢ä¸åŒçš„å®ç°ï¼Œä»è€Œå®ç°ä¸åŒçš„é€‚é…é€»è¾‘ã€‚</li></ol><p>é€‚é…å™¨æ¨¡å¼çš„ç¼ºç‚¹ï¼š</p><ol><li>å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¼•å…¥äº†é€‚é…å™¨ç±»ï¼Œéœ€è¦è¿›è¡Œé¢å¤–çš„è®¾è®¡å’Œç¼–ç å·¥ä½œã€‚</li><li>åœ¨è®¾è®¡æ—¶éœ€è¦æ³¨æ„é€‰æ‹©é€‚é…å™¨çš„ç±»å‹ï¼ˆç±»é€‚é…å™¨ã€å¯¹è±¡é€‚é…å™¨ã€æ¥å£é€‚é…å™¨ï¼‰ï¼Œä»¥åŠé€‚é…å™¨å’Œç›®æ ‡æ¥å£çš„è®¾è®¡ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„ç»“æ„æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚</li></ol></blockquote><hr><h3 id="äºŒã€æ¡¥æ¥æ¨¡å¼ï¼ˆBridge-Patternï¼‰">äºŒã€æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰</h3><blockquote><p>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†æŠ½è±¡å’Œå®ç°éƒ¨åˆ†è§£è€¦ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚æ¡¥æ¥æ¨¡å¼é€šè¿‡ä½¿ç”¨ç»„åˆå…³ç³»ï¼Œå°†æŠ½è±¡å’Œå®ç°éƒ¨åˆ†åˆ†ç¦»æˆä¸åŒçš„ç±»å±‚æ¬¡ç»“æ„ï¼Œä»è€Œå®ç°æŠ½è±¡å’Œå®ç°çš„è§£è€¦ã€‚</p><p><u>æ„å›¾ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸å…¶å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</u></p><p>åœ¨ä¼ ç»Ÿçš„ç»§æ‰¿å…³ç³»ä¸­ï¼ŒæŠ½è±¡ç±»å’Œå…·ä½“å®ç°ç±»ä¹‹é—´å­˜åœ¨ç´§è€¦åˆå…³ç³»ï¼Œå¯¼è‡´å½“æŠ½è±¡ç±»æˆ–å…·ä½“å®ç°ç±»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šå½±å“åˆ°å½¼æ­¤ä¹‹é—´çš„ç¨³å®šæ€§å’Œçµæ´»æ€§ã€‚è€Œæ¡¥æ¥æ¨¡å¼é€šè¿‡å°†æŠ½è±¡å’Œå®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°æ¼”åŒ–å’Œå˜åŒ–ï¼Œä»è€Œå®ç°äº†è§£è€¦å’Œçµæ´»æ€§ã€‚</p><p><u><code>Bridge Patterné€‚ç”¨äºï¼š</code></u></p><ol><li>ä¸å¸Œæœ›åœ¨æŠ½è±¡å’Œå®ƒçš„å®ç°éƒ¨åˆ†ä¹‹é—´æœ‰ä¸€ä¸ªå›ºå®šçš„ç»‘å®šå…³ç³»ã€‚ä¾‹å¦‚ï¼šè¿™ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºåœ¨ç¨‹åºè¿è¡Œæ—¶åˆ»å®ç°éƒ¨åˆ†åº”å¯ä»¥è¢«é€‰æ‹©æˆ–è€…åˆ‡æ¢ã€‚</li><li>ç±»çš„æŠ½è±¡ä»¥åŠå®ƒçš„å®ç°éƒ½åº”è¯¥å¯ä»¥é€šè¿‡ç”Ÿæˆå­ç±»çš„æ–¹æ³•åŠ ä»¥æ‰©å……ã€‚è¿™æ˜¯ Bridge æ¨¡å¼ä½¿å¾—å¼€å‘è€…å¯ä»¥å¯¹ä¸åŒçš„æŠ½è±¡æ¥å£å’Œå®ç°éƒ¨åˆ†è¿›è¡Œç»„åˆï¼Œå¹¶åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œæ‰©å……ã€‚</li><li>å¯¹ ä¸€ä¸ªæŠ½è±¡çš„å®ç°éƒ¨åˆ†çš„ä¿®æ”¹åº”å¯¹å®¢æˆ·ä¸äº§ç”Ÿå½±å“ï¼Œå³å®¢æˆ·ä»£ç ä¸å¿…é‡æ–°ç¼–è¯‘ã€‚</li><li>ï¼ˆC++ï¼‰æƒ³å¯¹å®¢æˆ·å®Œå…¨éšè—æŠ½è±¡çš„å®ç°éƒ¨åˆ†ã€‚</li><li>æœ‰è®¸å¤šç±»è¦ç”Ÿæˆçš„ç±»å±‚æ¬¡ç»“æ„ã€‚</li><li>æƒ³åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«å®ç°ï¼ˆå¯èƒ½ä½¿ç”¨å¼•ç”¨æŠ€æœ¯ï¼‰ï¼Œä½†åŒæ—¶è¦æ±‚å®¢æˆ·å¹¶ä¸çŸ¥é“è¿™ä¸€ç‚¹ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="æ¡¥æ¥æ¨¡å¼ç»“æ„å›¾"></p><h5 id="æ¡¥æ¥æ¨¡å¼åŒ…å«ä¸¤ä¸ªå…³é”®è§’è‰²ï¼š">æ¡¥æ¥æ¨¡å¼åŒ…å«ä¸¤ä¸ªå…³é”®è§’è‰²ï¼š</h5><ol><li><p><strong>æŠ½è±¡éƒ¨åˆ†ï¼ˆAbstractionï¼‰</strong></p><blockquote><p>æŠ½è±¡éƒ¨åˆ†å®šä¹‰äº†é«˜å±‚æ¥å£ï¼ŒåŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œå¹¶æŒæœ‰ä¸€ä¸ªå¯¹å®ç°éƒ¨åˆ†çš„å¼•ç”¨ï¼›</p></blockquote></li><li><p><strong>å®ç°éƒ¨åˆ†ï¼ˆImplementorï¼‰</strong></p><blockquote><p>å®ç°éƒ¨åˆ†å®šä¹‰äº†åº•å±‚æ¥å£ï¼ŒåŒ…å«å…·ä½“çš„å®ç°æ–¹æ³•ã€‚</p></blockquote></li></ol><ul><li><strong>æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†é€šè¿‡ç»„åˆå…³ç³»è¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼Œä»è€Œå®ç°äº†æŠ½è±¡å’Œå®ç°çš„è§£è€¦ã€‚</strong></li></ul><h5 id="æ¡¥æ¥æ¨¡å¼å‚è€ƒä»£ç å®ç°">æ¡¥æ¥æ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ¡¥æ¥æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡å®ç°ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IColor</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">OperationImp</span><span class="params">(string name)</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å®ç°ç±»Red</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Red</span> :<span class="keyword">public</span> IColor</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OperationImp</span><span class="params">(string name)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;ï¼šçº¢è‰²&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å®ç°ç±»Blue</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Blue</span> :<span class="keyword">public</span> IColor</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">OperationImp</span><span class="params">(string name)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;ï¼šè“è‰²&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡äº§å“</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AProduct</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">IColor* color;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">AProduct</span>() &#123; color = <span class="literal">NULL</span>; &#125;</span><br><span class="line"><span class="built_in">AProduct</span>(IColor* iColor) :<span class="built_in">color</span>(iColor) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetColor</span><span class="params">(IColor* iColor)</span> </span>&#123; color = iColor; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SetName</span><span class="params">(string n)</span> </span>&#123; name = n; &#125;</span><br><span class="line"><span class="function">string <span class="title">GetName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">AProduct</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“äº§å“A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductA</span> :<span class="keyword">public</span> AProduct</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">ProductA</span>() &#123; color = <span class="literal">NULL</span>; &#125;</span><br><span class="line"><span class="built_in">ProductA</span>(IColor* iColor) :<span class="built_in">AProduct</span>(iColor) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">color-&gt;<span class="built_in">OperationImp</span>(<span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>());</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“äº§å“B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ProductB</span> :<span class="keyword">public</span> AProduct</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">ProductB</span>() &#123; color = <span class="literal">NULL</span>; &#125;</span><br><span class="line"><span class="built_in">ProductB</span>(IColor* iColor) :<span class="built_in">AProduct</span>(iColor) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">color-&gt;<span class="built_in">OperationImp</span>(<span class="keyword">this</span>-&gt;<span class="built_in">GetName</span>());</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">IColor* red = <span class="keyword">new</span> <span class="built_in">Red</span>();</span><br><span class="line">AProduct* productA = <span class="keyword">new</span> <span class="built_in">ProductA</span>();</span><br><span class="line">productA-&gt;<span class="built_in">SetName</span>(<span class="string">&quot;äº§å“A&quot;</span>);</span><br><span class="line">productA-&gt;<span class="built_in">SetColor</span>(red);</span><br><span class="line">productA-&gt;<span class="built_in">Operation</span>();</span><br><span class="line"></span><br><span class="line">IColor* blue = <span class="keyword">new</span> <span class="built_in">Blue</span>();</span><br><span class="line">AProduct* productB = <span class="keyword">new</span> <span class="built_in">ProductB</span>(blue);</span><br><span class="line">productB-&gt;<span class="built_in">SetName</span>(<span class="string">&quot;äº§å“B&quot;</span>);</span><br><span class="line">productB-&gt;<span class="built_in">SetColor</span>(blue);</span><br><span class="line">productB-&gt;<span class="built_in">Operation</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š">æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</h5><blockquote><p>æ¡¥æ¥æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>è§£è€¦å’Œçµæ´»æ€§ï¼šå°†æŠ½è±¡å’Œå®ç°éƒ¨åˆ†è§£è€¦ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹åœ°æ¼”åŒ–å’Œå˜åŒ–ï¼Œäº’ç›¸ä¹‹é—´ä¸ä¼šå½±å“ï¼Œä»è€Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</li><li>å¯å¤ç”¨æ€§ï¼šå¯ä»¥é€šè¿‡ç»„åˆä¸åŒçš„æŠ½è±¡å’Œå®ç°éƒ¨åˆ†ï¼Œæ„å»ºä¸åŒçš„å¯¹è±¡ç»„åˆï¼Œä»è€Œå®ç°å¤ç”¨æ€§ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šå¯ä»¥æ–¹ä¾¿åœ°æ‰©å±•æŠ½è±¡å’Œå®ç°éƒ¨åˆ†ï¼Œè€Œä¸å½±å“å…¶ä»–éƒ¨åˆ†çš„ç¨³å®šæ€§ã€‚</li><li>å¯æ›¿ä»£æ€§ï¼šå¯ä»¥æ–¹ä¾¿åœ°æ›¿æ¢æŠ½è±¡å’Œå®ç°éƒ¨åˆ†ï¼Œä»è€Œå®ç°ä¸åŒçš„ç»„åˆï¼Œè€Œä¸éœ€è¦ä¿®æ”¹æŠ½è±¡å’Œå®ç°éƒ¨åˆ†çš„ä»£ç ã€‚</li></ol><p>æ¡¥æ¥æ¨¡å¼çš„ç¼ºç‚¹ï¼š</p><ol><li>å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œéœ€è¦é¢å¤–çš„è®¾è®¡å’Œç¼–ç å·¥ä½œã€‚</li><li>åœ¨è®¾è®¡æ—¶éœ€è¦è°¨æ…é€‰æ‹©æŠ½è±¡å’Œå®ç°éƒ¨åˆ†çš„æ¥å£ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„ç»“æ„æ¸…æ™°å’Œæ˜“äºç†è§£ã€‚</li></ol></blockquote><hr><h3 id="ä¸‰ã€ç»„åˆæ¨¡å¼ï¼ˆComposite-Patternï¼‰">ä¸‰ã€ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰</h3><blockquote><p>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå°†å¯¹è±¡ç»„ç»‡æˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œæ•´ä½“-éƒ¨åˆ†â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿä»¥ä¸€è‡´çš„æ–¹å¼å¤„ç†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡ï¼Œå¯¹è±¡çš„å±‚æ¬¡ç»“æ„å¯ä»¥é€’å½’åœ°è¿›è¡Œç»„åˆï¼Œä»è€Œå½¢æˆå¤æ‚çš„ç»“æ„ã€‚</p><p><u>æ„å›¾ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å‹ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚Composite ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</u></p><p>ç»„åˆæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¶å­èŠ‚ç‚¹å’Œç»„åˆèŠ‚ç‚¹ç»Ÿä¸€å¯¹å¾…ï¼Œä½¿å¾—å®¢æˆ·ç«¯åœ¨ä½¿ç”¨ç»„åˆå¯¹è±¡æ—¶ä¸éœ€è¦å…³å¿ƒå…¶å…·ä½“ç±»å‹ï¼Œè€Œæ˜¯é€šè¿‡ç»Ÿä¸€çš„æ¥å£å¯¹å¾…æ•´ä½“å’Œéƒ¨åˆ†ã€‚è¿™æ ·å¯ä»¥ç®€åŒ–å®¢æˆ·ç«¯çš„ä»£ç ï¼Œå¹¶ä¸”åœ¨éœ€è¦å¢åŠ æ–°çš„ç»„åˆå¯¹è±¡æ—¶ä¸éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚</p><p><u><code>Composite Patterné€‚ç”¨äºï¼š</code></u></p><ol><li>æƒ³è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ† - æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚</li><li>å¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç”¨æˆ·å°†ç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="ç»„åˆæ¨¡å¼ç»“æ„å›¾"></p><h5 id="ç»„åˆæ¨¡å¼ä¸­é€šå¸¸æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼š">ç»„åˆæ¨¡å¼ä¸­é€šå¸¸æœ‰ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼š</h5><ol><li><p><strong>å¶å­èŠ‚ç‚¹ï¼ˆLeafï¼‰</strong></p><blockquote><p>è¡¨ç¤ºç»„åˆä¸­çš„å¶å­èŠ‚ç‚¹ï¼Œå®ƒæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œé€šå¸¸æ˜¯æœ€åŸºæœ¬çš„å•å…ƒã€‚</p></blockquote></li><li><p><strong>ç»„åˆèŠ‚ç‚¹ï¼ˆCompositeï¼‰</strong></p><blockquote><p>è¡¨ç¤ºç»„åˆä¸­çš„ç»„åˆèŠ‚ç‚¹ï¼Œå®ƒå¯ä»¥åŒ…å«å­èŠ‚ç‚¹ï¼Œé€šå¸¸å®ç°äº†ä¸å¶å­èŠ‚ç‚¹ç›¸åŒçš„æ¥å£ï¼Œå¹¶åœ¨å…¶ä¸­åŒ…å«ä¸€ä¸ªå­èŠ‚ç‚¹åˆ—è¡¨ã€‚</p></blockquote></li></ol><h5 id="ç»„åˆæ¨¡å¼å‚è€ƒä»£ç å®ç°">ç»„åˆæ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ç»„åˆæ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AFile</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string* name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">AFile</span>() &#123; ; &#125;</span><br><span class="line"><span class="built_in">AFile</span>(string* n) &#123; name = n; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Print</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Add</span><span class="params">(AFile* file)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Remove</span><span class="params">(AFile* file)</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> vector&lt;AFile*&gt;* <span class="title">GetChild</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Show</span><span class="params">()</span> </span>&#123; ; &#125;</span><br><span class="line">~<span class="built_in">AFile</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»„åˆæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Folder</span> :<span class="keyword">public</span> AFile</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;AFile*&gt; childrenList;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Folder</span>(string* n) :<span class="built_in">AFile</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; *name &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; *name &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(AFile* file)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">childrenList.<span class="built_in">push_back</span>(file);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Remove</span><span class="params">(AFile* file)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = childrenList.<span class="built_in">begin</span>(); it != childrenList.<span class="built_in">end</span>(); it++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (*it == file)</span><br><span class="line">&#123;</span><br><span class="line">childrenList.<span class="built_in">erase</span>(it);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">vector&lt;AFile*&gt;* <span class="title">GetChild</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> &amp;childrenList;<span class="comment">// return new vector&lt;AFile*&gt;(childrenList)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Show</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; childrenList.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line">childrenList[i]-&gt;<span class="built_in">Print</span>();</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Folder</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¶å­æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">File</span> :<span class="keyword">public</span> AFile</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">File</span>(string* n) :<span class="built_in">AFile</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintName</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; *name &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; *name &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(AFile* file)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Remove</span><span class="params">(AFile* file)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">vector&lt;AFile*&gt;* <span class="title">GetChild</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">vector</span>&lt;AFile*&gt;();</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">File</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">print</span><span class="params">(AFile* file)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">file-&gt;<span class="built_in">Print</span>();</span><br><span class="line">vector&lt;AFile*&gt;* child = file-&gt;<span class="built_in">GetChild</span>();</span><br><span class="line"><span class="keyword">if</span> (!child-&gt;<span class="built_in">empty</span>())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; child-&gt;<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">print</span>((*child)[i]);</span><br><span class="line"><span class="comment">//(*child)[i]-&gt;Print();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">AFile* root = <span class="keyword">new</span> <span class="built_in">Folder</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;root&quot;</span>));</span><br><span class="line">AFile* folderA = <span class="keyword">new</span> <span class="built_in">Folder</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;folderA&quot;</span>));</span><br><span class="line">folderA-&gt;<span class="built_in">PrintName</span>();</span><br><span class="line">AFile* fileB = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;fileB&quot;</span>));</span><br><span class="line">fileB-&gt;<span class="built_in">PrintName</span>();</span><br><span class="line">root-&gt;<span class="built_in">Add</span>(folderA);</span><br><span class="line">root-&gt;<span class="built_in">Add</span>(fileB);</span><br><span class="line">root-&gt;<span class="built_in">Show</span>();</span><br><span class="line">root-&gt;<span class="built_in">Remove</span>(fileB);</span><br><span class="line">root-&gt;<span class="built_in">Show</span>();</span><br><span class="line">vector&lt;AFile*&gt;* child = root-&gt;<span class="built_in">GetChild</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; child-&gt;<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line">(*child)[i]-&gt;<span class="built_in">Print</span>();</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; endl;</span><br><span class="line">AFile* folderC = <span class="keyword">new</span> <span class="built_in">Folder</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;folderC&quot;</span>));</span><br><span class="line">AFile* fileD = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;fileD&quot;</span>));</span><br><span class="line">AFile* fileE = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="keyword">new</span> <span class="built_in">string</span>(<span class="string">&quot;fileE&quot;</span>));</span><br><span class="line">root-&gt;<span class="built_in">Add</span>(fileB);</span><br><span class="line">folderA-&gt;<span class="built_in">Add</span>(folderC);</span><br><span class="line">folderC-&gt;<span class="built_in">Add</span>(fileD);</span><br><span class="line">folderC-&gt;<span class="built_in">Add</span>(fileE);</span><br><span class="line"><span class="built_in">print</span>(root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š">ç»„åˆæ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</h5><blockquote><p>ç»„åˆæ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>ç®€åŒ–å®¢æˆ·ç«¯ä»£ç ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´åœ°å¯¹å¾…å¶å­èŠ‚ç‚¹å’Œç»„åˆèŠ‚ç‚¹ï¼Œæ— éœ€è¿›è¡Œé¢å¤–çš„ç±»å‹åˆ¤æ–­ã€‚</li><li>å¯æ‰©å±•æ€§ï¼šå¯ä»¥æ–¹ä¾¿åœ°å¢åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹ç»„åˆå¯¹è±¡ï¼Œè€Œæ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚</li><li>çµæ´»æ€§ï¼šå¯ä»¥é€šè¿‡ç»„åˆä¸åŒçš„å¶å­èŠ‚ç‚¹å’Œç»„åˆèŠ‚ç‚¹æ¥æ„å»ºå¤æ‚çš„æ ‘çŠ¶ç»“æ„ã€‚</li></ol><p>ç»„åˆæ¨¡å¼çš„ç¼ºç‚¹ï¼š</p><ol><li>å¯èƒ½å¯¼è‡´ç³»ç»Ÿè¿‡äºå¤æ‚ï¼šå¦‚æœç»„åˆå¯¹è±¡çš„å±‚æ¬¡ç»“æ„è¿‡äºå¤æ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿçš„ç†è§£å’Œç»´æŠ¤å˜å¾—å›°éš¾ã€‚</li><li>ä¸é€‚åˆæ‰€æœ‰æƒ…å†µï¼šç»„åˆæ¨¡å¼é€‚ç”¨äºé‚£äº›éœ€è¦å¯¹æ•´ä½“å’Œéƒ¨åˆ†è¿›è¡Œä¸€è‡´æ€§å¤„ç†çš„æƒ…å†µï¼Œä¸é€‚ç”¨äºæ‰€æœ‰æƒ…å†µã€‚</li></ol></blockquote><hr><h3 id="å››ã€è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator-Patternï¼‰">å››ã€è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</h3><blockquote><p>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ æ–°çš„è¡Œä¸ºæˆ–åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å…¶åŸæœ‰çš„æ¥å£æˆ–å®ç°ã€‚</p><p><u>æ„å›¾ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±å¢åŠ åŠŸèƒ½è€Œè¨€ï¼ŒDecorator æ¨¡å¼æ¯”ç”Ÿæˆå­ç±»æ›´åŠ çµæ´»ã€‚</u></p><p>é€šè¿‡ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼ï¼Œå¯ä»¥çµæ´»åœ°åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹å¯¹è±¡çš„è¡Œä¸ºï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„å¯¹è±¡ä»£ç ã€‚è¿™ä½¿å¾—è£…é¥°å™¨æ¨¡å¼åœ¨éœ€è¦æ‰©å±•å¯¹è±¡åŠŸèƒ½ï¼Œä½†åˆä¸å¸Œæœ›ä¿®æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå…·æœ‰å¾ˆå¥½çš„é€‚ç”¨æ€§ã€‚</p><p><u><code>Decorator Patterné€‚ç”¨äºï¼š</code></u></p><ol><li>åœ¨ä¸å½±å“å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œä»¥åŠ¨æ€ã€é€æ˜çš„æ–¹å¼ç»™å•ä¸ªå¯¹è±¡æ·»åŠ èŒè´£ã€‚</li><li>å¤„ç†é‚£äº›å¯ä»¥æ’¤é”€çš„èŒè´£ã€‚</li><li>å½“ä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹å¼è¿›è¡Œæ‰©å……æ—¶ã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼šå¯èƒ½æœ‰å¤§é‡ç‹¬ç«‹çš„æ‰©å±•ï¼Œä¸ºæ”¯æŒæ¯ä¸€ç§ç»„åˆå°†äº§ç”Ÿå¤§é‡çš„å­ç±»ï¼Œä½¿å¾—å­ç±»æ•°ç›®å‘ˆçˆ†ç‚¸æ€§å¢é•¿ã€‚å¦ä¸€ç§æƒ…å†µå¯èƒ½æ˜¯ï¼šç”±äºç±»å®šä¹‰è¢«éšè—ï¼Œæˆ–ç±»å®šä¹‰ä¸èƒ½ç”¨äºç”Ÿæˆå­ç±»ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="è£…é¥°å™¨æ¨¡å¼ç»“æ„å›¾"></p><h5 id="è£…é¥°å™¨æ¨¡å¼æœ‰ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š">è£…é¥°å™¨æ¨¡å¼æœ‰ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š</h5><ol><li><p><strong>æŠ½è±¡ç»„ä»¶ï¼ˆComponentï¼‰</strong></p><blockquote><p>å®šä¹‰äº†å¯¹è±¡çš„åŸºæœ¬æ¥å£ï¼Œå¯ä»¥æ˜¯æŠ½è±¡ç±»æˆ–æ¥å£ï¼Œå®ƒæ˜¯è¢«è£…é¥°è€…å’Œè£…é¥°è€…å…±åŒå®ç°çš„æ¥å£ã€‚</p></blockquote></li><li><p><strong>å…·ä½“ç»„ä»¶ï¼ˆConcrete Componentï¼‰</strong></p><blockquote><p>å®ç°äº†æŠ½è±¡ç»„ä»¶æ¥å£ï¼Œæ˜¯è¢«è£…é¥°çš„å¯¹è±¡ï¼Œå³è¢«æ·»åŠ æ–°è¡Œä¸ºçš„å¯¹è±¡ã€‚</p></blockquote></li><li><p><strong>è£…é¥°å™¨ï¼ˆDecoratorï¼‰</strong></p><blockquote><p>ç»§æ‰¿è‡ªæŠ½è±¡ç»„ä»¶ï¼ŒåŒ…å«äº†ä¸€ä¸ªæŠ½è±¡ç»„ä»¶çš„å¼•ç”¨ï¼Œå¹¶ä¸”å®šä¹‰äº†ä¸æŠ½è±¡ç»„ä»¶æ¥å£ç›¸åŒçš„æ¥å£ã€‚è£…é¥°å™¨å¯ä»¥æ·»åŠ æ–°çš„è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥åœ¨æ‰§è¡ŒåŸæœ‰è¡Œä¸ºå‰åæ·»åŠ é¢å¤–çš„å¤„ç†é€»è¾‘ã€‚</p></blockquote></li></ol><h5 id="è£…é¥°å™¨æ¨¡å¼å‚è€ƒä»£ç å®ç°">è£…é¥°å™¨æ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* è£…é¥°å™¨æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡äººç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Person</span>() &#123; ; &#125;</span><br><span class="line"><span class="built_in">Person</span>(string n) :<span class="built_in">name</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">Person</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡è£…é¥°å™¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Decorator</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Person* person;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Decorator</span>(Person* p) :<span class="built_in">person</span>(p) &#123; ; &#125;</span><br><span class="line">~<span class="built_in">Decorator</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è£…é¥°å™¨Aç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DecoratorA</span> :<span class="keyword">public</span> Decorator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">DecoratorA</span>(Person* p) :<span class="built_in">Decorator</span>(p) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">person-&gt;<span class="built_in">Operation</span>(); <span class="comment">// åŸæœ¬çš„èŒè´£</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ–°å¢çš„èŒè´£ï¼šç ”ç©¶ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">DecoratorA</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“è£…é¥°å™¨Bç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DecoratorB</span> :<span class="keyword">public</span> Decorator</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">DecoratorB</span>(Person* p) :<span class="built_in">Decorator</span>(p) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">person-&gt;<span class="built_in">Operation</span>(); <span class="comment">// åŸæœ¬çš„èŒè´£</span></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ–°å¢çš„èŒè´£ï¼šè€ƒè¯•ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">DecoratorB</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å­¦ç”Ÿç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> :<span class="keyword">public</span> Person</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Student</span>(string n) :<span class="built_in">Person</span>(n) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Operation</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; name &lt;&lt; <span class="string">&quot;çš„èŒè´£ï¼šå­¦ä¹ ï¼&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Student</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Person* zhangsan = <span class="keyword">new</span> <span class="built_in">Student</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">zhangsan-&gt;<span class="built_in">Operation</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;==========åˆ†å‰²çº¿===========&quot;</span> &lt;&lt; endl;</span><br><span class="line">zhangsan = <span class="keyword">new</span> <span class="built_in">DecoratorA</span>(zhangsan);</span><br><span class="line">zhangsan-&gt;<span class="built_in">Operation</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;==========åˆ†å‰²çº¿===========&quot;</span> &lt;&lt; endl;</span><br><span class="line">zhangsan = <span class="keyword">new</span> <span class="built_in">DecoratorB</span>(zhangsan);</span><br><span class="line">zhangsan-&gt;<span class="built_in">Operation</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è£…é¥°å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š">è£…é¥°å™¨æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</h5><blockquote><p>è£…é¥°å™¨æ¨¡å¼ä¼˜ç‚¹:</p><ol><li>åŠ¨æ€æ‰©å±•åŠŸèƒ½ï¼šè£…é¥°å™¨æ¨¡å¼å…è®¸åœ¨ä¸ä¿®æ”¹åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹å¯¹è±¡çš„è¡Œä¸ºï¼Œä»è€Œå®ç°äº†åŠŸèƒ½çš„åŠ¨æ€æ‰©å±•ï¼Œé¿å…äº†ç»§æ‰¿çš„é™æ€æ‰©å±•æ–¹å¼å¯èƒ½å¼•å‘çš„ç±»çˆ†ç‚¸é—®é¢˜ã€‚</li><li>å•ä¸€èŒè´£åŸåˆ™ï¼šè£…é¥°å™¨æ¨¡å¼å°†åŠŸèƒ½çš„æ·»åŠ å’ŒåŸæœ‰å¯¹è±¡çš„å®ç°è§£è€¦ï¼Œä½¿å¾—æ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªå•ä¸€çš„èŒè´£ï¼Œç¬¦åˆè®¾è®¡åŸåˆ™ä¸­çš„å•ä¸€èŒè´£åŸåˆ™ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</li><li>çµæ´»æ€§å’Œå¯ç»„åˆæ€§ï¼šç”±äºè£…é¥°å™¨æ¨¡å¼é€šè¿‡ç»„åˆçš„æ–¹å¼å®ç°åŠŸèƒ½çš„æ‰©å±•ï¼Œå› æ­¤å¯ä»¥çµæ´»åœ°ç»„åˆå¤šä¸ªè£…é¥°å™¨å¯¹è±¡ï¼Œå®ç°ä¸åŒåŠŸèƒ½çš„ç»„åˆï¼Œå…·æœ‰è¾ƒé«˜çš„çµæ´»æ€§å’Œå¯ç»„åˆæ€§ã€‚</li></ol><p>è£…é¥°å™¨æ¨¡å¼ç¼ºç‚¹:</p><ol><li>å¤šå±‚åµŒå¥—ï¼šä½¿ç”¨è£…é¥°å™¨æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´å¤šå±‚åµŒå¥—çš„è£…é¥°å™¨å¯¹è±¡ï¼Œä»è€Œå¢åŠ äº†ä»£ç çš„å¤æ‚æ€§å’Œç†è§£éš¾åº¦ã€‚</li><li>æ¥å£å¢å¤šï¼šæ¯ä¸ªè£…é¥°å™¨éƒ½éœ€è¦å®ç°ä¸æŠ½è±¡ç»„ä»¶ç›¸åŒçš„æ¥å£ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¥å£çš„å¢å¤šï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ å¤æ‚ã€‚</li><li>è¿è¡Œæ—¶æ€§èƒ½æŸè€—ï¼šç”±äºè£…é¥°å™¨æ¨¡å¼é‡‡ç”¨äº†åŠ¨æ€æ·»åŠ è¡Œä¸ºçš„æ–¹å¼ï¼Œå¯èƒ½ä¼šåœ¨è¿è¡Œæ—¶å¼•å…¥ä¸€å®šçš„æ€§èƒ½æŸè€—ï¼Œå°¤å…¶æ˜¯åœ¨è£…é¥°å™¨é“¾è¾ƒé•¿çš„æƒ…å†µä¸‹ã€‚</li></ol></blockquote><hr><h3 id="äº”ã€å¤–è§‚æ¨¡å¼ï¼ˆFacade-Patternï¼‰">äº”ã€å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</h3><blockquote><p>å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå±äºç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç®€åŒ–å¤æ‚ç³»ç»Ÿæ¥å£çš„é«˜å±‚æ¥å£ï¼Œç”¨äºç®€åŒ–å®¢æˆ·ç«¯ä¸ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ã€‚å¤–è§‚æ¨¡å¼é€šè¿‡éšè—ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå°†ä¸€ç»„å¤æ‚çš„å­ç³»ç»Ÿæ¥å£å°è£…æˆä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä»è€Œæä¾›äº†ä¸€ä¸ªæ›´åŠ ç®€å•ã€æ˜“äºä½¿ç”¨çš„æ¥å£ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ã€‚</p><p>å¤–è§‚æ¨¡å¼é€šå¸¸åŒ…å«ä¸€ä¸ªå¤–è§‚ç±»ï¼ˆFacade Classï¼‰ï¼Œè¯¥ç±»ä½œä¸ºå®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿä¹‹é—´çš„ä¸­ä»‹ï¼Œéšè—äº†å­ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ã€‚å¤–è§‚ç±»å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé—¨é¢ï¼Œå°†å¤æ‚çš„å­ç³»ç»Ÿçš„æ¥å£åŒ…è£…åœ¨ä¸€èµ·ï¼Œä¸ºå®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„å…¥å£ç‚¹ã€‚</p><p><u>æ„å›¾ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼ŒFacade æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</u></p><p><u><code>Facade Patterné€‚ç”¨äºï¼š</code></u></p><ol><li><u>è¦ä¸ºä¸€ä¸ªå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•æ¥å£æ—¶</u>ï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚å¤§å¤šæ•°æ¨¡å¼ä½¿ç”¨æ—¶éƒ½ä¼šäº§ç”Ÿæ›´å¤šæ›´å°çš„ç±»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿæ›´å…·æœ‰å¯é‡ç”¨æ€§ï¼Œä¹Ÿæ›´å®¹æ˜“å¯¹å­ç³»ç»Ÿè¿›è¡Œå®šåˆ¶ï¼Œä½†ä¹Ÿç»™é‚£äº›ä¸éœ€è¦å®šåˆ¶å­ç³»ç»Ÿçš„ç”¨æˆ·å¸¦æ¥äº†ä¸€äº›ä½¿ç”¨ä¸Šçš„å›°éš¾ã€‚Facade å¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„é»˜è®¤è§†å›¾ï¼Œè¿™ä¸€è§†å›¾å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´å·²ç»è¶³å¤Ÿï¼Œè€Œé‚£äº›éœ€è¦æ›´å¤šçš„å¯å®šåˆ¶çš„ç”¨æˆ·å¯ä»¥è¶Šè¿‡ Facade å±‚ã€‚</li><li><u>å®¢æˆ·ç¨‹åºä¸æŠ½è±¡ç±»çš„å®ç°éƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤§çš„ä¾èµ–æ€§</u>ã€‚å¼•å…¥ Facade å°†è¿™ä¸ªå­ç³»ç»Ÿä¸å®¢æˆ·ä»¥åŠå…¶ä»–çš„å­ç³»ç»Ÿåˆ†ç¦»ï¼Œå¯ä»¥æé«˜å­ç³»ç»Ÿçš„ç‹¬ç«‹æ€§å’Œå¯ç§»æ¤æ€§ã€‚</li><li><u>å½“éœ€è¦æ„å»ºä¸€ä¸ªå±‚æ¬¡ç»“æ„çš„å­ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ Facade æ¨¡å¼å®šä¹‰å­ç³»ç»Ÿä¸­æ¯å±‚çš„å…¥å£ç‚¹</u>ã€‚å¦‚æœå­ç³»ç»Ÿä¹‹é—´æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œåˆ™å¯ä»¥è®©å®ƒä»¬ä»…é€šè¿‡ Facade è¿›è¡Œé€šä¿¡ï¼Œä»è€Œç®€åŒ–äº†å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="å¤–è§‚æ¨¡å¼ç»“æ„å›¾"></p><h5 id="å¤–è§‚æ¨¡å¼æœ‰ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š">å¤–è§‚æ¨¡å¼æœ‰ä¸‰ä¸ªå…³é”®è§’è‰²ï¼š</h5><ol><li><p><strong>å¤–è§‚ï¼ˆFacadeï¼‰</strong></p><blockquote><p>å¤–è§‚ç±»æ˜¯å¤–è§‚æ¨¡å¼çš„æ ¸å¿ƒï¼Œæä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ä¾›å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œéšè—äº†å­ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚å¤–è§‚ç±»é€šå¸¸åŒ…å«å¯¹å­ç³»ç»Ÿçš„ä¸€ç³»åˆ—è°ƒç”¨ï¼Œåè°ƒå’Œç®¡ç†å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚</p></blockquote></li><li><p><strong>å­ç³»ç»Ÿï¼ˆSubsystemï¼‰</strong></p><blockquote><p>å­ç³»ç»Ÿæ˜¯ä¸€ç»„ç›¸å…³çš„ç±»æˆ–å¯¹è±¡ï¼Œå®ç°äº†å¤æ‚çš„åŠŸèƒ½ï¼Œä½†å¯¹å®¢æˆ·ç«¯æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚å­ç³»ç»Ÿç”±å¤–è§‚ç±»æ‰€å°è£…ï¼Œå¤–è§‚ç±»é€šè¿‡è°ƒç”¨å­ç³»ç»Ÿçš„æ¥å£æ¥å®ç°å¯¹å…¶åŠŸèƒ½çš„è®¿é—®ã€‚</p></blockquote></li><li><p><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong></p><blockquote><p>å®¢æˆ·ç«¯æ˜¯ä½¿ç”¨å¤–è§‚æ¨¡å¼çš„å¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨å¤–è§‚ç±»æä¾›çš„ç®€åŒ–æ¥å£æ¥è®¿é—®å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚å®¢æˆ·ç«¯ä¸ç›´æ¥ä¸å­ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡å¤–è§‚ç±»æ¥é—´æ¥è®¿é—®å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚</p></blockquote></li></ol><h5 id="å¤–è§‚æ¨¡å¼å‚è€ƒä»£ç å®ç°">å¤–è§‚æ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å¤–è§‚æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç³»ç»ŸA</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubSystemA</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œå­ç³»ç»ŸAçš„åŠŸèƒ½ã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç³»ç»ŸB</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubSystemB</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printB</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œå­ç³»ç»ŸBçš„åŠŸèƒ½ã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç³»ç»ŸC</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubSystemC</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printC</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œå­ç³»ç»ŸCçš„åŠŸèƒ½ã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤–è§‚ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Facade</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">SubSystemA* sa;</span><br><span class="line">SubSystemB* sb;</span><br><span class="line">SubSystemC* sc;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Facade</span>()</span><br><span class="line">&#123;</span><br><span class="line">sa = <span class="keyword">new</span>  <span class="built_in">SubSystemA</span>();</span><br><span class="line">sb = <span class="keyword">new</span>  <span class="built_in">SubSystemB</span>();</span><br><span class="line">sc = <span class="keyword">new</span>  <span class="built_in">SubSystemC</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintA</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">sa-&gt;<span class="built_in">printA</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintB</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">sb-&gt;<span class="built_in">printB</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">PrintC</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">sc-&gt;<span class="built_in">printC</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Facade* facade = <span class="keyword">new</span> <span class="built_in">Facade</span>();</span><br><span class="line">facade-&gt;<span class="built_in">PrintA</span>();</span><br><span class="line">facade-&gt;<span class="built_in">PrintB</span>();</span><br><span class="line">facade-&gt;<span class="built_in">PrintC</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š">å¤–è§‚æ¨¡å¼çš„ä¼˜ç¼ºç‚¹ï¼š</h5><blockquote><p>å¤–è§‚æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>ç®€åŒ–å®¢æˆ·ç«¯ä»£ç ï¼šå¤–è§‚æ¨¡å¼æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œä½¿å¾—å®¢æˆ·ç«¯è°ƒç”¨å­ç³»ç»Ÿçš„åŠŸèƒ½å˜å¾—ç®€å•å’Œæ–¹ä¾¿ï¼Œå‡å°‘äº†å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿä¹‹é—´çš„è€¦åˆï¼Œç®€åŒ–äº†å®¢æˆ·ç«¯çš„ä»£ç ã€‚</li><li>å°è£…å¤æ‚æ€§ï¼šå¤–è§‚æ¨¡å¼å°†å­ç³»ç»Ÿçš„å¤æ‚æ€§å°è£…åœ¨ä¸€ä¸ªå¤–è§‚ç±»ä¸­ï¼Œå¯¹å®¢æˆ·ç«¯æ¥è¯´ï¼Œå­ç³»ç»Ÿçš„å¤æ‚æ€§å˜å¾—ä¸å¯è§ï¼Œä»è€Œé™ä½äº†å®¢æˆ·ç«¯ç†è§£å’Œä½¿ç”¨å­ç³»ç»Ÿçš„éš¾åº¦ã€‚</li><li>æé«˜ç³»ç»Ÿçµæ´»æ€§ï¼šç”±äºå®¢æˆ·ç«¯åªä¸å¤–è§‚ç±»äº¤äº’ï¼Œè€Œä¸ç›´æ¥ä¸å­ç³»ç»Ÿäº¤äº’ï¼Œå› æ­¤åœ¨ä¸å½±å“å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥çµæ´»åœ°ä¿®æ”¹å’Œæ‰©å±•å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚</li></ol><p>å¤–è§‚æ¨¡å¼çš„ç¼ºç‚¹ï¼š</p><ol><li>å¢åŠ äº†ä¸€ä¸ªå¤–è§‚ç±»ï¼šå¼•å…¥äº†å¤–è§‚ç±»ä½œä¸ºå®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§å’Œå¼€å‘æˆæœ¬ã€‚</li><li>ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼šå¦‚æœéœ€è¦ä¿®æ”¹æˆ–è€…æ‰©å±•å­ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»çš„æ¥å£æˆ–è€…å®ç°ï¼Œä»è€Œè¿åäº†å¼€é—­åŸåˆ™ã€‚</li><li>ä¾èµ–å­ç³»ç»Ÿï¼šå¤–è§‚æ¨¡å¼ä¾èµ–äºå­ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¦‚æœå­ç³»ç»Ÿå‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤–è§‚ç±»çš„ä¿®æ”¹ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„ç»´æŠ¤æˆæœ¬ã€‚</li></ol></blockquote><hr><h3 id="å…­ã€äº«å…ƒæ¨¡å¼ï¼ˆFlyweight-Patternï¼‰">å…­ã€äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰</h3><blockquote><p>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºé€šè¿‡å…±äº«å¯¹è±¡ä»¥èŠ‚çœå†…å­˜å’Œæé«˜æ€§èƒ½ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å…±äº«ç»†ç²’åº¦çš„å¯¹è±¡ï¼Œä»¥å‡å°‘å†…å­˜ä½¿ç”¨å’Œå¯¹è±¡åˆ›å»ºçš„å¼€é”€ã€‚</p><p>åœ¨äº«å…ƒæ¨¡å¼ä¸­ï¼Œå¯¹è±¡åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šå†…éƒ¨çŠ¶æ€ï¼ˆIntrinsic Stateï¼‰å’Œå¤–éƒ¨çŠ¶æ€ï¼ˆExtrinsic Stateï¼‰ã€‚å†…éƒ¨çŠ¶æ€æ˜¯å¯ä»¥è¢«å…±äº«çš„ï¼Œè€Œå¤–éƒ¨çŠ¶æ€æ˜¯ä¸å¯å…±äº«çš„ã€‚å†…éƒ¨çŠ¶æ€æ˜¯å¯¹è±¡å›ºæœ‰çš„å±æ€§ï¼Œå®ƒä¸ä¼šéšç€å¤–éƒ¨ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤å¯ä»¥è¢«å¤šä¸ªå¯¹è±¡å…±äº«ã€‚å¤–éƒ¨çŠ¶æ€æ˜¯å¯¹è±¡çš„ä¸€äº›å˜åŒ–è¾ƒé¢‘ç¹çš„å±æ€§ï¼Œå®ƒä¼šéšç€å¤–éƒ¨ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤ä¸é€‚åˆè¢«å…±äº«ã€‚</p><p>äº«å…ƒæ¨¡å¼é€šè¿‡å°†å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€è¿›è¡Œåˆ†ç¦»ï¼Œå°†å†…éƒ¨çŠ¶æ€ä½œä¸ºå…±äº«çš„éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨å¤šä¸ªå¯¹è±¡ä¹‹é—´å…±äº«ä½¿ç”¨ï¼Œä»è€ŒèŠ‚çœå†…å­˜ç©ºé—´ã€‚è€Œå¤–éƒ¨çŠ¶æ€åˆ™é€šè¿‡å‚æ•°çš„æ–¹å¼ä¼ é€’ç»™å¯¹è±¡ï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œè®¾ç½®ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡å¯ä»¥å…±äº«å†…éƒ¨çŠ¶æ€ï¼Œä½†å¯ä»¥æœ‰ä¸åŒçš„å¤–éƒ¨çŠ¶æ€ã€‚</p><p><u>æ„å›¾ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</u></p><p><u><code>Flyweight Patterné€‚ç”¨äº:</code></u></p><ol><li>ä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ã€‚</li><li>å®Œå…¨ç”±äºå¤§é‡çš„å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§çš„å­˜å‚¨å¼€é”€ã€‚</li><li>å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯å˜ä¸ºå¤–éƒ¨çŠ¶æ€ã€‚</li><li>å¦‚æœåˆ é™¤å¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥å®Œå…¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¾ˆå¤šç»„å¯¹è±¡ã€‚</li><li>å¦‚æœç¨‹åºä¸ä¾èµ–äºå¯¹è±¡æ ‡è¯†ã€‚ç”±äº Flyweight å¯¹è±¡å¯ä»¥è¢«å…±äº«ï¼Œæ‰€ä»¥å¯¹äºæ¦‚å¿µä¸Šæ˜æ˜¾æœ‰åˆ«çš„å¯¹è±¡ï¼Œæ ‡è¯†æµ‹è¯•å°†è¿”å›çœŸå€¼ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="äº«å…ƒæ¨¡å¼ç»“æ„å›¾"></p><h5 id="äº«å…ƒæ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š">äº«å…ƒæ¨¡å¼é€šå¸¸åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</h5><ol><li><p><strong>Flyweightï¼ˆæŠ½è±¡äº«å…ƒç±»ï¼‰</strong></p><blockquote><p>å®šä¹‰äº†äº«å…ƒå¯¹è±¡çš„æ¥å£ï¼ŒåŒ…å«äº†éœ€è¦è¢«å…±äº«çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>ConcreteFlyweightï¼ˆå…·ä½“äº«å…ƒç±»ï¼‰</strong></p><blockquote><p>å®ç°äº†æŠ½è±¡äº«å…ƒç±»çš„æ¥å£ï¼Œå®ç°äº†å…±äº«çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>UnsharedConcreteFlyweightï¼ˆéå…±äº«å…·ä½“äº«å…ƒç±»ï¼‰</strong></p><blockquote><p>ä¸å¯ä»¥è¢«å…±äº«çš„å…·ä½“äº«å…ƒç±»ï¼Œä¸€èˆ¬ä¸å®ç°å…±äº«çš„æ–¹æ³•ã€‚</p></blockquote></li><li><p><strong>FlyweightFactoryï¼ˆäº«å…ƒå·¥å‚ç±»ï¼‰</strong></p><blockquote><p>è´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒå¯¹è±¡ï¼Œå®ç°äº†äº«å…ƒå¯¹è±¡çš„å…±äº«æ± ï¼Œå¯ä»¥é€šè¿‡å·¥å‚æ–¹æ³•è·å–äº«å…ƒå¯¹è±¡ã€‚</p></blockquote></li><li><p><strong>Clientï¼ˆå®¢æˆ·ç«¯ï¼‰</strong></p><blockquote><p>ä½¿ç”¨äº«å…ƒå¯¹è±¡çš„å®¢æˆ·ç«¯ï¼Œé€šè¿‡äº«å…ƒå·¥å‚è·å–äº«å…ƒå¯¹è±¡ï¼Œå¹¶é€šè¿‡å¤–éƒ¨çŠ¶æ€å¯¹äº«å…ƒå¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p></blockquote></li></ol><h5 id="äº«å…ƒæ¨¡å¼å‚è€ƒä»£ç å®ç°">äº«å…ƒæ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* äº«å…ƒæ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡æ£‹å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Piece</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">string color;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Piece</span>() &#123; ; &#125;</span><br><span class="line"><span class="built_in">Piece</span>(string c) :<span class="built_in">color</span>(c) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>= <span class="number">0</span>;</span><br><span class="line">~<span class="built_in">Piece</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ç™½æ£‹ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WhitePiece</span> :<span class="keyword">public</span> Piece</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">WhitePiece</span>() :<span class="built_in">Piece</span>(<span class="string">&quot;white&quot;</span>) &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Draw a Color: &quot;</span> &lt;&lt; color &lt;&lt; <span class="string">&quot;, Piece (x, y) : &quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; <span class="string">&quot;, Address: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">WhitePiece</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“é»‘æ£‹ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FlyweightPiece</span> :<span class="keyword">public</span> Piece</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">FlyweightPiece</span>(string c)</span><br><span class="line">&#123;</span><br><span class="line">color = c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Draw</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Draw a Color: &quot;</span> &lt;&lt; color &lt;&lt; <span class="string">&quot;, Piece (x, y) : &quot;</span> &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; y &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; <span class="string">&quot;, Address: &quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">FlyweightPiece</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº«å…ƒæ£‹å­å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PieceFactory</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">unordered_map&lt;<span class="type">int</span>, Piece*&gt; pieces;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function">Piece* <span class="title">GetPiece</span><span class="params">(<span class="type">int</span> key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (pieces.<span class="built_in">find</span>(key) == pieces.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">pieces[key] = <span class="keyword">new</span> <span class="built_in">WhitePiece</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;create color: &quot;</span> &lt;&lt; pieces[key] &lt;&lt; <span class="string">&quot; Piece.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Piece: &quot;</span> &lt;&lt; pieces[key] &lt;&lt; <span class="string">&quot; is exist.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pieces[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Piece* <span class="title">GetFlyweightPiece</span><span class="params">(string n, <span class="type">int</span> key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (pieces.<span class="built_in">find</span>(key) == pieces.<span class="built_in">end</span>())</span><br><span class="line">&#123;</span><br><span class="line">pieces[key] = <span class="keyword">new</span> <span class="built_in">FlyweightPiece</span>(n);</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;create color: &quot;</span> &lt;&lt; pieces[key] &lt;&lt; <span class="string">&quot; Piece.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Piece: &quot;</span> &lt;&lt; pieces[key] &lt;&lt; <span class="string">&quot; is exist.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pieces[key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">PieceFactory* factory = <span class="keyword">new</span> <span class="built_in">PieceFactory</span>();</span><br><span class="line">Piece* piece1 = factory-&gt;<span class="built_in">GetPiece</span>(<span class="number">1</span>);</span><br><span class="line">piece1-&gt;<span class="built_in">Draw</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">Piece* piece2 = factory-&gt;<span class="built_in">GetPiece</span>(<span class="number">2</span>);</span><br><span class="line">piece2-&gt;<span class="built_in">Draw</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">Piece* piece3 = factory-&gt;<span class="built_in">GetPiece</span>(<span class="number">1</span>);</span><br><span class="line">piece3-&gt;<span class="built_in">Draw</span>(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">Piece* piece4 = factory-&gt;<span class="built_in">GetPiece</span>(<span class="number">2</span>);</span><br><span class="line">piece4-&gt;<span class="built_in">Draw</span>(<span class="number">7</span>, <span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; <span class="string">&quot;=======åˆ†å‰²çº¿========&quot;</span> &lt;&lt; endl;</span><br><span class="line">Piece* piece5 = factory-&gt;<span class="built_in">GetFlyweightPiece</span>(<span class="string">&quot;balck&quot;</span>, <span class="number">3</span>);</span><br><span class="line">piece5-&gt;<span class="built_in">Draw</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">Piece* piece6 = factory-&gt;<span class="built_in">GetFlyweightPiece</span>(<span class="string">&quot;balck&quot;</span>, <span class="number">3</span>);</span><br><span class="line">piece6-&gt;<span class="built_in">Draw</span>(<span class="number">3</span>, <span class="number">4</span>); <span class="comment">// å…±äº«balckåœ°å€</span></span><br><span class="line">Piece* piece7 = factory-&gt;<span class="built_in">GetFlyweightPiece</span>(<span class="string">&quot;white&quot;</span>, <span class="number">4</span>);</span><br><span class="line">piece7-&gt;<span class="built_in">Draw</span>(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">Piece* piece8 = factory-&gt;<span class="built_in">GetFlyweightPiece</span>(<span class="string">&quot;balck&quot;</span>, <span class="number">4</span>);</span><br><span class="line">piece8-&gt;<span class="built_in">Draw</span>(<span class="number">7</span>, <span class="number">8</span>); <span class="comment">// å…±äº«whiteåœ°å€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹">äº«å…ƒæ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><blockquote><p>äº«å…ƒæ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>èŠ‚çœå†…å­˜ï¼šäº«å…ƒæ¨¡å¼é€šè¿‡å…±äº«ç›¸åŒçš„å¯¹è±¡å®ä¾‹æ¥å‡å°‘å†…å­˜æ¶ˆè€—ã€‚å½“å¤šä¸ªå¯¹è±¡éœ€è¦ç›¸åŒçš„æ•°æ®æ—¶ï¼Œå¯ä»¥é€šè¿‡å…±äº«ä¸€ä¸ªäº«å…ƒå¯¹è±¡å®ä¾‹æ¥é¿å…åˆ›å»ºå¤šä¸ªç›¸åŒçš„å¯¹è±¡ï¼Œä»è€Œå‡å°‘å†…å­˜ä½¿ç”¨ã€‚</li><li>æé«˜æ€§èƒ½ï¼šç”±äºäº«å…ƒæ¨¡å¼å…±äº«å¯¹è±¡å®ä¾‹ï¼Œå¯ä»¥å‡å°‘å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯æ¬¡æ•°ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚ç‰¹åˆ«æ˜¯åœ¨éœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨äº«å…ƒæ¨¡å¼å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</li><li>ç®€åŒ–å¯¹è±¡ç®¡ç†ï¼šäº«å…ƒæ¨¡å¼å°†å…±äº«å¯¹è±¡çš„ç®¡ç†é›†ä¸­åŒ–ï¼Œä½¿å¾—å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯æ›´åŠ ç®€åŒ–å’Œé›†ä¸­åŒ–ã€‚è¿™æœ‰åŠ©äºé™ä½ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå‡å°‘äº†å¯¹è±¡ç®¡ç†çš„å¼€é”€ã€‚</li><li>æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ï¼šäº«å…ƒæ¨¡å¼å¯ä»¥æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡å…±äº«ï¼Œä»è€Œå¯ä»¥åœ¨éœ€è¦å¤„ç†å¤§é‡å¯¹è±¡æ—¶ï¼Œæœ‰æ•ˆåœ°å‡å°‘å¯¹è±¡çš„æ•°é‡ï¼Œä»è€Œé™ä½ç³»ç»Ÿçš„å¼€é”€ã€‚</li></ol><p>äº«å…ƒæ¨¡å¼çš„ç¼ºç‚¹</p><ol><li>å…±äº«å¯¹è±¡å¯èƒ½å¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼šå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å…±äº«çš„äº«å…ƒå¯¹è±¡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œéœ€è¦è¿›è¡Œé€‚å½“çš„çº¿ç¨‹åŒæ­¥æªæ–½ã€‚</li><li>å¯¹è±¡å…±äº«å¯èƒ½å¯¼è‡´çŠ¶æ€å…±äº«ï¼šäº«å…ƒæ¨¡å¼ä¸­çš„å¯¹è±¡å…±äº«å¯èƒ½å¯¼è‡´ä¸åŒå¯¹è±¡ä¹‹é—´å…±äº«çŠ¶æ€ï¼Œè¿™å¯èƒ½ä¼šå¯¹ç³»ç»Ÿçš„è¡Œä¸ºäº§ç”Ÿæ„å¤–çš„å½±å“ï¼Œéœ€è¦ä»”ç»†è®¾è®¡å’Œç®¡ç†å…±äº«çŠ¶æ€ã€‚</li><li>å¯¹è±¡çš„å¤ç”¨å¯èƒ½å—é™ï¼šæŸäº›å¯¹è±¡å¯èƒ½æ— æ³•è¢«å¤ç”¨ï¼Œå› ä¸ºå®ƒä»¬åŒ…å«äº†ä¸åŒçš„çŠ¶æ€æˆ–è¡Œä¸ºï¼Œæ— æ³•ä½œä¸ºå…±äº«å¯¹è±¡è¿›è¡Œå…±äº«ã€‚</li><li>å¢åŠ äº†ç³»ç»Ÿå¤æ‚æ€§ï¼šäº«å…ƒæ¨¡å¼å¼•å…¥äº†å…±äº«å¯¹è±¡çš„ç®¡ç†é€»è¾‘ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œéœ€è¦é¢å¤–çš„ç®¡ç†å’Œç»´æŠ¤å·¥ä½œã€‚</li></ol></blockquote><hr><h3 id="ä¸ƒã€ä»£ç†æ¨¡å¼ï¼ˆProxy-Patternï¼‰">ä¸ƒã€ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</h3><blockquote><p>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†æˆ–è€…å ä½ç¬¦ï¼Œä»¥æ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ã€‚</p><p><u>æ„å›¾ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</u></p><p>åœ¨ä»£ç†æ¨¡å¼ä¸­ï¼Œä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰å……å½“äº†å®¢æˆ·ç«¯ä¸åŸå§‹å¯¹è±¡ä¹‹é—´çš„ä¸­ä»‹ã€‚å®¢æˆ·ç«¯é€šè¿‡ä»£ç†å¯¹è±¡æ¥è®¿é—®åŸå§‹å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥è®¿é—®åŸå§‹å¯¹è±¡ã€‚ä»£ç†å¯¹è±¡è´Ÿè´£å¤„ç†ä¸åŸå§‹å¯¹è±¡ç›¸å…³çš„ä¸€äº›é¢å¤–åŠŸèƒ½ï¼Œä¾‹å¦‚æƒé™æ§åˆ¶ã€æ€§èƒ½ä¼˜åŒ–ã€å»¶è¿ŸåŠ è½½ã€ç¼“å­˜ç­‰ã€‚</p><p><u><code>Proxy Patterné€‚ç”¨äº</code></u></p><ol><li>è¿œç¨‹ä»£ç†ï¼ˆRemote Proxyï¼‰ï¼šç”¨äºè®¿é—®ä½äºè¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å¯¹è±¡ï¼Œä¾‹å¦‚ç½‘ç»œæœåŠ¡ã€WebæœåŠ¡ç­‰ã€‚</li><li>è™šæ‹Ÿä»£ç†ï¼ˆVirtual Proxyï¼‰ï¼šç”¨äºå»¶è¿ŸåŠ è½½å¯¹è±¡çš„åˆ›å»ºï¼Œç›´åˆ°çœŸæ­£éœ€è¦è®¿é—®å¯¹è±¡æ—¶æ‰è¿›è¡Œå®é™…åˆ›å»ºã€‚</li><li>å®‰å…¨ä»£ç†ï¼ˆProtection Proxyï¼‰ï¼šç”¨äºæ§åˆ¶å¯¹æ•æ„Ÿå¯¹è±¡çš„è®¿é—®æƒé™ï¼Œä¾‹å¦‚æƒé™éªŒè¯ã€èº«ä»½éªŒè¯ç­‰ã€‚</li><li>æ™ºèƒ½ä»£ç†ï¼ˆSmart Proxyï¼‰ï¼šç”¨äºåœ¨è®¿é—®å¯¹è±¡æ—¶æ·»åŠ é¢å¤–çš„è¡Œä¸ºï¼Œä¾‹å¦‚æ€§èƒ½ç›‘æ§ã€æ—¥å¿—è®°å½•ã€ç¼“å­˜ç®¡ç†ç­‰ã€‚</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/AzureBubble/PicBed@main/showImg/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.png" alt="ä»£ç†æ¨¡å¼ç»“æ„å›¾"></p><h5 id="ä»£ç†æ¨¡å¼æœ‰å››ä¸ªå…³é”®è§’è‰²ï¼š">ä»£ç†æ¨¡å¼æœ‰å››ä¸ªå…³é”®è§’è‰²ï¼š</h5><ol><li><p><strong>æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰</strong></p><blockquote><p>å®šä¹‰äº†çœŸå®ä¸»é¢˜å’Œä»£ç†ä¸»é¢˜å…±åŒçš„æ¥å£ï¼Œå¯ä»¥æ˜¯æ¥å£ï¼ˆInterfaceï¼‰æˆ–æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰ã€‚æŠ½è±¡ä¸»é¢˜å®šä¹‰äº†çœŸå®ä¸»é¢˜å’Œä»£ç†ä¸»é¢˜ä¹‹é—´çš„å…¬å…±æ“ä½œï¼Œå®¢æˆ·ç«¯é€šè¿‡æŠ½è±¡ä¸»é¢˜æ¥è®¿é—®çœŸå®ä¸»é¢˜æˆ–ä»£ç†ä¸»é¢˜ã€‚</p></blockquote></li><li><p><strong>çœŸå®ä¸»é¢˜ï¼ˆReal Subjectï¼‰</strong></p><blockquote><p>å®ç°äº†æŠ½è±¡ä¸»é¢˜æ¥å£ï¼Œæ˜¯ä»£ç†æ¨¡å¼ä¸­çœŸæ­£æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ã€‚çœŸå®ä¸»é¢˜æ˜¯å®¢æˆ·ç«¯æƒ³è¦è®¿é—®çš„å¯¹è±¡ã€‚</p></blockquote></li><li><p><strong>ä»£ç†ï¼ˆProxyï¼‰</strong></p><blockquote><p>å®ç°äº†æŠ½è±¡ä¸»é¢˜æ¥å£ï¼Œæ˜¯å®¢æˆ·ç«¯è®¿é—®çœŸå®ä¸»é¢˜çš„ä»£ç†å¯¹è±¡ã€‚ä»£ç†å¯¹è±¡é€šå¸¸åŒ…å«ä¸€ä¸ªå¯¹çœŸå®ä¸»é¢˜çš„å¼•ç”¨ï¼ŒåŒæ—¶è´Ÿè´£åœ¨è®¿é—®çœŸå®ä¸»é¢˜å‰åæ‰§è¡Œä¸€äº›é¢å¤–çš„æ“ä½œï¼Œä¾‹å¦‚æƒé™æ§åˆ¶ã€æ€§èƒ½ä¼˜åŒ–ã€ç¼“å­˜ç®¡ç†ç­‰ã€‚</p></blockquote></li><li><p><strong>å®¢æˆ·ç«¯ï¼ˆClientï¼‰</strong></p><blockquote><p>é€šè¿‡æŠ½è±¡ä¸»é¢˜æ¥å£æ¥è®¿é—®çœŸå®ä¸»é¢˜æˆ–ä»£ç†å¯¹è±¡ï¼Œå®¢æˆ·ç«¯é€šå¸¸ä¸ç›´æ¥è®¿é—®çœŸå®ä¸»é¢˜ï¼Œè€Œæ˜¯é€šè¿‡ä»£ç†å¯¹è±¡æ¥é—´æ¥è®¿é—®çœŸå®ä¸»é¢˜ã€‚</p></blockquote></li></ol><h5 id="ä»£ç†æ¨¡å¼å‚è€ƒä»£ç å®ç°">ä»£ç†æ¨¡å¼å‚è€ƒä»£ç å®ç°</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä»£ç†æ¨¡å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡ä¸»é¢˜</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Subject</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Subject</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">request</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="keyword">virtual</span> ~<span class="built_in">Subject</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœŸå®ä¸»é¢˜</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RealSubject</span> :<span class="keyword">public</span> Subject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">RealSubject</span>() &#123; ; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">request</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡ŒçœŸå®ä¸»é¢˜çš„è¯·æ±‚ã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">RealSubject</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Proxy</span> :<span class="keyword">public</span> Subject</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">RealSubject* realSubject;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">Proxy</span>()</span><br><span class="line">&#123;</span><br><span class="line">realSubject = <span class="keyword">new</span> <span class="built_in">RealSubject</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">request</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œä»£ç†çš„è¯·æ±‚å‰çš„æ“ä½œã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">realSubject-&gt;<span class="built_in">request</span>();</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;æ‰§è¡Œä»£ç†çš„è¯·æ±‚åçš„æ“ä½œã€‚&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">Proxy</span>() &#123; ; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Subject* proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>();</span><br><span class="line">proxy-&gt;<span class="built_in">request</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ä»£ç†æ¨¡å¼çš„ä¼˜ç¼ºç‚¹">ä»£ç†æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h5><blockquote><p>ä»£ç†æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p><ol><li>ä»£ç†å¯¹è±¡å¯ä»¥æ§åˆ¶å¯¹åŸå§‹å¯¹è±¡çš„è®¿é—®ï¼Œæä¾›äº†ä¸€ç§é—´æ¥çš„æ–¹å¼æ¥ç®¡ç†å¯¹è±¡ï¼Œå¯ä»¥çµæ´»åœ°æ·»åŠ ã€åˆ é™¤æˆ–æ›¿æ¢ä»£ç†å¯¹è±¡ï¼Œè€Œä¸ä¼šå½±å“åˆ°å®¢æˆ·ç«¯ä»£ç ã€‚</li><li>ä»£ç†å¯¹è±¡å¯ä»¥ä¸ºåŸå§‹å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æƒé™æ§åˆ¶ã€æ€§èƒ½ä¼˜åŒ–ã€ç¼“å­˜ç­‰ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚</li><li>ä»£ç†æ¨¡å¼å¯ä»¥éšè—åŸå§‹å¯¹è±¡çš„å®ç°ç»†èŠ‚ï¼Œä¿æŠ¤äº†åŸå§‹å¯¹è±¡çš„å®‰å…¨æ€§ã€‚</li><li>ä»£ç†æ¨¡å¼å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå§‹å¯¹è±¡çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œæ‰©å±•æˆ–æ”¹å˜ã€‚</li></ol><p>ä»£ç†æ¨¡å¼çš„ç¼ºç‚¹ï¼š</p><ol><li>ä»£ç†æ¨¡å¼å¼•å…¥äº†é¢å¤–çš„é—´æ¥å±‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿçš„å¤æ‚æ€§å¢åŠ ã€‚</li><li>ä»£ç†æ¨¡å¼å¯èƒ½ä¼šå¼•å…¥ä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œç‰¹åˆ«æ˜¯åœ¨è¿œç¨‹ä»£ç†å’Œè™šæ‹Ÿä»£ç†ä¸­ï¼Œç”±äºæ¶‰åŠåˆ°ç½‘ç»œé€šä¿¡æˆ–å»¶è¿ŸåŠ è½½çš„æ“ä½œã€‚</li><li>ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„ä»£ç æ¥å®ç°ä»£ç†å¯¹è±¡ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</li></ol></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural-Design-Patternsï¼‰-7ç§&quot;&gt;ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructural Design Patternsï¼‰ - 7ç§&lt;/h2&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼ˆStructura</summary>
      
    
    
    
    <category term="å­¦ä¹ ç¬”è®°" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="C++" scheme="https://azzurebubble.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/C/"/>
    
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://azzurebubble.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    <category term="C++" scheme="https://azzurebubble.github.io/tags/C/"/>
    
    <category term="ç»“æ„å‹è®¾è®¡æ¨¡å¼" scheme="https://azzurebubble.github.io/tags/%E7%BB%93%E6%9E%84%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
</feed>
